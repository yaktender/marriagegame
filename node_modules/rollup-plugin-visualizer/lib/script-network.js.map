{"version":3,"file":"script-network.js","sources":["../node_modules/preact/dist/preact.module.js","../node_modules/preact/hooks/dist/hooks.module.js","../node_modules/htm/dist/htm.module.js","../node_modules/htm/preact/index.module.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/pow.js","../node_modules/bytes/index.js","../node_modules/webcola/dist/src/powergraph.js","../node_modules/webcola/dist/src/linklengths.js","../node_modules/webcola/dist/src/descent.js","../node_modules/webcola/dist/src/vpsc.js","../node_modules/webcola/dist/src/rbtree.js","../node_modules/webcola/dist/src/rectangle.js","../node_modules/webcola/dist/src/pqueue.js","../node_modules/webcola/dist/src/shortestpaths.js","../node_modules/webcola/dist/src/geom.js","../node_modules/webcola/dist/src/handledisconnected.js","../node_modules/webcola/dist/src/layout.js","../node_modules/webcola/dist/src/adaptor.js","../node_modules/webcola/dist/src/d3v3adaptor.js","../node_modules/webcola/dist/src/d3v4adaptor.js","../node_modules/webcola/dist/src/d3adaptor.js","../node_modules/webcola/dist/src/gridrouter.js","../node_modules/webcola/dist/src/layout3d.js","../node_modules/webcola/dist/src/batch.js","../node_modules/webcola/dist/index.js","../src/color.js","../src/sizes.js","../src/script-network.js","../node_modules/d3-array/src/max.js"],"sourcesContent":["var n,l,u,i,t,o,r,f,e={},c=[],s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function a(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function h(n,l,u){var i,t=arguments,o={};for(i in l)\"key\"!==i&&\"ref\"!==i&&(o[i]=l[i]);if(arguments.length>3)for(u=[u],i=3;i<arguments.length;i++)u.push(t[i]);if(null!=u&&(o.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(i in n.defaultProps)void 0===o[i]&&(o[i]=n.defaultProps[i]);return p(n,o,l&&l.key,l&&l.ref)}function p(l,u,i,t){var o={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return n.vnode&&n.vnode(o),o}function y(){return{}}function d(n){return n.children}function m(n,l){this.props=n,this.context=l}function w(n,l){if(null==l)return n.__?w(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?w(n):null}function g(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return g(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!i++||o!==n.debounceRendering)&&((o=n.debounceRendering)||t)(_)}function _(){for(var n;i=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],i=A(r,t,a({},t),l.__n,void 0!==r.ownerSVGElement,null,u,null==o?w(t):o),T(u,t),i!=o&&g(t)))})}function b(n,l,u,i,t,o,r,f,s){var a,h,p,y,d,m,g,k=u&&u.__k||c,_=k.length;if(f==e&&(f=null!=o?o[0]:_?w(u,0):null),a=0,l.__k=x(l.__k,function(u){if(null!=u){if(u.__=l,u.__b=l.__b+1,null===(p=k[a])||p&&u.key==p.key&&u.type===p.type)k[a]=void 0;else for(h=0;h<_;h++){if((p=k[h])&&u.key==p.key&&u.type===p.type){k[h]=void 0;break}p=null}if(y=A(n,u,p=p||e,i,t,o,r,f,s),(h=u.ref)&&p.ref!=h&&(g||(g=[]),p.ref&&g.push(p.ref,null,u),g.push(h,u.__c||y,u)),null!=y){var c;if(null==m&&(m=y),void 0!==u.__d)c=u.__d,u.__d=void 0;else if(o==p||y!=f||null==y.parentNode){n:if(null==f||f.parentNode!==n)n.appendChild(y),c=null;else{for(d=f,h=0;(d=d.nextSibling)&&h<_;h+=2)if(d==y)break n;n.insertBefore(y,f),c=f}\"option\"==l.type&&(n.value=\"\")}f=void 0!==c?c:y.nextSibling,\"function\"==typeof l.type&&(l.__d=f)}else f&&p.__e==f&&f.parentNode!=n&&(f=w(p))}return a++,u}),l.__e=m,null!=o&&\"function\"!=typeof l.type)for(a=o.length;a--;)null!=o[a]&&v(o[a]);for(a=_;a--;)null!=k[a]&&D(k[a],k[a]);if(g)for(a=0;a<g.length;a++)j(g[a],g[++a],g[++a])}function x(n,l,u){if(null==u&&(u=[]),null==n||\"boolean\"==typeof n)l&&u.push(l(null));else if(Array.isArray(n))for(var i=0;i<n.length;i++)x(n[i],l,u);else u.push(l?l(\"string\"==typeof n||\"number\"==typeof n?p(null,n,null,null):null!=n.__e||null!=n.__c?p(n.type,n.props,n.key,null):n):n);return u}function P(n,l,u,i,t){var o;for(o in u)o in l||N(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"value\"===o||\"checked\"===o||u[o]===l[o]||N(n,o,l[o],u[o],i)}function C(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=\"number\"==typeof u&&!1===s.test(l)?u+\"px\":null==u?\"\":u}function N(n,l,u,i,t){var o,r,f,e,c;if(t?\"className\"===l&&(l=\"class\"):\"class\"===l&&(l=\"className\"),\"key\"===l||\"children\"===l);else if(\"style\"===l)if(o=n.style,\"string\"==typeof u)o.cssText=u;else{if(\"string\"==typeof i&&(o.cssText=\"\",i=null),i)for(r in i)u&&r in u||C(o,r,\"\");if(u)for(f in u)i&&u[f]===i[f]||C(o,f,u[f])}else\"o\"===l[0]&&\"n\"===l[1]?(e=l!==(l=l.replace(/Capture$/,\"\")),c=l.toLowerCase(),l=(c in n?c:l).slice(2),u?(i||n.addEventListener(l,z,e),(n.l||(n.l={}))[l]=u):n.removeEventListener(l,z,e)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&\"type\"!==l&&\"size\"!==l&&!t&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/^xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type](n.event?n.event(l):l)}function A(l,u,i,t,o,r,f,e,c){var s,v,h,p,y,w,g,k,_,x,P=u.type;if(void 0!==u.constructor)return null;(s=n.__b)&&s(u);try{n:if(\"function\"==typeof P){if(k=u.props,_=(s=P.contextType)&&t[s.__c],x=s?_?_.props.value:s.__:t,i.__c?g=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(k,x):(u.__c=v=new m(k,x),v.constructor=P,v.render=E),_&&_.sub(v),v.props=k,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=a({},v.__s)),a(v.__s,P.getDerivedStateFromProps(k,v.__s))),p=v.props,y=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&k!==p&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(k,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(k,v.__s,x)){for(v.props=k,v.state=v.__s,v.__d=!1,v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),s=0;s<u.__k.length;s++)u.__k[s]&&(u.__k[s].__=u);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(k,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(p,y,w)})}v.context=x,v.props=k,v.state=v.__s,(s=n.__r)&&s(u),v.__d=!1,v.__v=u,v.__P=l,s=v.render(v.props,v.state,v.context),u.__k=null!=s&&s.type==d&&null==s.key?s.props.children:Array.isArray(s)?s:[s],null!=v.getChildContext&&(t=a(a({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(p,y)),b(l,u,i,t,o,r,f,e,c),v.base=u.__e,v.__h.length&&f.push(v),g&&(v.__E=v.__=null),v.__e=!1}else u.__e=$(i.__e,u,i,t,o,r,f,c);(s=n.diffed)&&s(u)}catch(l){n.__e(l,u,i)}return u.__e}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function $(n,l,u,i,t,o,r,f){var s,a,v,h,p,y=u.props,d=l.props;if(t=\"svg\"===l.type||t,null!=o)for(s=0;s<o.length;s++)if(null!=(a=o[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,o[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type,d.is&&{is:d.is}),o=null}if(null===l.type)y!==d&&n.data!=d&&(n.data=d);else if(l!==u){if(null!=o&&(o=c.slice.call(n.childNodes)),v=(y=u.props||e).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!f){if(y===e)for(y={},p=0;p<n.attributes.length;p++)y[n.attributes[p].name]=n.attributes[p].value;(h||v)&&(h&&v&&h.__html==v.__html||(n.innerHTML=h&&h.__html||\"\"))}P(n,d,y,t,f),l.__k=l.props.children,h||b(n,l,u,i,\"foreignObject\"!==l.type&&t,o,r,e,f),f||(\"value\"in d&&void 0!==d.value&&d.value!==n.value&&(n.value=null==d.value?\"\":d.value),\"checked\"in d&&void 0!==d.checked&&d.checked!==n.checked&&(n.checked=d.checked))}return n}function j(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function D(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||j(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&D(t[r],u,i);null!=o&&v(o)}function E(n,l,u){return this.constructor(n,u)}function H(l,u,i){var t,o,f;n.__&&n.__(l,u),o=(t=i===r)?null:i&&i.__k||u.__k,l=h(d,null,[l]),f=[],A(u,(t?u:i||u).__k=l,o||e,e,void 0!==u.ownerSVGElement,i&&!t?[i]:o?null:c.slice.call(u.childNodes),f,i||e,t),T(f,l)}function I(n,l){H(n,l,r)}function L(n,l){return l=a(a({},n.props),l),arguments.length>2&&(l.children=c.slice.call(arguments,2)),p(n.type,l,l.key||n.key,l.ref||n.ref)}function M(n){var l={},u={__c:\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var i,t=this;return this.getChildContext||(i=[],this.getChildContext=function(){return l[u.__c]=t,l},this.shouldComponentUpdate=function(l){n.value!==l.value&&i.some(function(n){n.context=l.value,k(n)})},this.sub=function(n){i.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){i.splice(i.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Consumer.contextType=u,u}n={__e:function(n,l){for(var u,i;l=l.__;)if((u=l.__c)&&!u.__)try{if(u.constructor&&null!=u.constructor.getDerivedStateFromError&&(i=!0,u.setState(u.constructor.getDerivedStateFromError(n))),null!=u.componentDidCatch&&(i=!0,u.componentDidCatch(n)),i)return k(u.__E=u)}catch(l){n=l}throw n}},l=function(n){return null!=n&&void 0===n.constructor},m.prototype.setState=function(n,l){var u;u=this.__s!==this.state?this.__s:this.__s=a({},this.state),\"function\"==typeof n&&(n=n(u,this.props)),n&&a(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},m.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},m.prototype.render=d,u=[],i=0,t=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,r=e,f=0;export{H as render,I as hydrate,h as createElement,h,d as Fragment,y as createRef,l as isValidElement,m as Component,L as cloneElement,M as createContext,x as toChildArray,D as _unmount,n as options};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i=[],o=n.__r,f=n.diffed,c=n.__c,e=n.unmount;function a(t){n.__h&&n.__h(r);var u=r.__H||(r.__H={__:[],__h:[]});return t>=u.__.length&&u.__.push({}),u.__[t]}function v(n){return m(x,n)}function m(n,u,i){var o=a(t++);return o.__c||(o.__c=r,o.__=[i?i(u):x(void 0,u),function(t){var r=n(o.__[0],t);o.__[0]!==r&&(o.__[0]=r,o.__c.setState({}))}]),o.__}function p(n,u){var i=a(t++);q(i.__H,u)&&(i.__=n,i.__H=u,r.__H.__h.push(i))}function l(n,u){var i=a(t++);q(i.__H,u)&&(i.__=n,i.__H=u,r.__h.push(i))}function y(n){return s(function(){return{current:n}},[])}function d(n,t,r){l(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==r?r:r.concat(n))}function s(n,r){var u=a(t++);return q(u.__H,r)?(u.__H=r,u.__h=n,u.__=n()):u.__}function h(n,t){return s(function(){return n},t)}function T(n){var u=r.context[n.__c];if(!u)return n.__;var i=a(t++);return null==i.__&&(i.__=!0,u.sub(r)),u.props.value}function w(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function A(n){var u=a(t++),i=v();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n){u.__&&u.__(n),i[1](n)}),[i[0],function(){i[1](void 0)}]}function F(){i.some(function(t){if(t.__P)try{t.__H.__h.forEach(_),t.__H.__h.forEach(g),t.__H.__h=[]}catch(r){return n.__e(r,t.__v),!0}}),i=[]}function _(n){n.t&&n.t()}function g(n){var t=n.__();\"function\"==typeof t&&(n.t=t)}function q(n,t){return!n||t.some(function(t,r){return t!==n[r]})}function x(n,t){return\"function\"==typeof t?t(n):t}n.__r=function(n){o&&o(n),t=0,(r=n.__c).__H&&(r.__H.__h.forEach(_),r.__H.__h.forEach(g),r.__H.__h=[])},n.diffed=function(t){f&&f(t);var r=t.__c;if(r){var o=r.__H;o&&o.__h.length&&(1!==i.push(r)&&u===n.requestAnimationFrame||((u=n.requestAnimationFrame)||function(n){var t,r=function(){clearTimeout(u),cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);\"undefined\"!=typeof window&&(t=requestAnimationFrame(r))})(F))}},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(_),t.__h=t.__h.filter(function(n){return!n.__||g(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),c&&c(t,r)},n.unmount=function(t){e&&e(t);var r=t.__c;if(r){var u=r.__H;if(u)try{u.__.forEach(function(n){return n.t&&n.t()})}catch(t){n.__e(t,r.__v)}}};export{v as useState,m as useReducer,p as useEffect,l as useLayoutEffect,y as useRef,d as useImperativeHandle,s as useMemo,h as useCallback,T as useContext,w as useDebugValue,A as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","import{h as r,Component as o,render as t}from\"preact\";export{h,render,Component}from\"preact\";import e from\"htm\";var m=e.bind(r);export{m as html};\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending.js\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? new Rgb((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = bytes;\nmodule.exports.format = format;\nmodule.exports.parse = parse;\n\n/**\n * Module variables.\n * @private\n */\n\nvar formatThousandsRegExp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\nvar formatDecimalsRegExp = /(?:\\.0*|(\\.[^0]+)0+)$/;\n\nvar map = {\n  b:  1,\n  kb: 1 << 10,\n  mb: 1 << 20,\n  gb: 1 << 30,\n  tb: Math.pow(1024, 4),\n  pb: Math.pow(1024, 5),\n};\n\nvar parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\n/**\n * Convert the given value in bytes into a string or parse to string to an integer in bytes.\n *\n * @param {string|number} value\n * @param {{\n *  case: [string],\n *  decimalPlaces: [number]\n *  fixedDecimals: [boolean]\n *  thousandsSeparator: [string]\n *  unitSeparator: [string]\n *  }} [options] bytes options.\n *\n * @returns {string|number|null}\n */\n\nfunction bytes(value, options) {\n  if (typeof value === 'string') {\n    return parse(value);\n  }\n\n  if (typeof value === 'number') {\n    return format(value, options);\n  }\n\n  return null;\n}\n\n/**\n * Format the given value in bytes into a string.\n *\n * If the value is negative, it is kept as such. If it is a float,\n * it is rounded.\n *\n * @param {number} value\n * @param {object} [options]\n * @param {number} [options.decimalPlaces=2]\n * @param {number} [options.fixedDecimals=false]\n * @param {string} [options.thousandsSeparator=]\n * @param {string} [options.unit=]\n * @param {string} [options.unitSeparator=]\n *\n * @returns {string|null}\n * @public\n */\n\nfunction format(value, options) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  var mag = Math.abs(value);\n  var thousandsSeparator = (options && options.thousandsSeparator) || '';\n  var unitSeparator = (options && options.unitSeparator) || '';\n  var decimalPlaces = (options && options.decimalPlaces !== undefined) ? options.decimalPlaces : 2;\n  var fixedDecimals = Boolean(options && options.fixedDecimals);\n  var unit = (options && options.unit) || '';\n\n  if (!unit || !map[unit.toLowerCase()]) {\n    if (mag >= map.pb) {\n      unit = 'PB';\n    } else if (mag >= map.tb) {\n      unit = 'TB';\n    } else if (mag >= map.gb) {\n      unit = 'GB';\n    } else if (mag >= map.mb) {\n      unit = 'MB';\n    } else if (mag >= map.kb) {\n      unit = 'KB';\n    } else {\n      unit = 'B';\n    }\n  }\n\n  var val = value / map[unit.toLowerCase()];\n  var str = val.toFixed(decimalPlaces);\n\n  if (!fixedDecimals) {\n    str = str.replace(formatDecimalsRegExp, '$1');\n  }\n\n  if (thousandsSeparator) {\n    str = str.replace(formatThousandsRegExp, thousandsSeparator);\n  }\n\n  return str + unitSeparator + unit;\n}\n\n/**\n * Parse the string value into an integer in bytes.\n *\n * If no unit is given, it is assumed the value is in bytes.\n *\n * @param {number|string} val\n *\n * @returns {number|null}\n * @public\n */\n\nfunction parse(val) {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  // Test if the string passed is valid\n  var results = parseRegExp.exec(val);\n  var floatValue;\n  var unit = 'b';\n\n  if (!results) {\n    // Nothing could be extracted from the given string\n    floatValue = parseInt(val, 10);\n    unit = 'b'\n  } else {\n    // Retrieve the value and the unit\n    floatValue = parseFloat(results[1]);\n    unit = results[4].toLowerCase();\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PowerEdge = (function () {\r\n    function PowerEdge(source, target, type) {\r\n        this.source = source;\r\n        this.target = target;\r\n        this.type = type;\r\n    }\r\n    return PowerEdge;\r\n}());\r\nexports.PowerEdge = PowerEdge;\r\nvar Configuration = (function () {\r\n    function Configuration(n, edges, linkAccessor, rootGroup) {\r\n        var _this = this;\r\n        this.linkAccessor = linkAccessor;\r\n        this.modules = new Array(n);\r\n        this.roots = [];\r\n        if (rootGroup) {\r\n            this.initModulesFromGroup(rootGroup);\r\n        }\r\n        else {\r\n            this.roots.push(new ModuleSet());\r\n            for (var i = 0; i < n; ++i)\r\n                this.roots[0].add(this.modules[i] = new Module(i));\r\n        }\r\n        this.R = edges.length;\r\n        edges.forEach(function (e) {\r\n            var s = _this.modules[linkAccessor.getSourceIndex(e)], t = _this.modules[linkAccessor.getTargetIndex(e)], type = linkAccessor.getType(e);\r\n            s.outgoing.add(type, t);\r\n            t.incoming.add(type, s);\r\n        });\r\n    }\r\n    Configuration.prototype.initModulesFromGroup = function (group) {\r\n        var moduleSet = new ModuleSet();\r\n        this.roots.push(moduleSet);\r\n        for (var i = 0; i < group.leaves.length; ++i) {\r\n            var node = group.leaves[i];\r\n            var module = new Module(node.id);\r\n            this.modules[node.id] = module;\r\n            moduleSet.add(module);\r\n        }\r\n        if (group.groups) {\r\n            for (var j = 0; j < group.groups.length; ++j) {\r\n                var child = group.groups[j];\r\n                var definition = {};\r\n                for (var prop in child)\r\n                    if (prop !== \"leaves\" && prop !== \"groups\" && child.hasOwnProperty(prop))\r\n                        definition[prop] = child[prop];\r\n                moduleSet.add(new Module(-1 - j, new LinkSets(), new LinkSets(), this.initModulesFromGroup(child), definition));\r\n            }\r\n        }\r\n        return moduleSet;\r\n    };\r\n    Configuration.prototype.merge = function (a, b, k) {\r\n        if (k === void 0) { k = 0; }\r\n        var inInt = a.incoming.intersection(b.incoming), outInt = a.outgoing.intersection(b.outgoing);\r\n        var children = new ModuleSet();\r\n        children.add(a);\r\n        children.add(b);\r\n        var m = new Module(this.modules.length, outInt, inInt, children);\r\n        this.modules.push(m);\r\n        var update = function (s, i, o) {\r\n            s.forAll(function (ms, linktype) {\r\n                ms.forAll(function (n) {\r\n                    var nls = n[i];\r\n                    nls.add(linktype, m);\r\n                    nls.remove(linktype, a);\r\n                    nls.remove(linktype, b);\r\n                    a[o].remove(linktype, n);\r\n                    b[o].remove(linktype, n);\r\n                });\r\n            });\r\n        };\r\n        update(outInt, \"incoming\", \"outgoing\");\r\n        update(inInt, \"outgoing\", \"incoming\");\r\n        this.R -= inInt.count() + outInt.count();\r\n        this.roots[k].remove(a);\r\n        this.roots[k].remove(b);\r\n        this.roots[k].add(m);\r\n        return m;\r\n    };\r\n    Configuration.prototype.rootMerges = function (k) {\r\n        if (k === void 0) { k = 0; }\r\n        var rs = this.roots[k].modules();\r\n        var n = rs.length;\r\n        var merges = new Array(n * (n - 1));\r\n        var ctr = 0;\r\n        for (var i = 0, i_ = n - 1; i < i_; ++i) {\r\n            for (var j = i + 1; j < n; ++j) {\r\n                var a = rs[i], b = rs[j];\r\n                merges[ctr] = { id: ctr, nEdges: this.nEdges(a, b), a: a, b: b };\r\n                ctr++;\r\n            }\r\n        }\r\n        return merges;\r\n    };\r\n    Configuration.prototype.greedyMerge = function () {\r\n        for (var i = 0; i < this.roots.length; ++i) {\r\n            if (this.roots[i].modules().length < 2)\r\n                continue;\r\n            var ms = this.rootMerges(i).sort(function (a, b) { return a.nEdges == b.nEdges ? a.id - b.id : a.nEdges - b.nEdges; });\r\n            var m = ms[0];\r\n            if (m.nEdges >= this.R)\r\n                continue;\r\n            this.merge(m.a, m.b, i);\r\n            return true;\r\n        }\r\n    };\r\n    Configuration.prototype.nEdges = function (a, b) {\r\n        var inInt = a.incoming.intersection(b.incoming), outInt = a.outgoing.intersection(b.outgoing);\r\n        return this.R - inInt.count() - outInt.count();\r\n    };\r\n    Configuration.prototype.getGroupHierarchy = function (retargetedEdges) {\r\n        var _this = this;\r\n        var groups = [];\r\n        var root = {};\r\n        toGroups(this.roots[0], root, groups);\r\n        var es = this.allEdges();\r\n        es.forEach(function (e) {\r\n            var a = _this.modules[e.source];\r\n            var b = _this.modules[e.target];\r\n            retargetedEdges.push(new PowerEdge(typeof a.gid === \"undefined\" ? e.source : groups[a.gid], typeof b.gid === \"undefined\" ? e.target : groups[b.gid], e.type));\r\n        });\r\n        return groups;\r\n    };\r\n    Configuration.prototype.allEdges = function () {\r\n        var es = [];\r\n        Configuration.getEdges(this.roots[0], es);\r\n        return es;\r\n    };\r\n    Configuration.getEdges = function (modules, es) {\r\n        modules.forAll(function (m) {\r\n            m.getEdges(es);\r\n            Configuration.getEdges(m.children, es);\r\n        });\r\n    };\r\n    return Configuration;\r\n}());\r\nexports.Configuration = Configuration;\r\nfunction toGroups(modules, group, groups) {\r\n    modules.forAll(function (m) {\r\n        if (m.isLeaf()) {\r\n            if (!group.leaves)\r\n                group.leaves = [];\r\n            group.leaves.push(m.id);\r\n        }\r\n        else {\r\n            var g = group;\r\n            m.gid = groups.length;\r\n            if (!m.isIsland() || m.isPredefined()) {\r\n                g = { id: m.gid };\r\n                if (m.isPredefined())\r\n                    for (var prop in m.definition)\r\n                        g[prop] = m.definition[prop];\r\n                if (!group.groups)\r\n                    group.groups = [];\r\n                group.groups.push(m.gid);\r\n                groups.push(g);\r\n            }\r\n            toGroups(m.children, g, groups);\r\n        }\r\n    });\r\n}\r\nvar Module = (function () {\r\n    function Module(id, outgoing, incoming, children, definition) {\r\n        if (outgoing === void 0) { outgoing = new LinkSets(); }\r\n        if (incoming === void 0) { incoming = new LinkSets(); }\r\n        if (children === void 0) { children = new ModuleSet(); }\r\n        this.id = id;\r\n        this.outgoing = outgoing;\r\n        this.incoming = incoming;\r\n        this.children = children;\r\n        this.definition = definition;\r\n    }\r\n    Module.prototype.getEdges = function (es) {\r\n        var _this = this;\r\n        this.outgoing.forAll(function (ms, edgetype) {\r\n            ms.forAll(function (target) {\r\n                es.push(new PowerEdge(_this.id, target.id, edgetype));\r\n            });\r\n        });\r\n    };\r\n    Module.prototype.isLeaf = function () {\r\n        return this.children.count() === 0;\r\n    };\r\n    Module.prototype.isIsland = function () {\r\n        return this.outgoing.count() === 0 && this.incoming.count() === 0;\r\n    };\r\n    Module.prototype.isPredefined = function () {\r\n        return typeof this.definition !== \"undefined\";\r\n    };\r\n    return Module;\r\n}());\r\nexports.Module = Module;\r\nfunction intersection(m, n) {\r\n    var i = {};\r\n    for (var v in m)\r\n        if (v in n)\r\n            i[v] = m[v];\r\n    return i;\r\n}\r\nvar ModuleSet = (function () {\r\n    function ModuleSet() {\r\n        this.table = {};\r\n    }\r\n    ModuleSet.prototype.count = function () {\r\n        return Object.keys(this.table).length;\r\n    };\r\n    ModuleSet.prototype.intersection = function (other) {\r\n        var result = new ModuleSet();\r\n        result.table = intersection(this.table, other.table);\r\n        return result;\r\n    };\r\n    ModuleSet.prototype.intersectionCount = function (other) {\r\n        return this.intersection(other).count();\r\n    };\r\n    ModuleSet.prototype.contains = function (id) {\r\n        return id in this.table;\r\n    };\r\n    ModuleSet.prototype.add = function (m) {\r\n        this.table[m.id] = m;\r\n    };\r\n    ModuleSet.prototype.remove = function (m) {\r\n        delete this.table[m.id];\r\n    };\r\n    ModuleSet.prototype.forAll = function (f) {\r\n        for (var mid in this.table) {\r\n            f(this.table[mid]);\r\n        }\r\n    };\r\n    ModuleSet.prototype.modules = function () {\r\n        var vs = [];\r\n        this.forAll(function (m) {\r\n            if (!m.isPredefined())\r\n                vs.push(m);\r\n        });\r\n        return vs;\r\n    };\r\n    return ModuleSet;\r\n}());\r\nexports.ModuleSet = ModuleSet;\r\nvar LinkSets = (function () {\r\n    function LinkSets() {\r\n        this.sets = {};\r\n        this.n = 0;\r\n    }\r\n    LinkSets.prototype.count = function () {\r\n        return this.n;\r\n    };\r\n    LinkSets.prototype.contains = function (id) {\r\n        var result = false;\r\n        this.forAllModules(function (m) {\r\n            if (!result && m.id == id) {\r\n                result = true;\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    LinkSets.prototype.add = function (linktype, m) {\r\n        var s = linktype in this.sets ? this.sets[linktype] : this.sets[linktype] = new ModuleSet();\r\n        s.add(m);\r\n        ++this.n;\r\n    };\r\n    LinkSets.prototype.remove = function (linktype, m) {\r\n        var ms = this.sets[linktype];\r\n        ms.remove(m);\r\n        if (ms.count() === 0) {\r\n            delete this.sets[linktype];\r\n        }\r\n        --this.n;\r\n    };\r\n    LinkSets.prototype.forAll = function (f) {\r\n        for (var linktype in this.sets) {\r\n            f(this.sets[linktype], Number(linktype));\r\n        }\r\n    };\r\n    LinkSets.prototype.forAllModules = function (f) {\r\n        this.forAll(function (ms, lt) { return ms.forAll(f); });\r\n    };\r\n    LinkSets.prototype.intersection = function (other) {\r\n        var result = new LinkSets();\r\n        this.forAll(function (ms, lt) {\r\n            if (lt in other.sets) {\r\n                var i = ms.intersection(other.sets[lt]), n = i.count();\r\n                if (n > 0) {\r\n                    result.sets[lt] = i;\r\n                    result.n += n;\r\n                }\r\n            }\r\n        });\r\n        return result;\r\n    };\r\n    return LinkSets;\r\n}());\r\nexports.LinkSets = LinkSets;\r\nfunction intersectionCount(m, n) {\r\n    return Object.keys(intersection(m, n)).length;\r\n}\r\nfunction getGroups(nodes, links, la, rootGroup) {\r\n    var n = nodes.length, c = new Configuration(n, links, la, rootGroup);\r\n    while (c.greedyMerge())\r\n        ;\r\n    var powerEdges = [];\r\n    var g = c.getGroupHierarchy(powerEdges);\r\n    powerEdges.forEach(function (e) {\r\n        var f = function (end) {\r\n            var g = e[end];\r\n            if (typeof g == \"number\")\r\n                e[end] = nodes[g];\r\n        };\r\n        f(\"source\");\r\n        f(\"target\");\r\n    });\r\n    return { groups: g, powerEdges: powerEdges };\r\n}\r\nexports.getGroups = getGroups;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG93ZXJncmFwaC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL3Bvd2VyZ3JhcGgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFPSTtJQUNJLG1CQUNXLE1BQVcsRUFDWCxNQUFXLEVBQ1gsSUFBWTtRQUZaLFdBQU0sR0FBTixNQUFNLENBQUs7UUFDWCxXQUFNLEdBQU4sTUFBTSxDQUFLO1FBQ1gsU0FBSSxHQUFKLElBQUksQ0FBUTtJQUFJLENBQUM7SUFDaEMsZ0JBQUM7QUFBRCxDQUFDLEFBTEQsSUFLQztBQUxZLDhCQUFTO0FBT3RCO0lBU0ksdUJBQVksQ0FBUyxFQUFFLEtBQWEsRUFBVSxZQUFvQyxFQUFFLFNBQWlCO1FBQXJHLGlCQWtCQztRQWxCNkMsaUJBQVksR0FBWixZQUFZLENBQXdCO1FBQzlFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDaEIsSUFBSSxTQUFTLEVBQUU7WUFDWCxJQUFJLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDeEM7YUFBTTtZQUNILElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksU0FBUyxFQUFFLENBQUMsQ0FBQztZQUNqQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzFEO1FBQ0QsSUFBSSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBQ3RCLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDO1lBQ1gsSUFBSSxD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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction unionCount(a, b) {\r\n    var u = {};\r\n    for (var i in a)\r\n        u[i] = {};\r\n    for (var i in b)\r\n        u[i] = {};\r\n    return Object.keys(u).length;\r\n}\r\nfunction intersectionCount(a, b) {\r\n    var n = 0;\r\n    for (var i in a)\r\n        if (typeof b[i] !== 'undefined')\r\n            ++n;\r\n    return n;\r\n}\r\nfunction getNeighbours(links, la) {\r\n    var neighbours = {};\r\n    var addNeighbours = function (u, v) {\r\n        if (typeof neighbours[u] === 'undefined')\r\n            neighbours[u] = {};\r\n        neighbours[u][v] = {};\r\n    };\r\n    links.forEach(function (e) {\r\n        var u = la.getSourceIndex(e), v = la.getTargetIndex(e);\r\n        addNeighbours(u, v);\r\n        addNeighbours(v, u);\r\n    });\r\n    return neighbours;\r\n}\r\nfunction computeLinkLengths(links, w, f, la) {\r\n    var neighbours = getNeighbours(links, la);\r\n    links.forEach(function (l) {\r\n        var a = neighbours[la.getSourceIndex(l)];\r\n        var b = neighbours[la.getTargetIndex(l)];\r\n        la.setLength(l, 1 + w * f(a, b));\r\n    });\r\n}\r\nfunction symmetricDiffLinkLengths(links, la, w) {\r\n    if (w === void 0) { w = 1; }\r\n    computeLinkLengths(links, w, function (a, b) { return Math.sqrt(unionCount(a, b) - intersectionCount(a, b)); }, la);\r\n}\r\nexports.symmetricDiffLinkLengths = symmetricDiffLinkLengths;\r\nfunction jaccardLinkLengths(links, la, w) {\r\n    if (w === void 0) { w = 1; }\r\n    computeLinkLengths(links, w, function (a, b) {\r\n        return Math.min(Object.keys(a).length, Object.keys(b).length) < 1.1 ? 0 : intersectionCount(a, b) / unionCount(a, b);\r\n    }, la);\r\n}\r\nexports.jaccardLinkLengths = jaccardLinkLengths;\r\nfunction generateDirectedEdgeConstraints(n, links, axis, la) {\r\n    var components = stronglyConnectedComponents(n, links, la);\r\n    var nodes = {};\r\n    components.forEach(function (c, i) {\r\n        return c.forEach(function (v) { return nodes[v] = i; });\r\n    });\r\n    var constraints = [];\r\n    links.forEach(function (l) {\r\n        var ui = la.getSourceIndex(l), vi = la.getTargetIndex(l), u = nodes[ui], v = nodes[vi];\r\n        if (u !== v) {\r\n            constraints.push({\r\n                axis: axis,\r\n                left: ui,\r\n                right: vi,\r\n                gap: la.getMinSeparation(l)\r\n            });\r\n        }\r\n    });\r\n    return constraints;\r\n}\r\nexports.generateDirectedEdgeConstraints = generateDirectedEdgeConstraints;\r\nfunction stronglyConnectedComponents(numVertices, edges, la) {\r\n    var nodes = [];\r\n    var index = 0;\r\n    var stack = [];\r\n    var components = [];\r\n    function strongConnect(v) {\r\n        v.index = v.lowlink = index++;\r\n        stack.push(v);\r\n        v.onStack = true;\r\n        for (var _i = 0, _a = v.out; _i < _a.length; _i++) {\r\n            var w = _a[_i];\r\n            if (typeof w.index === 'undefined') {\r\n                strongConnect(w);\r\n                v.lowlink = Math.min(v.lowlink, w.lowlink);\r\n            }\r\n            else if (w.onStack) {\r\n                v.lowlink = Math.min(v.lowlink, w.index);\r\n            }\r\n        }\r\n        if (v.lowlink === v.index) {\r\n            var component = [];\r\n            while (stack.length) {\r\n                w = stack.pop();\r\n                w.onStack = false;\r\n                component.push(w);\r\n                if (w === v)\r\n                    break;\r\n            }\r\n            components.push(component.map(function (v) { return v.id; }));\r\n        }\r\n    }\r\n    for (var i = 0; i < numVertices; i++) {\r\n        nodes.push({ id: i, out: [] });\r\n    }\r\n    for (var _i = 0, edges_1 = edges; _i < edges_1.length; _i++) {\r\n        var e = edges_1[_i];\r\n        var v_1 = nodes[la.getSourceIndex(e)], w = nodes[la.getTargetIndex(e)];\r\n        v_1.out.push(w);\r\n    }\r\n    for (var _a = 0, nodes_1 = nodes; _a < nodes_1.length; _a++) {\r\n        var v = nodes_1[_a];\r\n        if (typeof v.index === 'undefined')\r\n            strongConnect(v);\r\n    }\r\n    return components;\r\n}\r\nexports.stronglyConnectedComponents = stronglyConnectedComponents;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlua2xlbmd0aHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9saW5rbGVuZ3Rocy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQVVJLFNBQVMsVUFBVSxDQUFDLENBQU0sRUFBRSxDQUFNO0lBQzlCLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNYLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQztRQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDM0IsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUMzQixPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQ2pDLENBQUM7QUFHRCxTQUFTLGlCQUFpQixDQUFDLENBQVcsRUFBRSxDQUFXO0lBQy9DLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNWLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQztRQUFFLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssV0FBVztZQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3RELE9BQU8sQ0FBQyxDQUFDO0FBQ2IsQ0FBQztBQUVELFNBQVMsYUFBYSxDQUFPLEtBQWEsRUFBRSxFQUFzQjtJQUM5RCxJQUFJLFVBQVUsR0FBRyxFQUFFLENBQUM7SUFDcEIsSUFBSSxhQUFhLEdBQUcsVUFBQyxDQUFDLEVBQUUsQ0FBQztRQUNyQixJQUFJLE9BQU8sVUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFLLFdBQVc7WUFDcEMsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUN2QixVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQzFCLENBQUMsQ0FBQztJQUNGLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDO1FBQ1gs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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Locks = (function () {\r\n    function Locks() {\r\n        this.locks = {};\r\n    }\r\n    Locks.prototype.add = function (id, x) {\r\n        this.locks[id] = x;\r\n    };\r\n    Locks.prototype.clear = function () {\r\n        this.locks = {};\r\n    };\r\n    Locks.prototype.isEmpty = function () {\r\n        for (var l in this.locks)\r\n            return false;\r\n        return true;\r\n    };\r\n    Locks.prototype.apply = function (f) {\r\n        for (var l in this.locks) {\r\n            f(Number(l), this.locks[l]);\r\n        }\r\n    };\r\n    return Locks;\r\n}());\r\nexports.Locks = Locks;\r\nvar Descent = (function () {\r\n    function Descent(x, D, G) {\r\n        if (G === void 0) { G = null; }\r\n        this.D = D;\r\n        this.G = G;\r\n        this.threshold = 0.0001;\r\n        this.numGridSnapNodes = 0;\r\n        this.snapGridSize = 100;\r\n        this.snapStrength = 1000;\r\n        this.scaleSnapByMaxH = false;\r\n        this.random = new PseudoRandom();\r\n        this.project = null;\r\n        this.x = x;\r\n        this.k = x.length;\r\n        var n = this.n = x[0].length;\r\n        this.H = new Array(this.k);\r\n        this.g = new Array(this.k);\r\n        this.Hd = new Array(this.k);\r\n        this.a = new Array(this.k);\r\n        this.b = new Array(this.k);\r\n        this.c = new Array(this.k);\r\n        this.d = new Array(this.k);\r\n        this.e = new Array(this.k);\r\n        this.ia = new Array(this.k);\r\n        this.ib = new Array(this.k);\r\n        this.xtmp = new Array(this.k);\r\n        this.locks = new Locks();\r\n        this.minD = Number.MAX_VALUE;\r\n        var i = n, j;\r\n        while (i--) {\r\n            j = n;\r\n            while (--j > i) {\r\n                var d = D[i][j];\r\n                if (d > 0 && d < this.minD) {\r\n                    this.minD = d;\r\n                }\r\n            }\r\n        }\r\n        if (this.minD === Number.MAX_VALUE)\r\n            this.minD = 1;\r\n        i = this.k;\r\n        while (i--) {\r\n            this.g[i] = new Array(n);\r\n            this.H[i] = new Array(n);\r\n            j = n;\r\n            while (j--) {\r\n                this.H[i][j] = new Array(n);\r\n            }\r\n            this.Hd[i] = new Array(n);\r\n            this.a[i] = new Array(n);\r\n            this.b[i] = new Array(n);\r\n            this.c[i] = new Array(n);\r\n            this.d[i] = new Array(n);\r\n            this.e[i] = new Array(n);\r\n            this.ia[i] = new Array(n);\r\n            this.ib[i] = new Array(n);\r\n            this.xtmp[i] = new Array(n);\r\n        }\r\n    }\r\n    Descent.createSquareMatrix = function (n, f) {\r\n        var M = new Array(n);\r\n        for (var i = 0; i < n; ++i) {\r\n            M[i] = new Array(n);\r\n            for (var j = 0; j < n; ++j) {\r\n                M[i][j] = f(i, j);\r\n            }\r\n        }\r\n        return M;\r\n    };\r\n    Descent.prototype.offsetDir = function () {\r\n        var _this = this;\r\n        var u = new Array(this.k);\r\n        var l = 0;\r\n        for (var i = 0; i < this.k; ++i) {\r\n            var x = u[i] = this.random.getNextBetween(0.01, 1) - 0.5;\r\n            l += x * x;\r\n        }\r\n        l = Math.sqrt(l);\r\n        return u.map(function (x) { return x *= _this.minD / l; });\r\n    };\r\n    Descent.prototype.computeDerivatives = function (x) {\r\n        var _this = this;\r\n        var n = this.n;\r\n        if (n < 1)\r\n            return;\r\n        var i;\r\n        var d = new Array(this.k);\r\n        var d2 = new Array(this.k);\r\n        var Huu = new Array(this.k);\r\n        var maxH = 0;\r\n        for (var u = 0; u < n; ++u) {\r\n            for (i = 0; i < this.k; ++i)\r\n                Huu[i] = this.g[i][u] = 0;\r\n            for (var v = 0; v < n; ++v) {\r\n                if (u === v)\r\n                    continue;\r\n                var maxDisplaces = n;\r\n                while (maxDisplaces--) {\r\n                    var sd2 = 0;\r\n                    for (i = 0; i < this.k; ++i) {\r\n                        var dx = d[i] = x[i][u] - x[i][v];\r\n                        sd2 += d2[i] = dx * dx;\r\n                    }\r\n                    if (sd2 > 1e-9)\r\n                        break;\r\n                    var rd = this.offsetDir();\r\n                    for (i = 0; i < this.k; ++i)\r\n                        x[i][v] += rd[i];\r\n                }\r\n                var l = Math.sqrt(sd2);\r\n                var D = this.D[u][v];\r\n                var weight = this.G != null ? this.G[u][v] : 1;\r\n                if (weight > 1 && l > D || !isFinite(D)) {\r\n                    for (i = 0; i < this.k; ++i)\r\n                        this.H[i][u][v] = 0;\r\n                    continue;\r\n                }\r\n                if (weight > 1) {\r\n                    weight = 1;\r\n                }\r\n                var D2 = D * D;\r\n                var gs = 2 * weight * (l - D) / (D2 * l);\r\n                var l3 = l * l * l;\r\n                var hs = 2 * -weight / (D2 * l3);\r\n                if (!isFinite(gs))\r\n                    console.log(gs);\r\n                for (i = 0; i < this.k; ++i) {\r\n                    this.g[i][u] += d[i] * gs;\r\n                    Huu[i] -= this.H[i][u][v] = hs * (l3 + D * (d2[i] - sd2) + l * sd2);\r\n                }\r\n            }\r\n            for (i = 0; i < this.k; ++i)\r\n                maxH = Math.max(maxH, this.H[i][u][u] = Huu[i]);\r\n        }\r\n        var r = this.snapGridSize / 2;\r\n        var g = this.snapGridSize;\r\n        var w = this.snapStrength;\r\n        var k = w / (r * r);\r\n        var numNodes = this.numGridSnapNodes;\r\n        for (var u = 0; u < numNodes; ++u) {\r\n            for (i = 0; i < this.k; ++i) {\r\n                var xiu = this.x[i][u];\r\n                var m = xiu / g;\r\n                var f = m % 1;\r\n                var q = m - f;\r\n                var a = Math.abs(f);\r\n                var dx = (a <= 0.5) ? xiu - q * g :\r\n                    (xiu > 0) ? xiu - (q + 1) * g : xiu - (q - 1) * g;\r\n                if (-r < dx && dx <= r) {\r\n                    if (this.scaleSnapByMaxH) {\r\n                        this.g[i][u] += maxH * k * dx;\r\n                        this.H[i][u][u] += maxH * k;\r\n                    }\r\n                    else {\r\n                        this.g[i][u] += k * dx;\r\n                        this.H[i][u][u] += k;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (!this.locks.isEmpty()) {\r\n            this.locks.apply(function (u, p) {\r\n                for (i = 0; i < _this.k; ++i) {\r\n                    _this.H[i][u][u] += maxH;\r\n                    _this.g[i][u] -= maxH * (p[i] - x[i][u]);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Descent.dotProd = function (a, b) {\r\n        var x = 0, i = a.length;\r\n        while (i--)\r\n            x += a[i] * b[i];\r\n        return x;\r\n    };\r\n    Descent.rightMultiply = function (m, v, r) {\r\n        var i = m.length;\r\n        while (i--)\r\n            r[i] = Descent.dotProd(m[i], v);\r\n    };\r\n    Descent.prototype.computeStepSize = function (d) {\r\n        var numerator = 0, denominator = 0;\r\n        for (var i = 0; i < this.k; ++i) {\r\n            numerator += Descent.dotProd(this.g[i], d[i]);\r\n            Descent.rightMultiply(this.H[i], d[i], this.Hd[i]);\r\n            denominator += Descent.dotProd(d[i], this.Hd[i]);\r\n        }\r\n        if (denominator === 0 || !isFinite(denominator))\r\n            return 0;\r\n        return 1 * numerator / denominator;\r\n    };\r\n    Descent.prototype.reduceStress = function () {\r\n        this.computeDerivatives(this.x);\r\n        var alpha = this.computeStepSize(this.g);\r\n        for (var i = 0; i < this.k; ++i) {\r\n            this.takeDescentStep(this.x[i], this.g[i], alpha);\r\n        }\r\n        return this.computeStress();\r\n    };\r\n    Descent.copy = function (a, b) {\r\n        var m = a.length, n = b[0].length;\r\n        for (var i = 0; i < m; ++i) {\r\n            for (var j = 0; j < n; ++j) {\r\n                b[i][j] = a[i][j];\r\n            }\r\n        }\r\n    };\r\n    Descent.prototype.stepAndProject = function (x0, r, d, stepSize) {\r\n        Descent.copy(x0, r);\r\n        this.takeDescentStep(r[0], d[0], stepSize);\r\n        if (this.project)\r\n            this.project[0](x0[0], x0[1], r[0]);\r\n        this.takeDescentStep(r[1], d[1], stepSize);\r\n        if (this.project)\r\n            this.project[1](r[0], x0[1], r[1]);\r\n        for (var i = 2; i < this.k; i++)\r\n            this.takeDescentStep(r[i], d[i], stepSize);\r\n    };\r\n    Descent.mApply = function (m, n, f) {\r\n        var i = m;\r\n        while (i-- > 0) {\r\n            var j = n;\r\n            while (j-- > 0)\r\n                f(i, j);\r\n        }\r\n    };\r\n    Descent.prototype.matrixApply = function (f) {\r\n        Descent.mApply(this.k, this.n, f);\r\n    };\r\n    Descent.prototype.computeNextPosition = function (x0, r) {\r\n        var _this = this;\r\n        this.computeDerivatives(x0);\r\n        var alpha = this.computeStepSize(this.g);\r\n        this.stepAndProject(x0, r, this.g, alpha);\r\n        if (this.project) {\r\n            this.matrixApply(function (i, j) { return _this.e[i][j] = x0[i][j] - r[i][j]; });\r\n            var beta = this.computeStepSize(this.e);\r\n            beta = Math.max(0.2, Math.min(beta, 1));\r\n            this.stepAndProject(x0, r, this.e, beta);\r\n        }\r\n    };\r\n    Descent.prototype.run = function (iterations) {\r\n        var stress = Number.MAX_VALUE, converged = false;\r\n        while (!converged && iterations-- > 0) {\r\n            var s = this.rungeKutta();\r\n            converged = Math.abs(stress / s - 1) < this.threshold;\r\n            stress = s;\r\n        }\r\n        return stress;\r\n    };\r\n    Descent.prototype.rungeKutta = function () {\r\n        var _this = this;\r\n        this.computeNextPosition(this.x, this.a);\r\n        Descent.mid(this.x, this.a, this.ia);\r\n        this.computeNextPosition(this.ia, this.b);\r\n        Descent.mid(this.x, this.b, this.ib);\r\n        this.computeNextPosition(this.ib, this.c);\r\n        this.computeNextPosition(this.c, this.d);\r\n        var disp = 0;\r\n        this.matrixApply(function (i, j) {\r\n            var x = (_this.a[i][j] + 2.0 * _this.b[i][j] + 2.0 * _this.c[i][j] + _this.d[i][j]) / 6.0, d = _this.x[i][j] - x;\r\n            disp += d * d;\r\n            _this.x[i][j] = x;\r\n        });\r\n        return disp;\r\n    };\r\n    Descent.mid = function (a, b, m) {\r\n        Descent.mApply(a.length, a[0].length, function (i, j) {\r\n            return m[i][j] = a[i][j] + (b[i][j] - a[i][j]) / 2.0;\r\n        });\r\n    };\r\n    Descent.prototype.takeDescentStep = function (x, d, stepSize) {\r\n        for (var i = 0; i < this.n; ++i) {\r\n            x[i] = x[i] - stepSize * d[i];\r\n        }\r\n    };\r\n    Descent.prototype.computeStress = function () {\r\n        var stress = 0;\r\n        for (var u = 0, nMinus1 = this.n - 1; u < nMinus1; ++u) {\r\n            for (var v = u + 1, n = this.n; v < n; ++v) {\r\n                var l = 0;\r\n                for (var i = 0; i < this.k; ++i) {\r\n                    var dx = this.x[i][u] - this.x[i][v];\r\n                    l += dx * dx;\r\n                }\r\n                l = Math.sqrt(l);\r\n                var d = this.D[u][v];\r\n                if (!isFinite(d))\r\n                    continue;\r\n                var rl = d - l;\r\n                var d2 = d * d;\r\n                stress += rl * rl / d2;\r\n            }\r\n        }\r\n        return stress;\r\n    };\r\n    Descent.zeroDistance = 1e-10;\r\n    return Descent;\r\n}());\r\nexports.Descent = Descent;\r\nvar PseudoRandom = (function () {\r\n    function PseudoRandom(seed) {\r\n        if (seed === void 0) { seed = 1; }\r\n        this.seed = seed;\r\n        this.a = 214013;\r\n        this.c = 2531011;\r\n        this.m = 2147483648;\r\n        this.range = 32767;\r\n    }\r\n    PseudoRandom.prototype.getNext = function () {\r\n        this.seed = (this.seed * this.a + this.c) % this.m;\r\n        return (this.seed >> 16) / this.range;\r\n    };\r\n    PseudoRandom.prototype.getNextBetween = function (min, max) {\r\n        return min + this.getNext() * (max - min);\r\n    };\r\n    return PseudoRandom;\r\n}());\r\nexports.PseudoRandom = PseudoRandom;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVzY2VudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL2Rlc2NlbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFJSTtJQUFBO1FBQ0ksVUFBSyxHQUE2QixFQUFFLENBQUM7SUFvQ3pDLENBQUM7SUE3QkcsbUJBQUcsR0FBSCxVQUFJLEVBQVUsRUFBRSxDQUFXO1FBSXZCLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFJRCxxQkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDcEIsQ0FBQztJQUtELHVCQUFPLEdBQVA7UUFDSSxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDdkMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUtELHFCQUFLLEdBQUwsVUFBTSxDQUFvQztRQUN0QyxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDdEIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBQ0wsWUFBQztBQUFELENBQUMsQUFyQ0QsSUFxQ0M7QUFyQ1ksc0JBQUs7QUFpRGxCO0lBNkRJLGlCQUFZLENBQWEsRUFBUyxDQUFhLEVBQVMsQ0FBbUI7UUFBbkIsa0JBQUEsRUFBQSxRQUFtQjtRQUF6QyxNQUFDLEdBQUQsQ0FBQyxDQUFZO1FBQVMsTUFBQyxHQUFELENBQUMsQ0FBa0I7UUE1RHBFLGNBQVMsR0FBVyxNQUFNLENBQUM7UUEyQzNCLHFCQUFnQixHQUFXLENBQUMsQ0FBQztRQUM3QixpQkFBWSxHQUFXLEdBQUcsQ0FBQztRQUMzQixpQkFBWSxHQUFXLElBQUksQ0FBQztRQUM1QixvQkFBZSxHQUFZLEtBQUssQ0FBQztRQUVoQyxXQUFNLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztRQUU3QixZQUFPLEdBQTBELElBQUksQ0FBQztRQVd6RSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQztRQUNsQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDN0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUM3QixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2IsT0FBTyxDQUFDLEVBQUUsRUFBRTtZQUNSLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDTixPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDWixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hCLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksRUFBRTtvQkFDeEIsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7aUJBQ2pCO2FBQ0o7U0FDSjtRQUNELElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxNQUFNLENBQUMsU0FBUztZQUFFLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ2xELENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ1gsT0FBTyxDQUFDLEVBQUUsRUFBRTtZQUNSLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QixDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ04sT0FBTyxDQUFDLEVBQUUsRUFBRTtnQkFDUixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQy9CO1lBQ0QsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRWEsMEJBQWtCLEdBQWhDLFVBQWlDLENBQVMsRUFBRSxDQUFtQztRQUMzRSxJQUFJLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQ3hCLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNwQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxF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QUFDO29CQUMxQixLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO3dCQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQ2pEO2dCQUNELElBQUksQ0FBQyxHQUFXLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQy9CLElBQUksQ0FBQyxHQUFXLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzdCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQy9DLElBQUksTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFO29CQUNyQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDO3dCQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUNqRCxTQUFTO2lCQUNaO2dCQUNELElBQUksTUFBTSxHQUFHLENBQUMsRUFBRTtvQkFDWixNQUFNLEdBQUcsQ0FBQyxDQUFDO2lCQUNkO2dCQUNELElBQUksRUFBRSxHQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3ZCLElBQUksRUFBRSxHQUFXLENBQUMsR0FBRyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pELElBQUksRUFBRSxHQUFHLENBQUMs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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PositionStats = (function () {\r\n    function PositionStats(scale) {\r\n        this.scale = scale;\r\n        this.AB = 0;\r\n        this.AD = 0;\r\n        this.A2 = 0;\r\n    }\r\n    PositionStats.prototype.addVariable = function (v) {\r\n        var ai = this.scale / v.scale;\r\n        var bi = v.offset / v.scale;\r\n        var wi = v.weight;\r\n        this.AB += wi * ai * bi;\r\n        this.AD += wi * ai * v.desiredPosition;\r\n        this.A2 += wi * ai * ai;\r\n    };\r\n    PositionStats.prototype.getPosn = function () {\r\n        return (this.AD - this.AB) / this.A2;\r\n    };\r\n    return PositionStats;\r\n}());\r\nexports.PositionStats = PositionStats;\r\nvar Constraint = (function () {\r\n    function Constraint(left, right, gap, equality) {\r\n        if (equality === void 0) { equality = false; }\r\n        this.left = left;\r\n        this.right = right;\r\n        this.gap = gap;\r\n        this.equality = equality;\r\n        this.active = false;\r\n        this.unsatisfiable = false;\r\n        this.left = left;\r\n        this.right = right;\r\n        this.gap = gap;\r\n        this.equality = equality;\r\n    }\r\n    Constraint.prototype.slack = function () {\r\n        return this.unsatisfiable ? Number.MAX_VALUE\r\n            : this.right.scale * this.right.position() - this.gap\r\n                - this.left.scale * this.left.position();\r\n    };\r\n    return Constraint;\r\n}());\r\nexports.Constraint = Constraint;\r\nvar Variable = (function () {\r\n    function Variable(desiredPosition, weight, scale) {\r\n        if (weight === void 0) { weight = 1; }\r\n        if (scale === void 0) { scale = 1; }\r\n        this.desiredPosition = desiredPosition;\r\n        this.weight = weight;\r\n        this.scale = scale;\r\n        this.offset = 0;\r\n    }\r\n    Variable.prototype.dfdv = function () {\r\n        return 2.0 * this.weight * (this.position() - this.desiredPosition);\r\n    };\r\n    Variable.prototype.position = function () {\r\n        return (this.block.ps.scale * this.block.posn + this.offset) / this.scale;\r\n    };\r\n    Variable.prototype.visitNeighbours = function (prev, f) {\r\n        var ff = function (c, next) { return c.active && prev !== next && f(c, next); };\r\n        this.cOut.forEach(function (c) { return ff(c, c.right); });\r\n        this.cIn.forEach(function (c) { return ff(c, c.left); });\r\n    };\r\n    return Variable;\r\n}());\r\nexports.Variable = Variable;\r\nvar Block = (function () {\r\n    function Block(v) {\r\n        this.vars = [];\r\n        v.offset = 0;\r\n        this.ps = new PositionStats(v.scale);\r\n        this.addVariable(v);\r\n    }\r\n    Block.prototype.addVariable = function (v) {\r\n        v.block = this;\r\n        this.vars.push(v);\r\n        this.ps.addVariable(v);\r\n        this.posn = this.ps.getPosn();\r\n    };\r\n    Block.prototype.updateWeightedPosition = function () {\r\n        this.ps.AB = this.ps.AD = this.ps.A2 = 0;\r\n        for (var i = 0, n = this.vars.length; i < n; ++i)\r\n            this.ps.addVariable(this.vars[i]);\r\n        this.posn = this.ps.getPosn();\r\n    };\r\n    Block.prototype.compute_lm = function (v, u, postAction) {\r\n        var _this = this;\r\n        var dfdv = v.dfdv();\r\n        v.visitNeighbours(u, function (c, next) {\r\n            var _dfdv = _this.compute_lm(next, v, postAction);\r\n            if (next === c.right) {\r\n                dfdv += _dfdv * c.left.scale;\r\n                c.lm = _dfdv;\r\n            }\r\n            else {\r\n                dfdv += _dfdv * c.right.scale;\r\n                c.lm = -_dfdv;\r\n            }\r\n            postAction(c);\r\n        });\r\n        return dfdv / v.scale;\r\n    };\r\n    Block.prototype.populateSplitBlock = function (v, prev) {\r\n        var _this = this;\r\n        v.visitNeighbours(prev, function (c, next) {\r\n            next.offset = v.offset + (next === c.right ? c.gap : -c.gap);\r\n            _this.addVariable(next);\r\n            _this.populateSplitBlock(next, v);\r\n        });\r\n    };\r\n    Block.prototype.traverse = function (visit, acc, v, prev) {\r\n        var _this = this;\r\n        if (v === void 0) { v = this.vars[0]; }\r\n        if (prev === void 0) { prev = null; }\r\n        v.visitNeighbours(prev, function (c, next) {\r\n            acc.push(visit(c));\r\n            _this.traverse(visit, acc, next, v);\r\n        });\r\n    };\r\n    Block.prototype.findMinLM = function () {\r\n        var m = null;\r\n        this.compute_lm(this.vars[0], null, function (c) {\r\n            if (!c.equality && (m === null || c.lm < m.lm))\r\n                m = c;\r\n        });\r\n        return m;\r\n    };\r\n    Block.prototype.findMinLMBetween = function (lv, rv) {\r\n        this.compute_lm(lv, null, function () { });\r\n        var m = null;\r\n        this.findPath(lv, null, rv, function (c, next) {\r\n            if (!c.equality && c.right === next && (m === null || c.lm < m.lm))\r\n                m = c;\r\n        });\r\n        return m;\r\n    };\r\n    Block.prototype.findPath = function (v, prev, to, visit) {\r\n        var _this = this;\r\n        var endFound = false;\r\n        v.visitNeighbours(prev, function (c, next) {\r\n            if (!endFound && (next === to || _this.findPath(next, v, to, visit))) {\r\n                endFound = true;\r\n                visit(c, next);\r\n            }\r\n        });\r\n        return endFound;\r\n    };\r\n    Block.prototype.isActiveDirectedPathBetween = function (u, v) {\r\n        if (u === v)\r\n            return true;\r\n        var i = u.cOut.length;\r\n        while (i--) {\r\n            var c = u.cOut[i];\r\n            if (c.active && this.isActiveDirectedPathBetween(c.right, v))\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    Block.split = function (c) {\r\n        c.active = false;\r\n        return [Block.createSplitBlock(c.left), Block.createSplitBlock(c.right)];\r\n    };\r\n    Block.createSplitBlock = function (startVar) {\r\n        var b = new Block(startVar);\r\n        b.populateSplitBlock(startVar, null);\r\n        return b;\r\n    };\r\n    Block.prototype.splitBetween = function (vl, vr) {\r\n        var c = this.findMinLMBetween(vl, vr);\r\n        if (c !== null) {\r\n            var bs = Block.split(c);\r\n            return { constraint: c, lb: bs[0], rb: bs[1] };\r\n        }\r\n        return null;\r\n    };\r\n    Block.prototype.mergeAcross = function (b, c, dist) {\r\n        c.active = true;\r\n        for (var i = 0, n = b.vars.length; i < n; ++i) {\r\n            var v = b.vars[i];\r\n            v.offset += dist;\r\n            this.addVariable(v);\r\n        }\r\n        this.posn = this.ps.getPosn();\r\n    };\r\n    Block.prototype.cost = function () {\r\n        var sum = 0, i = this.vars.length;\r\n        while (i--) {\r\n            var v = this.vars[i], d = v.position() - v.desiredPosition;\r\n            sum += d * d * v.weight;\r\n        }\r\n        return sum;\r\n    };\r\n    return Block;\r\n}());\r\nexports.Block = Block;\r\nvar Blocks = (function () {\r\n    function Blocks(vs) {\r\n        this.vs = vs;\r\n        var n = vs.length;\r\n        this.list = new Array(n);\r\n        while (n--) {\r\n            var b = new Block(vs[n]);\r\n            this.list[n] = b;\r\n            b.blockInd = n;\r\n        }\r\n    }\r\n    Blocks.prototype.cost = function () {\r\n        var sum = 0, i = this.list.length;\r\n        while (i--)\r\n            sum += this.list[i].cost();\r\n        return sum;\r\n    };\r\n    Blocks.prototype.insert = function (b) {\r\n        b.blockInd = this.list.length;\r\n        this.list.push(b);\r\n    };\r\n    Blocks.prototype.remove = function (b) {\r\n        var last = this.list.length - 1;\r\n        var swapBlock = this.list[last];\r\n        this.list.length = last;\r\n        if (b !== swapBlock) {\r\n            this.list[b.blockInd] = swapBlock;\r\n            swapBlock.blockInd = b.blockInd;\r\n        }\r\n    };\r\n    Blocks.prototype.merge = function (c) {\r\n        var l = c.left.block, r = c.right.block;\r\n        var dist = c.right.offset - c.left.offset - c.gap;\r\n        if (l.vars.length < r.vars.length) {\r\n            r.mergeAcross(l, c, dist);\r\n            this.remove(l);\r\n        }\r\n        else {\r\n            l.mergeAcross(r, c, -dist);\r\n            this.remove(r);\r\n        }\r\n    };\r\n    Blocks.prototype.forEach = function (f) {\r\n        this.list.forEach(f);\r\n    };\r\n    Blocks.prototype.updateBlockPositions = function () {\r\n        this.list.forEach(function (b) { return b.updateWeightedPosition(); });\r\n    };\r\n    Blocks.prototype.split = function (inactive) {\r\n        var _this = this;\r\n        this.updateBlockPositions();\r\n        this.list.forEach(function (b) {\r\n            var v = b.findMinLM();\r\n            if (v !== null && v.lm < Solver.LAGRANGIAN_TOLERANCE) {\r\n                b = v.left.block;\r\n                Block.split(v).forEach(function (nb) { return _this.insert(nb); });\r\n                _this.remove(b);\r\n                inactive.push(v);\r\n            }\r\n        });\r\n    };\r\n    return Blocks;\r\n}());\r\nexports.Blocks = Blocks;\r\nvar Solver = (function () {\r\n    function Solver(vs, cs) {\r\n        this.vs = vs;\r\n        this.cs = cs;\r\n        this.vs = vs;\r\n        vs.forEach(function (v) {\r\n            v.cIn = [], v.cOut = [];\r\n        });\r\n        this.cs = cs;\r\n        cs.forEach(function (c) {\r\n            c.left.cOut.push(c);\r\n            c.right.cIn.push(c);\r\n        });\r\n        this.inactive = cs.map(function (c) { c.active = false; return c; });\r\n        this.bs = null;\r\n    }\r\n    Solver.prototype.cost = function () {\r\n        return this.bs.cost();\r\n    };\r\n    Solver.prototype.setStartingPositions = function (ps) {\r\n        this.inactive = this.cs.map(function (c) { c.active = false; return c; });\r\n        this.bs = new Blocks(this.vs);\r\n        this.bs.forEach(function (b, i) { return b.posn = ps[i]; });\r\n    };\r\n    Solver.prototype.setDesiredPositions = function (ps) {\r\n        this.vs.forEach(function (v, i) { return v.desiredPosition = ps[i]; });\r\n    };\r\n    Solver.prototype.mostViolated = function () {\r\n        var minSlack = Number.MAX_VALUE, v = null, l = this.inactive, n = l.length, deletePoint = n;\r\n        for (var i = 0; i < n; ++i) {\r\n            var c = l[i];\r\n            if (c.unsatisfiable)\r\n                continue;\r\n            var slack = c.slack();\r\n            if (c.equality || slack < minSlack) {\r\n                minSlack = slack;\r\n                v = c;\r\n                deletePoint = i;\r\n                if (c.equality)\r\n                    break;\r\n            }\r\n        }\r\n        if (deletePoint !== n &&\r\n            (minSlack < Solver.ZERO_UPPERBOUND && !v.active || v.equality)) {\r\n            l[deletePoint] = l[n - 1];\r\n            l.length = n - 1;\r\n        }\r\n        return v;\r\n    };\r\n    Solver.prototype.satisfy = function () {\r\n        if (this.bs == null) {\r\n            this.bs = new Blocks(this.vs);\r\n        }\r\n        this.bs.split(this.inactive);\r\n        var v = null;\r\n        while ((v = this.mostViolated()) && (v.equality || v.slack() < Solver.ZERO_UPPERBOUND && !v.active)) {\r\n            var lb = v.left.block, rb = v.right.block;\r\n            if (lb !== rb) {\r\n                this.bs.merge(v);\r\n            }\r\n            else {\r\n                if (lb.isActiveDirectedPathBetween(v.right, v.left)) {\r\n                    v.unsatisfiable = true;\r\n                    continue;\r\n                }\r\n                var split = lb.splitBetween(v.left, v.right);\r\n                if (split !== null) {\r\n                    this.bs.insert(split.lb);\r\n                    this.bs.insert(split.rb);\r\n                    this.bs.remove(lb);\r\n                    this.inactive.push(split.constraint);\r\n                }\r\n                else {\r\n                    v.unsatisfiable = true;\r\n                    continue;\r\n                }\r\n                if (v.slack() >= 0) {\r\n                    this.inactive.push(v);\r\n                }\r\n                else {\r\n                    this.bs.merge(v);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Solver.prototype.solve = function () {\r\n        this.satisfy();\r\n        var lastcost = Number.MAX_VALUE, cost = this.bs.cost();\r\n        while (Math.abs(lastcost - cost) > 0.0001) {\r\n            this.satisfy();\r\n            lastcost = cost;\r\n            cost = this.bs.cost();\r\n        }\r\n        return cost;\r\n    };\r\n    Solver.LAGRANGIAN_TOLERANCE = -1e-4;\r\n    Solver.ZERO_UPPERBOUND = -1e-10;\r\n    return Solver;\r\n}());\r\nexports.Solver = Solver;\r\nfunction removeOverlapInOneDimension(spans, lowerBound, upperBound) {\r\n    var vs = spans.map(function (s) { return new Variable(s.desiredCenter); });\r\n    var cs = [];\r\n    var n = spans.length;\r\n    for (var i = 0; i < n - 1; i++) {\r\n        var left = spans[i], right = spans[i + 1];\r\n        cs.push(new Constraint(vs[i], vs[i + 1], (left.size + right.size) / 2));\r\n    }\r\n    var leftMost = vs[0], rightMost = vs[n - 1], leftMostSize = spans[0].size / 2, rightMostSize = spans[n - 1].size / 2;\r\n    var vLower = null, vUpper = null;\r\n    if (lowerBound) {\r\n        vLower = new Variable(lowerBound, leftMost.weight * 1000);\r\n        vs.push(vLower);\r\n        cs.push(new Constraint(vLower, leftMost, leftMostSize));\r\n    }\r\n    if (upperBound) {\r\n        vUpper = new Variable(upperBound, rightMost.weight * 1000);\r\n        vs.push(vUpper);\r\n        cs.push(new Constraint(rightMost, vUpper, rightMostSize));\r\n    }\r\n    var solver = new Solver(vs, cs);\r\n    solver.solve();\r\n    return {\r\n        newCenters: vs.slice(0, spans.length).map(function (v) { return v.position(); }),\r\n        lowerBound: vLower ? vLower.position() : leftMost.position() - leftMostSize,\r\n        upperBound: vUpper ? vUpper.position() : rightMost.position() + rightMostSize\r\n    };\r\n}\r\nexports.removeOverlapInOneDimension = removeOverlapInOneDimension;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidnBzYy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL3Zwc2MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBSTtJQUtJLHVCQUFtQixLQUFhO1FBQWIsVUFBSyxHQUFMLEtBQUssQ0FBUTtRQUpoQyxPQUFFLEdBQVcsQ0FBQyxDQUFDO1FBQ2YsT0FBRSxHQUFXLENBQUMsQ0FBQztRQUNmLE9BQUUsR0FBVyxDQUFDLENBQUM7SUFFb0IsQ0FBQztJQUVwQyxtQ0FBVyxHQUFYLFVBQVksQ0FBVztRQUNuQixJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUM7UUFDOUIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQzVCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUM7UUFDbEIsSUFBSSxDQUFDLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLGVBQWUsQ0FBQztRQUN2QyxJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO0lBQzVCLENBQUM7SUFFRCwrQkFBTyxHQUFQO1FBQ0ksT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDekMsQ0FBQztJQUNMLG9CQUFDO0FBQUQsQ0FBQyxBQW5CRCxJQW1CQztBQW5CWSxzQ0FBYTtBQXFCMUI7SUFLSSxvQkFBbUIsSUFBYyxFQUFTLEtBQWUsRUFBUyxHQUFXLEVBQVMsUUFBeUI7UUFBekIseUJBQUEsRUFBQSxnQkFBeUI7UUFBNUYsU0FBSSxHQUFKLElBQUksQ0FBVTtRQUFTLFVBQUssR0FBTCxLQUFL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","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TreeBase = (function () {\r\n    function TreeBase() {\r\n        this.findIter = function (data) {\r\n            var res = this._root;\r\n            var iter = this.iterator();\r\n            while (res !== null) {\r\n                var c = this._comparator(data, res.data);\r\n                if (c === 0) {\r\n                    iter._cursor = res;\r\n                    return iter;\r\n                }\r\n                else {\r\n                    iter._ancestors.push(res);\r\n                    res = res.get_child(c > 0);\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n    }\r\n    TreeBase.prototype.clear = function () {\r\n        this._root = null;\r\n        this.size = 0;\r\n    };\r\n    ;\r\n    TreeBase.prototype.find = function (data) {\r\n        var res = this._root;\r\n        while (res !== null) {\r\n            var c = this._comparator(data, res.data);\r\n            if (c === 0) {\r\n                return res.data;\r\n            }\r\n            else {\r\n                res = res.get_child(c > 0);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    ;\r\n    TreeBase.prototype.lowerBound = function (data) {\r\n        return this._bound(data, this._comparator);\r\n    };\r\n    ;\r\n    TreeBase.prototype.upperBound = function (data) {\r\n        var cmp = this._comparator;\r\n        function reverse_cmp(a, b) {\r\n            return cmp(b, a);\r\n        }\r\n        return this._bound(data, reverse_cmp);\r\n    };\r\n    ;\r\n    TreeBase.prototype.min = function () {\r\n        var res = this._root;\r\n        if (res === null) {\r\n            return null;\r\n        }\r\n        while (res.left !== null) {\r\n            res = res.left;\r\n        }\r\n        return res.data;\r\n    };\r\n    ;\r\n    TreeBase.prototype.max = function () {\r\n        var res = this._root;\r\n        if (res === null) {\r\n            return null;\r\n        }\r\n        while (res.right !== null) {\r\n            res = res.right;\r\n        }\r\n        return res.data;\r\n    };\r\n    ;\r\n    TreeBase.prototype.iterator = function () {\r\n        return new Iterator(this);\r\n    };\r\n    ;\r\n    TreeBase.prototype.each = function (cb) {\r\n        var it = this.iterator(), data;\r\n        while ((data = it.next()) !== null) {\r\n            cb(data);\r\n        }\r\n    };\r\n    ;\r\n    TreeBase.prototype.reach = function (cb) {\r\n        var it = this.iterator(), data;\r\n        while ((data = it.prev()) !== null) {\r\n            cb(data);\r\n        }\r\n    };\r\n    ;\r\n    TreeBase.prototype._bound = function (data, cmp) {\r\n        var cur = this._root;\r\n        var iter = this.iterator();\r\n        while (cur !== null) {\r\n            var c = this._comparator(data, cur.data);\r\n            if (c === 0) {\r\n                iter._cursor = cur;\r\n                return iter;\r\n            }\r\n            iter._ancestors.push(cur);\r\n            cur = cur.get_child(c > 0);\r\n        }\r\n        for (var i = iter._ancestors.length - 1; i >= 0; --i) {\r\n            cur = iter._ancestors[i];\r\n            if (cmp(data, cur.data) > 0) {\r\n                iter._cursor = cur;\r\n                iter._ancestors.length = i;\r\n                return iter;\r\n            }\r\n        }\r\n        iter._ancestors.length = 0;\r\n        return iter;\r\n    };\r\n    ;\r\n    return TreeBase;\r\n}());\r\nexports.TreeBase = TreeBase;\r\nvar Iterator = (function () {\r\n    function Iterator(tree) {\r\n        this._tree = tree;\r\n        this._ancestors = [];\r\n        this._cursor = null;\r\n    }\r\n    Iterator.prototype.data = function () {\r\n        return this._cursor !== null ? this._cursor.data : null;\r\n    };\r\n    ;\r\n    Iterator.prototype.next = function () {\r\n        if (this._cursor === null) {\r\n            var root = this._tree._root;\r\n            if (root !== null) {\r\n                this._minNode(root);\r\n            }\r\n        }\r\n        else {\r\n            if (this._cursor.right === null) {\r\n                var save;\r\n                do {\r\n                    save = this._cursor;\r\n                    if (this._ancestors.length) {\r\n                        this._cursor = this._ancestors.pop();\r\n                    }\r\n                    else {\r\n                        this._cursor = null;\r\n                        break;\r\n                    }\r\n                } while (this._cursor.right === save);\r\n            }\r\n            else {\r\n                this._ancestors.push(this._cursor);\r\n                this._minNode(this._cursor.right);\r\n            }\r\n        }\r\n        return this._cursor !== null ? this._cursor.data : null;\r\n    };\r\n    ;\r\n    Iterator.prototype.prev = function () {\r\n        if (this._cursor === null) {\r\n            var root = this._tree._root;\r\n            if (root !== null) {\r\n                this._maxNode(root);\r\n            }\r\n        }\r\n        else {\r\n            if (this._cursor.left === null) {\r\n                var save;\r\n                do {\r\n                    save = this._cursor;\r\n                    if (this._ancestors.length) {\r\n                        this._cursor = this._ancestors.pop();\r\n                    }\r\n                    else {\r\n                        this._cursor = null;\r\n                        break;\r\n                    }\r\n                } while (this._cursor.left === save);\r\n            }\r\n            else {\r\n                this._ancestors.push(this._cursor);\r\n                this._maxNode(this._cursor.left);\r\n            }\r\n        }\r\n        return this._cursor !== null ? this._cursor.data : null;\r\n    };\r\n    ;\r\n    Iterator.prototype._minNode = function (start) {\r\n        while (start.left !== null) {\r\n            this._ancestors.push(start);\r\n            start = start.left;\r\n        }\r\n        this._cursor = start;\r\n    };\r\n    ;\r\n    Iterator.prototype._maxNode = function (start) {\r\n        while (start.right !== null) {\r\n            this._ancestors.push(start);\r\n            start = start.right;\r\n        }\r\n        this._cursor = start;\r\n    };\r\n    ;\r\n    return Iterator;\r\n}());\r\nexports.Iterator = Iterator;\r\nvar Node = (function () {\r\n    function Node(data) {\r\n        this.data = data;\r\n        this.left = null;\r\n        this.right = null;\r\n        this.red = true;\r\n    }\r\n    Node.prototype.get_child = function (dir) {\r\n        return dir ? this.right : this.left;\r\n    };\r\n    ;\r\n    Node.prototype.set_child = function (dir, val) {\r\n        if (dir) {\r\n            this.right = val;\r\n        }\r\n        else {\r\n            this.left = val;\r\n        }\r\n    };\r\n    ;\r\n    return Node;\r\n}());\r\nvar RBTree = (function (_super) {\r\n    __extends(RBTree, _super);\r\n    function RBTree(comparator) {\r\n        var _this = _super.call(this) || this;\r\n        _this._root = null;\r\n        _this._comparator = comparator;\r\n        _this.size = 0;\r\n        return _this;\r\n    }\r\n    RBTree.prototype.insert = function (data) {\r\n        var ret = false;\r\n        if (this._root === null) {\r\n            this._root = new Node(data);\r\n            ret = true;\r\n            this.size++;\r\n        }\r\n        else {\r\n            var head = new Node(undefined);\r\n            var dir = false;\r\n            var last = false;\r\n            var gp = null;\r\n            var ggp = head;\r\n            var p = null;\r\n            var node = this._root;\r\n            ggp.right = this._root;\r\n            while (true) {\r\n                if (node === null) {\r\n                    node = new Node(data);\r\n                    p.set_child(dir, node);\r\n                    ret = true;\r\n                    this.size++;\r\n                }\r\n                else if (RBTree.is_red(node.left) && RBTree.is_red(node.right)) {\r\n                    node.red = true;\r\n                    node.left.red = false;\r\n                    node.right.red = false;\r\n                }\r\n                if (RBTree.is_red(node) && RBTree.is_red(p)) {\r\n                    var dir2 = ggp.right === gp;\r\n                    if (node === p.get_child(last)) {\r\n                        ggp.set_child(dir2, RBTree.single_rotate(gp, !last));\r\n                    }\r\n                    else {\r\n                        ggp.set_child(dir2, RBTree.double_rotate(gp, !last));\r\n                    }\r\n                }\r\n                var cmp = this._comparator(node.data, data);\r\n                if (cmp === 0) {\r\n                    break;\r\n                }\r\n                last = dir;\r\n                dir = cmp < 0;\r\n                if (gp !== null) {\r\n                    ggp = gp;\r\n                }\r\n                gp = p;\r\n                p = node;\r\n                node = node.get_child(dir);\r\n            }\r\n            this._root = head.right;\r\n        }\r\n        this._root.red = false;\r\n        return ret;\r\n    };\r\n    ;\r\n    RBTree.prototype.remove = function (data) {\r\n        if (this._root === null) {\r\n            return false;\r\n        }\r\n        var head = new Node(undefined);\r\n        var node = head;\r\n        node.right = this._root;\r\n        var p = null;\r\n        var gp = null;\r\n        var found = null;\r\n        var dir = true;\r\n        while (node.get_child(dir) !== null) {\r\n            var last = dir;\r\n            gp = p;\r\n            p = node;\r\n            node = node.get_child(dir);\r\n            var cmp = this._comparator(data, node.data);\r\n            dir = cmp > 0;\r\n            if (cmp === 0) {\r\n                found = node;\r\n            }\r\n            if (!RBTree.is_red(node) && !RBTree.is_red(node.get_child(dir))) {\r\n                if (RBTree.is_red(node.get_child(!dir))) {\r\n                    var sr = RBTree.single_rotate(node, dir);\r\n                    p.set_child(last, sr);\r\n                    p = sr;\r\n                }\r\n                else if (!RBTree.is_red(node.get_child(!dir))) {\r\n                    var sibling = p.get_child(!last);\r\n                    if (sibling !== null) {\r\n                        if (!RBTree.is_red(sibling.get_child(!last)) && !RBTree.is_red(sibling.get_child(last))) {\r\n                            p.red = false;\r\n                            sibling.red = true;\r\n                            node.red = true;\r\n                        }\r\n                        else {\r\n                            var dir2 = gp.right === p;\r\n                            if (RBTree.is_red(sibling.get_child(last))) {\r\n                                gp.set_child(dir2, RBTree.double_rotate(p, last));\r\n                            }\r\n                            else if (RBTree.is_red(sibling.get_child(!last))) {\r\n                                gp.set_child(dir2, RBTree.single_rotate(p, last));\r\n                            }\r\n                            var gpc = gp.get_child(dir2);\r\n                            gpc.red = true;\r\n                            node.red = true;\r\n                            gpc.left.red = false;\r\n                            gpc.right.red = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (found !== null) {\r\n            found.data = node.data;\r\n            p.set_child(p.right === node, node.get_child(node.left === null));\r\n            this.size--;\r\n        }\r\n        this._root = head.right;\r\n        if (this._root !== null) {\r\n            this._root.red = false;\r\n        }\r\n        return found !== null;\r\n    };\r\n    ;\r\n    RBTree.is_red = function (node) {\r\n        return node !== null && node.red;\r\n    };\r\n    RBTree.single_rotate = function (root, dir) {\r\n        var save = root.get_child(!dir);\r\n        root.set_child(!dir, save.get_child(dir));\r\n        save.set_child(dir, root);\r\n        root.red = true;\r\n        save.red = false;\r\n        return save;\r\n    };\r\n    RBTree.double_rotate = function (root, dir) {\r\n        root.set_child(!dir, RBTree.single_rotate(root.get_child(!dir), !dir));\r\n        return RBTree.single_rotate(root, dir);\r\n    };\r\n    return RBTree;\r\n}(TreeBase));\r\nexports.RBTree = RBTree;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmJ0cmVlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvcmJ0cmVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQXVCSTtJQUFBO1FBNEJJLGFBQVEsR0FBRyxVQUFVLElBQUk7WUFDckIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUNyQixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFM0IsT0FBTyxHQUFHLEtBQUssSUFBSSxFQUFFO2dCQUNqQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3pDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRTtvQkFDVCxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztvQkFDbkIsT0FBTyxJQUFJLENBQUM7aUJBQ2Y7cUJBQ0k7b0JBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQzFCLEdBQUcsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztpQkFDOUI7YUFDSjtZQUVELE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUMsQ0FBQztJQStGTixDQUFDO0lBdklHLHdCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztJQUNsQixDQUFDO0lBQUEsQ0FBQztJQUdGLHVCQUFJLEdBQUosVUFBSyxJQUFJO1FBQ0wsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUVyQixPQUFPLEdBQUcsS0FBSyxJQUFJLEVBQUU7WUFDakIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFD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","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar vpsc_1 = require(\"./vpsc\");\r\nvar rbtree_1 = require(\"./rbtree\");\r\nfunction computeGroupBounds(g) {\r\n    g.bounds = typeof g.leaves !== \"undefined\" ?\r\n        g.leaves.reduce(function (r, c) { return c.bounds.union(r); }, Rectangle.empty()) :\r\n        Rectangle.empty();\r\n    if (typeof g.groups !== \"undefined\")\r\n        g.bounds = g.groups.reduce(function (r, c) { return computeGroupBounds(c).union(r); }, g.bounds);\r\n    g.bounds = g.bounds.inflate(g.padding);\r\n    return g.bounds;\r\n}\r\nexports.computeGroupBounds = computeGroupBounds;\r\nvar Rectangle = (function () {\r\n    function Rectangle(x, X, y, Y) {\r\n        this.x = x;\r\n        this.X = X;\r\n        this.y = y;\r\n        this.Y = Y;\r\n    }\r\n    Rectangle.empty = function () { return new Rectangle(Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY, Number.POSITIVE_INFINITY, Number.NEGATIVE_INFINITY); };\r\n    Rectangle.prototype.cx = function () { return (this.x + this.X) / 2; };\r\n    Rectangle.prototype.cy = function () { return (this.y + this.Y) / 2; };\r\n    Rectangle.prototype.overlapX = function (r) {\r\n        var ux = this.cx(), vx = r.cx();\r\n        if (ux <= vx && r.x < this.X)\r\n            return this.X - r.x;\r\n        if (vx <= ux && this.x < r.X)\r\n            return r.X - this.x;\r\n        return 0;\r\n    };\r\n    Rectangle.prototype.overlapY = function (r) {\r\n        var uy = this.cy(), vy = r.cy();\r\n        if (uy <= vy && r.y < this.Y)\r\n            return this.Y - r.y;\r\n        if (vy <= uy && this.y < r.Y)\r\n            return r.Y - this.y;\r\n        return 0;\r\n    };\r\n    Rectangle.prototype.setXCentre = function (cx) {\r\n        var dx = cx - this.cx();\r\n        this.x += dx;\r\n        this.X += dx;\r\n    };\r\n    Rectangle.prototype.setYCentre = function (cy) {\r\n        var dy = cy - this.cy();\r\n        this.y += dy;\r\n        this.Y += dy;\r\n    };\r\n    Rectangle.prototype.width = function () {\r\n        return this.X - this.x;\r\n    };\r\n    Rectangle.prototype.height = function () {\r\n        return this.Y - this.y;\r\n    };\r\n    Rectangle.prototype.union = function (r) {\r\n        return new Rectangle(Math.min(this.x, r.x), Math.max(this.X, r.X), Math.min(this.y, r.y), Math.max(this.Y, r.Y));\r\n    };\r\n    Rectangle.prototype.lineIntersections = function (x1, y1, x2, y2) {\r\n        var sides = [[this.x, this.y, this.X, this.y],\r\n            [this.X, this.y, this.X, this.Y],\r\n            [this.X, this.Y, this.x, this.Y],\r\n            [this.x, this.Y, this.x, this.y]];\r\n        var intersections = [];\r\n        for (var i = 0; i < 4; ++i) {\r\n            var r = Rectangle.lineIntersection(x1, y1, x2, y2, sides[i][0], sides[i][1], sides[i][2], sides[i][3]);\r\n            if (r !== null)\r\n                intersections.push({ x: r.x, y: r.y });\r\n        }\r\n        return intersections;\r\n    };\r\n    Rectangle.prototype.rayIntersection = function (x2, y2) {\r\n        var ints = this.lineIntersections(this.cx(), this.cy(), x2, y2);\r\n        return ints.length > 0 ? ints[0] : null;\r\n    };\r\n    Rectangle.prototype.vertices = function () {\r\n        return [\r\n            { x: this.x, y: this.y },\r\n            { x: this.X, y: this.y },\r\n            { x: this.X, y: this.Y },\r\n            { x: this.x, y: this.Y }\r\n        ];\r\n    };\r\n    Rectangle.lineIntersection = function (x1, y1, x2, y2, x3, y3, x4, y4) {\r\n        var dx12 = x2 - x1, dx34 = x4 - x3, dy12 = y2 - y1, dy34 = y4 - y3, denominator = dy34 * dx12 - dx34 * dy12;\r\n        if (denominator == 0)\r\n            return null;\r\n        var dx31 = x1 - x3, dy31 = y1 - y3, numa = dx34 * dy31 - dy34 * dx31, a = numa / denominator, numb = dx12 * dy31 - dy12 * dx31, b = numb / denominator;\r\n        if (a >= 0 && a <= 1 && b >= 0 && b <= 1) {\r\n            return {\r\n                x: x1 + a * dx12,\r\n                y: y1 + a * dy12\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    Rectangle.prototype.inflate = function (pad) {\r\n        return new Rectangle(this.x - pad, this.X + pad, this.y - pad, this.Y + pad);\r\n    };\r\n    return Rectangle;\r\n}());\r\nexports.Rectangle = Rectangle;\r\nfunction makeEdgeBetween(source, target, ah) {\r\n    var si = source.rayIntersection(target.cx(), target.cy()) || { x: source.cx(), y: source.cy() }, ti = target.rayIntersection(source.cx(), source.cy()) || { x: target.cx(), y: target.cy() }, dx = ti.x - si.x, dy = ti.y - si.y, l = Math.sqrt(dx * dx + dy * dy), al = l - ah;\r\n    return {\r\n        sourceIntersection: si,\r\n        targetIntersection: ti,\r\n        arrowStart: { x: si.x + al * dx / l, y: si.y + al * dy / l }\r\n    };\r\n}\r\nexports.makeEdgeBetween = makeEdgeBetween;\r\nfunction makeEdgeTo(s, target, ah) {\r\n    var ti = target.rayIntersection(s.x, s.y);\r\n    if (!ti)\r\n        ti = { x: target.cx(), y: target.cy() };\r\n    var dx = ti.x - s.x, dy = ti.y - s.y, l = Math.sqrt(dx * dx + dy * dy);\r\n    return { x: ti.x - ah * dx / l, y: ti.y - ah * dy / l };\r\n}\r\nexports.makeEdgeTo = makeEdgeTo;\r\nvar Node = (function () {\r\n    function Node(v, r, pos) {\r\n        this.v = v;\r\n        this.r = r;\r\n        this.pos = pos;\r\n        this.prev = makeRBTree();\r\n        this.next = makeRBTree();\r\n    }\r\n    return Node;\r\n}());\r\nvar Event = (function () {\r\n    function Event(isOpen, v, pos) {\r\n        this.isOpen = isOpen;\r\n        this.v = v;\r\n        this.pos = pos;\r\n    }\r\n    return Event;\r\n}());\r\nfunction compareEvents(a, b) {\r\n    if (a.pos > b.pos) {\r\n        return 1;\r\n    }\r\n    if (a.pos < b.pos) {\r\n        return -1;\r\n    }\r\n    if (a.isOpen) {\r\n        return -1;\r\n    }\r\n    if (b.isOpen) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\nfunction makeRBTree() {\r\n    return new rbtree_1.RBTree(function (a, b) { return a.pos - b.pos; });\r\n}\r\nvar xRect = {\r\n    getCentre: function (r) { return r.cx(); },\r\n    getOpen: function (r) { return r.y; },\r\n    getClose: function (r) { return r.Y; },\r\n    getSize: function (r) { return r.width(); },\r\n    makeRect: function (open, close, center, size) { return new Rectangle(center - size / 2, center + size / 2, open, close); },\r\n    findNeighbours: findXNeighbours\r\n};\r\nvar yRect = {\r\n    getCentre: function (r) { return r.cy(); },\r\n    getOpen: function (r) { return r.x; },\r\n    getClose: function (r) { return r.X; },\r\n    getSize: function (r) { return r.height(); },\r\n    makeRect: function (open, close, center, size) { return new Rectangle(open, close, center - size / 2, center + size / 2); },\r\n    findNeighbours: findYNeighbours\r\n};\r\nfunction generateGroupConstraints(root, f, minSep, isContained) {\r\n    if (isContained === void 0) { isContained = false; }\r\n    var padding = root.padding, gn = typeof root.groups !== 'undefined' ? root.groups.length : 0, ln = typeof root.leaves !== 'undefined' ? root.leaves.length : 0, childConstraints = !gn ? []\r\n        : root.groups.reduce(function (ccs, g) { return ccs.concat(generateGroupConstraints(g, f, minSep, true)); }, []), n = (isContained ? 2 : 0) + ln + gn, vs = new Array(n), rs = new Array(n), i = 0, add = function (r, v) { rs[i] = r; vs[i++] = v; };\r\n    if (isContained) {\r\n        var b = root.bounds, c = f.getCentre(b), s = f.getSize(b) / 2, open = f.getOpen(b), close = f.getClose(b), min = c - s + padding / 2, max = c + s - padding / 2;\r\n        root.minVar.desiredPosition = min;\r\n        add(f.makeRect(open, close, min, padding), root.minVar);\r\n        root.maxVar.desiredPosition = max;\r\n        add(f.makeRect(open, close, max, padding), root.maxVar);\r\n    }\r\n    if (ln)\r\n        root.leaves.forEach(function (l) { return add(l.bounds, l.variable); });\r\n    if (gn)\r\n        root.groups.forEach(function (g) {\r\n            var b = g.bounds;\r\n            add(f.makeRect(f.getOpen(b), f.getClose(b), f.getCentre(b), f.getSize(b)), g.minVar);\r\n        });\r\n    var cs = generateConstraints(rs, vs, f, minSep);\r\n    if (gn) {\r\n        vs.forEach(function (v) { v.cOut = [], v.cIn = []; });\r\n        cs.forEach(function (c) { c.left.cOut.push(c), c.right.cIn.push(c); });\r\n        root.groups.forEach(function (g) {\r\n            var gapAdjustment = (g.padding - f.getSize(g.bounds)) / 2;\r\n            g.minVar.cIn.forEach(function (c) { return c.gap += gapAdjustment; });\r\n            g.minVar.cOut.forEach(function (c) { c.left = g.maxVar; c.gap += gapAdjustment; });\r\n        });\r\n    }\r\n    return childConstraints.concat(cs);\r\n}\r\nfunction generateConstraints(rs, vars, rect, minSep) {\r\n    var i, n = rs.length;\r\n    var N = 2 * n;\r\n    console.assert(vars.length >= n);\r\n    var events = new Array(N);\r\n    for (i = 0; i < n; ++i) {\r\n        var r = rs[i];\r\n        var v = new Node(vars[i], r, rect.getCentre(r));\r\n        events[i] = new Event(true, v, rect.getOpen(r));\r\n        events[i + n] = new Event(false, v, rect.getClose(r));\r\n    }\r\n    events.sort(compareEvents);\r\n    var cs = new Array();\r\n    var scanline = makeRBTree();\r\n    for (i = 0; i < N; ++i) {\r\n        var e = events[i];\r\n        var v = e.v;\r\n        if (e.isOpen) {\r\n            scanline.insert(v);\r\n            rect.findNeighbours(v, scanline);\r\n        }\r\n        else {\r\n            scanline.remove(v);\r\n            var makeConstraint = function (l, r) {\r\n                var sep = (rect.getSize(l.r) + rect.getSize(r.r)) / 2 + minSep;\r\n                cs.push(new vpsc_1.Constraint(l.v, r.v, sep));\r\n            };\r\n            var visitNeighbours = function (forward, reverse, mkcon) {\r\n                var u, it = v[forward].iterator();\r\n                while ((u = it[forward]()) !== null) {\r\n                    mkcon(u, v);\r\n                    u[reverse].remove(v);\r\n                }\r\n            };\r\n            visitNeighbours(\"prev\", \"next\", function (u, v) { return makeConstraint(u, v); });\r\n            visitNeighbours(\"next\", \"prev\", function (u, v) { return makeConstraint(v, u); });\r\n        }\r\n    }\r\n    console.assert(scanline.size === 0);\r\n    return cs;\r\n}\r\nfunction findXNeighbours(v, scanline) {\r\n    var f = function (forward, reverse) {\r\n        var it = scanline.findIter(v);\r\n        var u;\r\n        while ((u = it[forward]()) !== null) {\r\n            var uovervX = u.r.overlapX(v.r);\r\n            if (uovervX <= 0 || uovervX <= u.r.overlapY(v.r)) {\r\n                v[forward].insert(u);\r\n                u[reverse].insert(v);\r\n            }\r\n            if (uovervX <= 0) {\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    f(\"next\", \"prev\");\r\n    f(\"prev\", \"next\");\r\n}\r\nfunction findYNeighbours(v, scanline) {\r\n    var f = function (forward, reverse) {\r\n        var u = scanline.findIter(v)[forward]();\r\n        if (u !== null && u.r.overlapX(v.r) > 0) {\r\n            v[forward].insert(u);\r\n            u[reverse].insert(v);\r\n        }\r\n    };\r\n    f(\"next\", \"prev\");\r\n    f(\"prev\", \"next\");\r\n}\r\nfunction generateXConstraints(rs, vars) {\r\n    return generateConstraints(rs, vars, xRect, 1e-6);\r\n}\r\nexports.generateXConstraints = generateXConstraints;\r\nfunction generateYConstraints(rs, vars) {\r\n    return generateConstraints(rs, vars, yRect, 1e-6);\r\n}\r\nexports.generateYConstraints = generateYConstraints;\r\nfunction generateXGroupConstraints(root) {\r\n    return generateGroupConstraints(root, xRect, 1e-6);\r\n}\r\nexports.generateXGroupConstraints = generateXGroupConstraints;\r\nfunction generateYGroupConstraints(root) {\r\n    return generateGroupConstraints(root, yRect, 1e-6);\r\n}\r\nexports.generateYGroupConstraints = generateYGroupConstraints;\r\nfunction removeOverlaps(rs) {\r\n    var vs = rs.map(function (r) { return new vpsc_1.Variable(r.cx()); });\r\n    var cs = generateXConstraints(rs, vs);\r\n    var solver = new vpsc_1.Solver(vs, cs);\r\n    solver.solve();\r\n    vs.forEach(function (v, i) { return rs[i].setXCentre(v.position()); });\r\n    vs = rs.map(function (r) { return new vpsc_1.Variable(r.cy()); });\r\n    cs = generateYConstraints(rs, vs);\r\n    solver = new vpsc_1.Solver(vs, cs);\r\n    solver.solve();\r\n    vs.forEach(function (v, i) { return rs[i].setYCentre(v.position()); });\r\n}\r\nexports.removeOverlaps = removeOverlaps;\r\nvar IndexedVariable = (function (_super) {\r\n    __extends(IndexedVariable, _super);\r\n    function IndexedVariable(index, w) {\r\n        var _this = _super.call(this, 0, w) || this;\r\n        _this.index = index;\r\n        return _this;\r\n    }\r\n    return IndexedVariable;\r\n}(vpsc_1.Variable));\r\nexports.IndexedVariable = IndexedVariable;\r\nvar Projection = (function () {\r\n    function Projection(nodes, groups, rootGroup, constraints, avoidOverlaps) {\r\n        var _this = this;\r\n        if (rootGroup === void 0) { rootGroup = null; }\r\n        if (constraints === void 0) { constraints = null; }\r\n        if (avoidOverlaps === void 0) { avoidOverlaps = false; }\r\n        this.nodes = nodes;\r\n        this.groups = groups;\r\n        this.rootGroup = rootGroup;\r\n        this.avoidOverlaps = avoidOverlaps;\r\n        this.variables = nodes.map(function (v, i) {\r\n            return v.variable = new IndexedVariable(i, 1);\r\n        });\r\n        if (constraints)\r\n            this.createConstraints(constraints);\r\n        if (avoidOverlaps && rootGroup && typeof rootGroup.groups !== 'undefined') {\r\n            nodes.forEach(function (v) {\r\n                if (!v.width || !v.height) {\r\n                    v.bounds = new Rectangle(v.x, v.x, v.y, v.y);\r\n                    return;\r\n                }\r\n                var w2 = v.width / 2, h2 = v.height / 2;\r\n                v.bounds = new Rectangle(v.x - w2, v.x + w2, v.y - h2, v.y + h2);\r\n            });\r\n            computeGroupBounds(rootGroup);\r\n            var i = nodes.length;\r\n            groups.forEach(function (g) {\r\n                _this.variables[i] = g.minVar = new IndexedVariable(i++, typeof g.stiffness !== \"undefined\" ? g.stiffness : 0.01);\r\n                _this.variables[i] = g.maxVar = new IndexedVariable(i++, typeof g.stiffness !== \"undefined\" ? g.stiffness : 0.01);\r\n            });\r\n        }\r\n    }\r\n    Projection.prototype.createSeparation = function (c) {\r\n        return new vpsc_1.Constraint(this.nodes[c.left].variable, this.nodes[c.right].variable, c.gap, typeof c.equality !== \"undefined\" ? c.equality : false);\r\n    };\r\n    Projection.prototype.makeFeasible = function (c) {\r\n        var _this = this;\r\n        if (!this.avoidOverlaps)\r\n            return;\r\n        var axis = 'x', dim = 'width';\r\n        if (c.axis === 'x')\r\n            axis = 'y', dim = 'height';\r\n        var vs = c.offsets.map(function (o) { return _this.nodes[o.node]; }).sort(function (a, b) { return a[axis] - b[axis]; });\r\n        var p = null;\r\n        vs.forEach(function (v) {\r\n            if (p) {\r\n                var nextPos = p[axis] + p[dim];\r\n                if (nextPos > v[axis]) {\r\n                    v[axis] = nextPos;\r\n                }\r\n            }\r\n            p = v;\r\n        });\r\n    };\r\n    Projection.prototype.createAlignment = function (c) {\r\n        var _this = this;\r\n        var u = this.nodes[c.offsets[0].node].variable;\r\n        this.makeFeasible(c);\r\n        var cs = c.axis === 'x' ? this.xConstraints : this.yConstraints;\r\n        c.offsets.slice(1).forEach(function (o) {\r\n            var v = _this.nodes[o.node].variable;\r\n            cs.push(new vpsc_1.Constraint(u, v, o.offset, true));\r\n        });\r\n    };\r\n    Projection.prototype.createConstraints = function (constraints) {\r\n        var _this = this;\r\n        var isSep = function (c) { return typeof c.type === 'undefined' || c.type === 'separation'; };\r\n        this.xConstraints = constraints\r\n            .filter(function (c) { return c.axis === \"x\" && isSep(c); })\r\n            .map(function (c) { return _this.createSeparation(c); });\r\n        this.yConstraints = constraints\r\n            .filter(function (c) { return c.axis === \"y\" && isSep(c); })\r\n            .map(function (c) { return _this.createSeparation(c); });\r\n        constraints\r\n            .filter(function (c) { return c.type === 'alignment'; })\r\n            .forEach(function (c) { return _this.createAlignment(c); });\r\n    };\r\n    Projection.prototype.setupVariablesAndBounds = function (x0, y0, desired, getDesired) {\r\n        this.nodes.forEach(function (v, i) {\r\n            if (v.fixed) {\r\n                v.variable.weight = v.fixedWeight ? v.fixedWeight : 1000;\r\n                desired[i] = getDesired(v);\r\n            }\r\n            else {\r\n                v.variable.weight = 1;\r\n            }\r\n            var w = (v.width || 0) / 2, h = (v.height || 0) / 2;\r\n            var ix = x0[i], iy = y0[i];\r\n            v.bounds = new Rectangle(ix - w, ix + w, iy - h, iy + h);\r\n        });\r\n    };\r\n    Projection.prototype.xProject = function (x0, y0, x) {\r\n        if (!this.rootGroup && !(this.avoidOverlaps || this.xConstraints))\r\n            return;\r\n        this.project(x0, y0, x0, x, function (v) { return v.px; }, this.xConstraints, generateXGroupConstraints, function (v) { return v.bounds.setXCentre(x[v.variable.index] = v.variable.position()); }, function (g) {\r\n            var xmin = x[g.minVar.index] = g.minVar.position();\r\n            var xmax = x[g.maxVar.index] = g.maxVar.position();\r\n            var p2 = g.padding / 2;\r\n            g.bounds.x = xmin - p2;\r\n            g.bounds.X = xmax + p2;\r\n        });\r\n    };\r\n    Projection.prototype.yProject = function (x0, y0, y) {\r\n        if (!this.rootGroup && !this.yConstraints)\r\n            return;\r\n        this.project(x0, y0, y0, y, function (v) { return v.py; }, this.yConstraints, generateYGroupConstraints, function (v) { return v.bounds.setYCentre(y[v.variable.index] = v.variable.position()); }, function (g) {\r\n            var ymin = y[g.minVar.index] = g.minVar.position();\r\n            var ymax = y[g.maxVar.index] = g.maxVar.position();\r\n            var p2 = g.padding / 2;\r\n            g.bounds.y = ymin - p2;\r\n            ;\r\n            g.bounds.Y = ymax + p2;\r\n        });\r\n    };\r\n    Projection.prototype.projectFunctions = function () {\r\n        var _this = this;\r\n        return [\r\n            function (x0, y0, x) { return _this.xProject(x0, y0, x); },\r\n            function (x0, y0, y) { return _this.yProject(x0, y0, y); }\r\n        ];\r\n    };\r\n    Projection.prototype.project = function (x0, y0, start, desired, getDesired, cs, generateConstraints, updateNodeBounds, updateGroupBounds) {\r\n        this.setupVariablesAndBounds(x0, y0, desired, getDesired);\r\n        if (this.rootGroup && this.avoidOverlaps) {\r\n            computeGroupBounds(this.rootGroup);\r\n            cs = cs.concat(generateConstraints(this.rootGroup));\r\n        }\r\n        this.solve(this.variables, cs, start, desired);\r\n        this.nodes.forEach(updateNodeBounds);\r\n        if (this.rootGroup && this.avoidOverlaps) {\r\n            this.groups.forEach(updateGroupBounds);\r\n            computeGroupBounds(this.rootGroup);\r\n        }\r\n    };\r\n    Projection.prototype.solve = function (vs, cs, starting, desired) {\r\n        var solver = new vpsc_1.Solver(vs, cs);\r\n        solver.setStartingPositions(starting);\r\n        solver.setDesiredPositions(desired);\r\n        solver.solve();\r\n    };\r\n    return Projection;\r\n}());\r\nexports.Projection = Projection;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVjdGFuZ2xlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvcmVjdGFuZ2xlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUFtRDtBQUNuRCxtQ0FBK0I7QUFrQjNCLFNBQWdCLGtCQUFrQixDQUFDLENBQWtCO0lBQ2pELENBQUMsQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQVcsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQUMsQ0FBWSxFQUFFLENBQUMsSUFBSyxPQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFqQixDQUFpQixFQUFFLFNBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDNUUsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3RCLElBQUksT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQVc7UUFDL0IsQ0FBQyxDQUFDLE1BQU0sR0FBYyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFDLENBQVksRUFBRSxDQUFDLElBQUssT0FBQSxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQTlCLENBQThCLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3pHLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUNwQixDQUFDO0FBUkQsZ0RBUUM7QUFFRDtJQUNJLG1CQUNXLENBQVMsRUFDVCxDQUFTLEVBQ1QsQ0FBUyxFQUNULENBQVM7UUFIVCxNQUFDLEdBQUQsQ0FBQyxDQUFRO1FBQ1QsTUFBQyxHQUFELENBQUMsQ0FBUTtRQUNU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QUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNySCxDQUFDO0lBV0QscUNBQWlCLEdBQWpCLFVBQWtCLEVBQVUsRUFBRSxFQUFVLEVBQUUsRUFBVSxFQUFFLEVBQVU7UUFDNUQsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDckMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNwQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLElBQUksYUFBYSxHQUFHLEVBQUUsQ0FBQztRQUN2QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1lBQ3hCLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVB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QUcsRUFBRSxDQUFDLE1BQU0sQ0FBQztJQUNyQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLElBQUksTUFBTSxHQUFHLElBQUksS0FBSyxDQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1FBQ3BCLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2hELE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNoRCxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ3pEO0lBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUMzQixJQUFJLEVBQUUsR0FBRyxJQUFJLEtBQUssRUFBYyxDQUFDO0lBQ2pDLElBQUksUUFBUSxHQUFHLFVBQVUsRUFBRSxDQUFDO0lBQzVCLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFO1FBQ3BCLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1os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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PairingHeap = (function () {\r\n    function PairingHeap(elem) {\r\n        this.elem = elem;\r\n        this.subheaps = [];\r\n    }\r\n    PairingHeap.prototype.toString = function (selector) {\r\n        var str = \"\", needComma = false;\r\n        for (var i = 0; i < this.subheaps.length; ++i) {\r\n            var subheap = this.subheaps[i];\r\n            if (!subheap.elem) {\r\n                needComma = false;\r\n                continue;\r\n            }\r\n            if (needComma) {\r\n                str = str + \",\";\r\n            }\r\n            str = str + subheap.toString(selector);\r\n            needComma = true;\r\n        }\r\n        if (str !== \"\") {\r\n            str = \"(\" + str + \")\";\r\n        }\r\n        return (this.elem ? selector(this.elem) : \"\") + str;\r\n    };\r\n    PairingHeap.prototype.forEach = function (f) {\r\n        if (!this.empty()) {\r\n            f(this.elem, this);\r\n            this.subheaps.forEach(function (s) { return s.forEach(f); });\r\n        }\r\n    };\r\n    PairingHeap.prototype.count = function () {\r\n        return this.empty() ? 0 : 1 + this.subheaps.reduce(function (n, h) {\r\n            return n + h.count();\r\n        }, 0);\r\n    };\r\n    PairingHeap.prototype.min = function () {\r\n        return this.elem;\r\n    };\r\n    PairingHeap.prototype.empty = function () {\r\n        return this.elem == null;\r\n    };\r\n    PairingHeap.prototype.contains = function (h) {\r\n        if (this === h)\r\n            return true;\r\n        for (var i = 0; i < this.subheaps.length; i++) {\r\n            if (this.subheaps[i].contains(h))\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    PairingHeap.prototype.isHeap = function (lessThan) {\r\n        var _this = this;\r\n        return this.subheaps.every(function (h) { return lessThan(_this.elem, h.elem) && h.isHeap(lessThan); });\r\n    };\r\n    PairingHeap.prototype.insert = function (obj, lessThan) {\r\n        return this.merge(new PairingHeap(obj), lessThan);\r\n    };\r\n    PairingHeap.prototype.merge = function (heap2, lessThan) {\r\n        if (this.empty())\r\n            return heap2;\r\n        else if (heap2.empty())\r\n            return this;\r\n        else if (lessThan(this.elem, heap2.elem)) {\r\n            this.subheaps.push(heap2);\r\n            return this;\r\n        }\r\n        else {\r\n            heap2.subheaps.push(this);\r\n            return heap2;\r\n        }\r\n    };\r\n    PairingHeap.prototype.removeMin = function (lessThan) {\r\n        if (this.empty())\r\n            return null;\r\n        else\r\n            return this.mergePairs(lessThan);\r\n    };\r\n    PairingHeap.prototype.mergePairs = function (lessThan) {\r\n        if (this.subheaps.length == 0)\r\n            return new PairingHeap(null);\r\n        else if (this.subheaps.length == 1) {\r\n            return this.subheaps[0];\r\n        }\r\n        else {\r\n            var firstPair = this.subheaps.pop().merge(this.subheaps.pop(), lessThan);\r\n            var remaining = this.mergePairs(lessThan);\r\n            return firstPair.merge(remaining, lessThan);\r\n        }\r\n    };\r\n    PairingHeap.prototype.decreaseKey = function (subheap, newValue, setHeapNode, lessThan) {\r\n        var newHeap = subheap.removeMin(lessThan);\r\n        subheap.elem = newHeap.elem;\r\n        subheap.subheaps = newHeap.subheaps;\r\n        if (setHeapNode !== null && newHeap.elem !== null) {\r\n            setHeapNode(subheap.elem, subheap);\r\n        }\r\n        var pairingNode = new PairingHeap(newValue);\r\n        if (setHeapNode !== null) {\r\n            setHeapNode(newValue, pairingNode);\r\n        }\r\n        return this.merge(pairingNode, lessThan);\r\n    };\r\n    return PairingHeap;\r\n}());\r\nexports.PairingHeap = PairingHeap;\r\nvar PriorityQueue = (function () {\r\n    function PriorityQueue(lessThan) {\r\n        this.lessThan = lessThan;\r\n    }\r\n    PriorityQueue.prototype.top = function () {\r\n        if (this.empty()) {\r\n            return null;\r\n        }\r\n        return this.root.elem;\r\n    };\r\n    PriorityQueue.prototype.push = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var pairingNode;\r\n        for (var i = 0, arg; arg = args[i]; ++i) {\r\n            pairingNode = new PairingHeap(arg);\r\n            this.root = this.empty() ?\r\n                pairingNode : this.root.merge(pairingNode, this.lessThan);\r\n        }\r\n        return pairingNode;\r\n    };\r\n    PriorityQueue.prototype.empty = function () {\r\n        return !this.root || !this.root.elem;\r\n    };\r\n    PriorityQueue.prototype.isHeap = function () {\r\n        return this.root.isHeap(this.lessThan);\r\n    };\r\n    PriorityQueue.prototype.forEach = function (f) {\r\n        this.root.forEach(f);\r\n    };\r\n    PriorityQueue.prototype.pop = function () {\r\n        if (this.empty()) {\r\n            return null;\r\n        }\r\n        var obj = this.root.min();\r\n        this.root = this.root.removeMin(this.lessThan);\r\n        return obj;\r\n    };\r\n    PriorityQueue.prototype.reduceKey = function (heapNode, newKey, setHeapNode) {\r\n        if (setHeapNode === void 0) { setHeapNode = null; }\r\n        this.root = this.root.decreaseKey(heapNode, newKey, setHeapNode, this.lessThan);\r\n    };\r\n    PriorityQueue.prototype.toString = function (selector) {\r\n        return this.root.toString(selector);\r\n    };\r\n    PriorityQueue.prototype.count = function () {\r\n        return this.root.count();\r\n    };\r\n    return PriorityQueue;\r\n}());\r\nexports.PriorityQueue = PriorityQueue;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHF1ZXVlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvcHF1ZXVlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7SUFJSSxxQkFBbUIsSUFBTztRQUFQLFNBQUksR0FBSixJQUFJLENBQUc7UUFDdEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVNLDhCQUFRLEdBQWYsVUFBZ0IsUUFBUTtRQUNwQixJQUFJLEdBQUcsR0FBRyxFQUFFLEVBQUUsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUNoQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDM0MsSUFBSSxPQUFPLEdBQW1CLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUU7Z0JBQ2YsU0FBUyxHQUFHLEtBQUssQ0FBQztnQkFDbEIsU0FBUzthQUNaO1lBQ0QsSUFBSSxTQUFTLEVBQUU7Z0JBQ1gsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7YUFDbkI7WUFDRCxHQUFHLEdBQUcsR0FBRyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDdkMsU0FBUyxHQUFHLElBQUksQ0FBQztTQUNwQjtRQUNELElBQUksR0FBRyxLQUFLLEVBQUUsRUFBRTtZQUNaLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQztTQUN6QjtRQUNELE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUM7SUFDeEQsQ0FBQztJQUVNLDZCQUFPLEdBQWQsVUFBZSxDQUFD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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar pqueue_1 = require(\"./pqueue\");\r\nvar Neighbour = (function () {\r\n    function Neighbour(id, distance) {\r\n        this.id = id;\r\n        this.distance = distance;\r\n    }\r\n    return Neighbour;\r\n}());\r\nvar Node = (function () {\r\n    function Node(id) {\r\n        this.id = id;\r\n        this.neighbours = [];\r\n    }\r\n    return Node;\r\n}());\r\nvar QueueEntry = (function () {\r\n    function QueueEntry(node, prev, d) {\r\n        this.node = node;\r\n        this.prev = prev;\r\n        this.d = d;\r\n    }\r\n    return QueueEntry;\r\n}());\r\nvar Calculator = (function () {\r\n    function Calculator(n, es, getSourceIndex, getTargetIndex, getLength) {\r\n        this.n = n;\r\n        this.es = es;\r\n        this.neighbours = new Array(this.n);\r\n        var i = this.n;\r\n        while (i--)\r\n            this.neighbours[i] = new Node(i);\r\n        i = this.es.length;\r\n        while (i--) {\r\n            var e = this.es[i];\r\n            var u = getSourceIndex(e), v = getTargetIndex(e);\r\n            var d = getLength(e);\r\n            this.neighbours[u].neighbours.push(new Neighbour(v, d));\r\n            this.neighbours[v].neighbours.push(new Neighbour(u, d));\r\n        }\r\n    }\r\n    Calculator.prototype.DistanceMatrix = function () {\r\n        var D = new Array(this.n);\r\n        for (var i = 0; i < this.n; ++i) {\r\n            D[i] = this.dijkstraNeighbours(i);\r\n        }\r\n        return D;\r\n    };\r\n    Calculator.prototype.DistancesFromNode = function (start) {\r\n        return this.dijkstraNeighbours(start);\r\n    };\r\n    Calculator.prototype.PathFromNodeToNode = function (start, end) {\r\n        return this.dijkstraNeighbours(start, end);\r\n    };\r\n    Calculator.prototype.PathFromNodeToNodeWithPrevCost = function (start, end, prevCost) {\r\n        var q = new pqueue_1.PriorityQueue(function (a, b) { return a.d <= b.d; }), u = this.neighbours[start], qu = new QueueEntry(u, null, 0), visitedFrom = {};\r\n        q.push(qu);\r\n        while (!q.empty()) {\r\n            qu = q.pop();\r\n            u = qu.node;\r\n            if (u.id === end) {\r\n                break;\r\n            }\r\n            var i = u.neighbours.length;\r\n            while (i--) {\r\n                var neighbour = u.neighbours[i], v = this.neighbours[neighbour.id];\r\n                if (qu.prev && v.id === qu.prev.node.id)\r\n                    continue;\r\n                var viduid = v.id + ',' + u.id;\r\n                if (viduid in visitedFrom && visitedFrom[viduid] <= qu.d)\r\n                    continue;\r\n                var cc = qu.prev ? prevCost(qu.prev.node.id, u.id, v.id) : 0, t = qu.d + neighbour.distance + cc;\r\n                visitedFrom[viduid] = t;\r\n                q.push(new QueueEntry(v, qu, t));\r\n            }\r\n        }\r\n        var path = [];\r\n        while (qu.prev) {\r\n            qu = qu.prev;\r\n            path.push(qu.node.id);\r\n        }\r\n        return path;\r\n    };\r\n    Calculator.prototype.dijkstraNeighbours = function (start, dest) {\r\n        if (dest === void 0) { dest = -1; }\r\n        var q = new pqueue_1.PriorityQueue(function (a, b) { return a.d <= b.d; }), i = this.neighbours.length, d = new Array(i);\r\n        while (i--) {\r\n            var node = this.neighbours[i];\r\n            node.d = i === start ? 0 : Number.POSITIVE_INFINITY;\r\n            node.q = q.push(node);\r\n        }\r\n        while (!q.empty()) {\r\n            var u = q.pop();\r\n            d[u.id] = u.d;\r\n            if (u.id === dest) {\r\n                var path = [];\r\n                var v = u;\r\n                while (typeof v.prev !== 'undefined') {\r\n                    path.push(v.prev.id);\r\n                    v = v.prev;\r\n                }\r\n                return path;\r\n            }\r\n            i = u.neighbours.length;\r\n            while (i--) {\r\n                var neighbour = u.neighbours[i];\r\n                var v = this.neighbours[neighbour.id];\r\n                var t = u.d + neighbour.distance;\r\n                if (u.d !== Number.MAX_VALUE && v.d > t) {\r\n                    v.d = t;\r\n                    v.prev = u;\r\n                    q.reduceKey(v.q, v, function (e, q) { return e.q = q; });\r\n                }\r\n            }\r\n        }\r\n        return d;\r\n    };\r\n    return Calculator;\r\n}());\r\nexports.Calculator = Calculator;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2hvcnRlc3RwYXRocy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL3Nob3J0ZXN0cGF0aHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxtQ0FBbUQ7QUFFbkQ7SUFDSSxtQkFBbUIsRUFBVSxFQUFTLFFBQWdCO1FBQW5DLE9BQUUsR0FBRixFQUFFLENBQVE7UUFBUyxhQUFRLEdBQVIsUUFBUSxDQUFRO0lBQUksQ0FBQztJQUMvRCxnQkFBQztBQUFELENBQUMsQUFGRCxJQUVDO0FBRUQ7SUFDSSxjQUFtQixFQUFVO1FBQVYsT0FBRSxHQUFGLEVBQUUsQ0FBUTtRQUN6QixJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBS0wsV0FBQztBQUFELENBQUMsQUFSRCxJQVFDO0FBRUQ7SUFDSSxvQkFBbUIsSUFBVSxFQUFTLElBQWdCLEVBQVMsQ0FBUztRQUFyRCxTQUFJLEdBQUosSUFBSSxDQUFNO1FBQVMsU0FBSSxHQUFKLElBQUksQ0FBWTtRQUFTLE1BQUMsR0FBRCxDQUFDLENBQVE7SUFBRyxDQUFDO0lBQ2hGLGlCQUFDO0FBQUQsQ0FBQyxBQUZELElBRUM7QUFTRDtJQUdJLG9CQUFtQixDQUFTLEVBQVMsRUFBVSxFQUFFLGNBQW1DLEVBQUUsY0FBbUMsRUFBRSxTQUE4QjtRQUF0SSxNQUFDLEdBQUQsQ0FBQyxDQUFRO1FBQVMsT0FBRSxHQUFGLEVBQUUsQ0FBUTtRQUMzQyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTdELENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFD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","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar rectangle_1 = require(\"./rectangle\");\r\nvar Point = (function () {\r\n    function Point() {\r\n    }\r\n    return Point;\r\n}());\r\nexports.Point = Point;\r\nvar LineSegment = (function () {\r\n    function LineSegment(x1, y1, x2, y2) {\r\n        this.x1 = x1;\r\n        this.y1 = y1;\r\n        this.x2 = x2;\r\n        this.y2 = y2;\r\n    }\r\n    return LineSegment;\r\n}());\r\nexports.LineSegment = LineSegment;\r\nvar PolyPoint = (function (_super) {\r\n    __extends(PolyPoint, _super);\r\n    function PolyPoint() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return PolyPoint;\r\n}(Point));\r\nexports.PolyPoint = PolyPoint;\r\nfunction isLeft(P0, P1, P2) {\r\n    return (P1.x - P0.x) * (P2.y - P0.y) - (P2.x - P0.x) * (P1.y - P0.y);\r\n}\r\nexports.isLeft = isLeft;\r\nfunction above(p, vi, vj) {\r\n    return isLeft(p, vi, vj) > 0;\r\n}\r\nfunction below(p, vi, vj) {\r\n    return isLeft(p, vi, vj) < 0;\r\n}\r\nfunction ConvexHull(S) {\r\n    var P = S.slice(0).sort(function (a, b) { return a.x !== b.x ? b.x - a.x : b.y - a.y; });\r\n    var n = S.length, i;\r\n    var minmin = 0;\r\n    var xmin = P[0].x;\r\n    for (i = 1; i < n; ++i) {\r\n        if (P[i].x !== xmin)\r\n            break;\r\n    }\r\n    var minmax = i - 1;\r\n    var H = [];\r\n    H.push(P[minmin]);\r\n    if (minmax === n - 1) {\r\n        if (P[minmax].y !== P[minmin].y)\r\n            H.push(P[minmax]);\r\n    }\r\n    else {\r\n        var maxmin, maxmax = n - 1;\r\n        var xmax = P[n - 1].x;\r\n        for (i = n - 2; i >= 0; i--)\r\n            if (P[i].x !== xmax)\r\n                break;\r\n        maxmin = i + 1;\r\n        i = minmax;\r\n        while (++i <= maxmin) {\r\n            if (isLeft(P[minmin], P[maxmin], P[i]) >= 0 && i < maxmin)\r\n                continue;\r\n            while (H.length > 1) {\r\n                if (isLeft(H[H.length - 2], H[H.length - 1], P[i]) > 0)\r\n                    break;\r\n                else\r\n                    H.length -= 1;\r\n            }\r\n            if (i != minmin)\r\n                H.push(P[i]);\r\n        }\r\n        if (maxmax != maxmin)\r\n            H.push(P[maxmax]);\r\n        var bot = H.length;\r\n        i = maxmin;\r\n        while (--i >= minmax) {\r\n            if (isLeft(P[maxmax], P[minmax], P[i]) >= 0 && i > minmax)\r\n                continue;\r\n            while (H.length > bot) {\r\n                if (isLeft(H[H.length - 2], H[H.length - 1], P[i]) > 0)\r\n                    break;\r\n                else\r\n                    H.length -= 1;\r\n            }\r\n            if (i != minmin)\r\n                H.push(P[i]);\r\n        }\r\n    }\r\n    return H;\r\n}\r\nexports.ConvexHull = ConvexHull;\r\nfunction clockwiseRadialSweep(p, P, f) {\r\n    P.slice(0).sort(function (a, b) { return Math.atan2(a.y - p.y, a.x - p.x) - Math.atan2(b.y - p.y, b.x - p.x); }).forEach(f);\r\n}\r\nexports.clockwiseRadialSweep = clockwiseRadialSweep;\r\nfunction nextPolyPoint(p, ps) {\r\n    if (p.polyIndex === ps.length - 1)\r\n        return ps[0];\r\n    return ps[p.polyIndex + 1];\r\n}\r\nfunction prevPolyPoint(p, ps) {\r\n    if (p.polyIndex === 0)\r\n        return ps[ps.length - 1];\r\n    return ps[p.polyIndex - 1];\r\n}\r\nfunction tangent_PointPolyC(P, V) {\r\n    var Vclosed = V.slice(0);\r\n    Vclosed.push(V[0]);\r\n    return { rtan: Rtangent_PointPolyC(P, Vclosed), ltan: Ltangent_PointPolyC(P, Vclosed) };\r\n}\r\nfunction Rtangent_PointPolyC(P, V) {\r\n    var n = V.length - 1;\r\n    var a, b, c;\r\n    var upA, dnC;\r\n    if (below(P, V[1], V[0]) && !above(P, V[n - 1], V[0]))\r\n        return 0;\r\n    for (a = 0, b = n;;) {\r\n        if (b - a === 1)\r\n            if (above(P, V[a], V[b]))\r\n                return a;\r\n            else\r\n                return b;\r\n        c = Math.floor((a + b) / 2);\r\n        dnC = below(P, V[c + 1], V[c]);\r\n        if (dnC && !above(P, V[c - 1], V[c]))\r\n            return c;\r\n        upA = above(P, V[a + 1], V[a]);\r\n        if (upA) {\r\n            if (dnC)\r\n                b = c;\r\n            else {\r\n                if (above(P, V[a], V[c]))\r\n                    b = c;\r\n                else\r\n                    a = c;\r\n            }\r\n        }\r\n        else {\r\n            if (!dnC)\r\n                a = c;\r\n            else {\r\n                if (below(P, V[a], V[c]))\r\n                    b = c;\r\n                else\r\n                    a = c;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction Ltangent_PointPolyC(P, V) {\r\n    var n = V.length - 1;\r\n    var a, b, c;\r\n    var dnA, dnC;\r\n    if (above(P, V[n - 1], V[0]) && !below(P, V[1], V[0]))\r\n        return 0;\r\n    for (a = 0, b = n;;) {\r\n        if (b - a === 1)\r\n            if (below(P, V[a], V[b]))\r\n                return a;\r\n            else\r\n                return b;\r\n        c = Math.floor((a + b) / 2);\r\n        dnC = below(P, V[c + 1], V[c]);\r\n        if (above(P, V[c - 1], V[c]) && !dnC)\r\n            return c;\r\n        dnA = below(P, V[a + 1], V[a]);\r\n        if (dnA) {\r\n            if (!dnC)\r\n                b = c;\r\n            else {\r\n                if (below(P, V[a], V[c]))\r\n                    b = c;\r\n                else\r\n                    a = c;\r\n            }\r\n        }\r\n        else {\r\n            if (dnC)\r\n                a = c;\r\n            else {\r\n                if (above(P, V[a], V[c]))\r\n                    b = c;\r\n                else\r\n                    a = c;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction tangent_PolyPolyC(V, W, t1, t2, cmp1, cmp2) {\r\n    var ix1, ix2;\r\n    ix1 = t1(W[0], V);\r\n    ix2 = t2(V[ix1], W);\r\n    var done = false;\r\n    while (!done) {\r\n        done = true;\r\n        while (true) {\r\n            if (ix1 === V.length - 1)\r\n                ix1 = 0;\r\n            if (cmp1(W[ix2], V[ix1], V[ix1 + 1]))\r\n                break;\r\n            ++ix1;\r\n        }\r\n        while (true) {\r\n            if (ix2 === 0)\r\n                ix2 = W.length - 1;\r\n            if (cmp2(V[ix1], W[ix2], W[ix2 - 1]))\r\n                break;\r\n            --ix2;\r\n            done = false;\r\n        }\r\n    }\r\n    return { t1: ix1, t2: ix2 };\r\n}\r\nexports.tangent_PolyPolyC = tangent_PolyPolyC;\r\nfunction LRtangent_PolyPolyC(V, W) {\r\n    var rl = RLtangent_PolyPolyC(W, V);\r\n    return { t1: rl.t2, t2: rl.t1 };\r\n}\r\nexports.LRtangent_PolyPolyC = LRtangent_PolyPolyC;\r\nfunction RLtangent_PolyPolyC(V, W) {\r\n    return tangent_PolyPolyC(V, W, Rtangent_PointPolyC, Ltangent_PointPolyC, above, below);\r\n}\r\nexports.RLtangent_PolyPolyC = RLtangent_PolyPolyC;\r\nfunction LLtangent_PolyPolyC(V, W) {\r\n    return tangent_PolyPolyC(V, W, Ltangent_PointPolyC, Ltangent_PointPolyC, below, below);\r\n}\r\nexports.LLtangent_PolyPolyC = LLtangent_PolyPolyC;\r\nfunction RRtangent_PolyPolyC(V, W) {\r\n    return tangent_PolyPolyC(V, W, Rtangent_PointPolyC, Rtangent_PointPolyC, above, above);\r\n}\r\nexports.RRtangent_PolyPolyC = RRtangent_PolyPolyC;\r\nvar BiTangent = (function () {\r\n    function BiTangent(t1, t2) {\r\n        this.t1 = t1;\r\n        this.t2 = t2;\r\n    }\r\n    return BiTangent;\r\n}());\r\nexports.BiTangent = BiTangent;\r\nvar BiTangents = (function () {\r\n    function BiTangents() {\r\n    }\r\n    return BiTangents;\r\n}());\r\nexports.BiTangents = BiTangents;\r\nvar TVGPoint = (function (_super) {\r\n    __extends(TVGPoint, _super);\r\n    function TVGPoint() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return TVGPoint;\r\n}(Point));\r\nexports.TVGPoint = TVGPoint;\r\nvar VisibilityVertex = (function () {\r\n    function VisibilityVertex(id, polyid, polyvertid, p) {\r\n        this.id = id;\r\n        this.polyid = polyid;\r\n        this.polyvertid = polyvertid;\r\n        this.p = p;\r\n        p.vv = this;\r\n    }\r\n    return VisibilityVertex;\r\n}());\r\nexports.VisibilityVertex = VisibilityVertex;\r\nvar VisibilityEdge = (function () {\r\n    function VisibilityEdge(source, target) {\r\n        this.source = source;\r\n        this.target = target;\r\n    }\r\n    VisibilityEdge.prototype.length = function () {\r\n        var dx = this.source.p.x - this.target.p.x;\r\n        var dy = this.source.p.y - this.target.p.y;\r\n        return Math.sqrt(dx * dx + dy * dy);\r\n    };\r\n    return VisibilityEdge;\r\n}());\r\nexports.VisibilityEdge = VisibilityEdge;\r\nvar TangentVisibilityGraph = (function () {\r\n    function TangentVisibilityGraph(P, g0) {\r\n        this.P = P;\r\n        this.V = [];\r\n        this.E = [];\r\n        if (!g0) {\r\n            var n = P.length;\r\n            for (var i = 0; i < n; i++) {\r\n                var p = P[i];\r\n                for (var j = 0; j < p.length; ++j) {\r\n                    var pj = p[j], vv = new VisibilityVertex(this.V.length, i, j, pj);\r\n                    this.V.push(vv);\r\n                    if (j > 0)\r\n                        this.E.push(new VisibilityEdge(p[j - 1].vv, vv));\r\n                }\r\n                if (p.length > 1)\r\n                    this.E.push(new VisibilityEdge(p[0].vv, p[p.length - 1].vv));\r\n            }\r\n            for (var i = 0; i < n - 1; i++) {\r\n                var Pi = P[i];\r\n                for (var j = i + 1; j < n; j++) {\r\n                    var Pj = P[j], t = tangents(Pi, Pj);\r\n                    for (var q in t) {\r\n                        var c = t[q], source = Pi[c.t1], target = Pj[c.t2];\r\n                        this.addEdgeIfVisible(source, target, i, j);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.V = g0.V.slice(0);\r\n            this.E = g0.E.slice(0);\r\n        }\r\n    }\r\n    TangentVisibilityGraph.prototype.addEdgeIfVisible = function (u, v, i1, i2) {\r\n        if (!this.intersectsPolys(new LineSegment(u.x, u.y, v.x, v.y), i1, i2)) {\r\n            this.E.push(new VisibilityEdge(u.vv, v.vv));\r\n        }\r\n    };\r\n    TangentVisibilityGraph.prototype.addPoint = function (p, i1) {\r\n        var n = this.P.length;\r\n        this.V.push(new VisibilityVertex(this.V.length, n, 0, p));\r\n        for (var i = 0; i < n; ++i) {\r\n            if (i === i1)\r\n                continue;\r\n            var poly = this.P[i], t = tangent_PointPolyC(p, poly);\r\n            this.addEdgeIfVisible(p, poly[t.ltan], i1, i);\r\n            this.addEdgeIfVisible(p, poly[t.rtan], i1, i);\r\n        }\r\n        return p.vv;\r\n    };\r\n    TangentVisibilityGraph.prototype.intersectsPolys = function (l, i1, i2) {\r\n        for (var i = 0, n = this.P.length; i < n; ++i) {\r\n            if (i != i1 && i != i2 && intersects(l, this.P[i]).length > 0) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return TangentVisibilityGraph;\r\n}());\r\nexports.TangentVisibilityGraph = TangentVisibilityGraph;\r\nfunction intersects(l, P) {\r\n    var ints = [];\r\n    for (var i = 1, n = P.length; i < n; ++i) {\r\n        var int = rectangle_1.Rectangle.lineIntersection(l.x1, l.y1, l.x2, l.y2, P[i - 1].x, P[i - 1].y, P[i].x, P[i].y);\r\n        if (int)\r\n            ints.push(int);\r\n    }\r\n    return ints;\r\n}\r\nfunction tangents(V, W) {\r\n    var m = V.length - 1, n = W.length - 1;\r\n    var bt = new BiTangents();\r\n    for (var i = 0; i < m; ++i) {\r\n        for (var j = 0; j < n; ++j) {\r\n            var v1 = V[i == 0 ? m - 1 : i - 1];\r\n            var v2 = V[i];\r\n            var v3 = V[i + 1];\r\n            var w1 = W[j == 0 ? n - 1 : j - 1];\r\n            var w2 = W[j];\r\n            var w3 = W[j + 1];\r\n            var v1v2w2 = isLeft(v1, v2, w2);\r\n            var v2w1w2 = isLeft(v2, w1, w2);\r\n            var v2w2w3 = isLeft(v2, w2, w3);\r\n            var w1w2v2 = isLeft(w1, w2, v2);\r\n            var w2v1v2 = isLeft(w2, v1, v2);\r\n            var w2v2v3 = isLeft(w2, v2, v3);\r\n            if (v1v2w2 >= 0 && v2w1w2 >= 0 && v2w2w3 < 0\r\n                && w1w2v2 >= 0 && w2v1v2 >= 0 && w2v2v3 < 0) {\r\n                bt.ll = new BiTangent(i, j);\r\n            }\r\n            else if (v1v2w2 <= 0 && v2w1w2 <= 0 && v2w2w3 > 0\r\n                && w1w2v2 <= 0 && w2v1v2 <= 0 && w2v2v3 > 0) {\r\n                bt.rr = new BiTangent(i, j);\r\n            }\r\n            else if (v1v2w2 <= 0 && v2w1w2 > 0 && v2w2w3 <= 0\r\n                && w1w2v2 >= 0 && w2v1v2 < 0 && w2v2v3 >= 0) {\r\n                bt.rl = new BiTangent(i, j);\r\n            }\r\n            else if (v1v2w2 >= 0 && v2w1w2 < 0 && v2w2w3 >= 0\r\n                && w1w2v2 <= 0 && w2v1v2 > 0 && w2v2v3 <= 0) {\r\n                bt.lr = new BiTangent(i, j);\r\n            }\r\n        }\r\n    }\r\n    return bt;\r\n}\r\nexports.tangents = tangents;\r\nfunction isPointInsidePoly(p, poly) {\r\n    for (var i = 1, n = poly.length; i < n; ++i)\r\n        if (below(poly[i - 1], poly[i], p))\r\n            return false;\r\n    return true;\r\n}\r\nfunction isAnyPInQ(p, q) {\r\n    return !p.every(function (v) { return !isPointInsidePoly(v, q); });\r\n}\r\nfunction polysOverlap(p, q) {\r\n    if (isAnyPInQ(p, q))\r\n        return true;\r\n    if (isAnyPInQ(q, p))\r\n        return true;\r\n    for (var i = 1, n = p.length; i < n; ++i) {\r\n        var v = p[i], u = p[i - 1];\r\n        if (intersects(new LineSegment(u.x, u.y, v.x, v.y), q).length > 0)\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\nexports.polysOverlap = polysOverlap;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VvbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL2dlb20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEseUNBQXFDO0FBQ2pDO0lBQUE7SUFHQSxDQUFDO0lBQUQsWUFBQztBQUFELENBQUMsQUFIRCxJQUdDO0FBSFksc0JBQUs7QUFLbEI7SUFDSSxxQkFBbUIsRUFBVSxFQUFTLEVBQVUsRUFBUyxFQUFVLEVBQVMsRUFBVTtRQUFuRSxPQUFFLEdBQUYsRUFBRSxDQUFRO1FBQVMsT0FBRSxHQUFGLEVBQUUsQ0FBUTtRQUFTLE9BQUUsR0FBRixFQUFFLENBQVE7UUFBUyxPQUFFLEdBQUYsRUFBRSxDQUFRO0lBQUksQ0FBQztJQUMvRixrQkFBQztBQUFELENBQUMsQUFGRCxJQUVDO0FBRlksa0NBQVc7QUFJeEI7SUFBK0IsNkJBQUs7SUFBcEM7O0lBRUEsQ0FBQztJQUFELGdCQUFDO0FBQUQsQ0FBQyxBQUZELENBQStCLEtBQUssR0FFbkM7QUFGWSw4QkFBUztBQVV0QixTQUFnQixNQUFNLENBQUMsRUFBUyxFQUFFLEVBQVMsRUFBRSxFQUFTO0lBQ2xELE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN6RSxDQUFDO0FBRkQsd0JBRUM7QUFFRCxTQUFTLEtBQUssQ0FBQyxDQUFRLEVBQUUsRUFBUyxFQUFFLEVBQVM7SUFDekMsT0FBTyxNQUFNLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDakMsQ0FBQztBQUVE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SSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFHckIsSUFBSSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVMsQ0FBQztJQUNwQyxJQUFJLEdBQVksRUFBRSxHQUFZLENBQUM7SUFJL0IsSUFBSSxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsT0FBTyxDQUFDLENBQUM7SUFFYixLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSztRQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztZQUNYLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNwQixPQUFPLENBQUMsQ0FBQzs7Z0JBRVQsT0FBTyxDQUFDLENBQUM7UUFFakIsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEMsT0FBTyxDQUFDLENBQUM7UUFJYixHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMs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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar packingOptions = {\r\n    PADDING: 10,\r\n    GOLDEN_SECTION: (1 + Math.sqrt(5)) / 2,\r\n    FLOAT_EPSILON: 0.0001,\r\n    MAX_INERATIONS: 100\r\n};\r\nfunction applyPacking(graphs, w, h, node_size, desired_ratio, centerGraph) {\r\n    if (desired_ratio === void 0) { desired_ratio = 1; }\r\n    if (centerGraph === void 0) { centerGraph = true; }\r\n    var init_x = 0, init_y = 0, svg_width = w, svg_height = h, desired_ratio = typeof desired_ratio !== 'undefined' ? desired_ratio : 1, node_size = typeof node_size !== 'undefined' ? node_size : 0, real_width = 0, real_height = 0, min_width = 0, global_bottom = 0, line = [];\r\n    if (graphs.length == 0)\r\n        return;\r\n    calculate_bb(graphs);\r\n    apply(graphs, desired_ratio);\r\n    if (centerGraph) {\r\n        put_nodes_to_right_positions(graphs);\r\n    }\r\n    function calculate_bb(graphs) {\r\n        graphs.forEach(function (g) {\r\n            calculate_single_bb(g);\r\n        });\r\n        function calculate_single_bb(graph) {\r\n            var min_x = Number.MAX_VALUE, min_y = Number.MAX_VALUE, max_x = 0, max_y = 0;\r\n            graph.array.forEach(function (v) {\r\n                var w = typeof v.width !== 'undefined' ? v.width : node_size;\r\n                var h = typeof v.height !== 'undefined' ? v.height : node_size;\r\n                w /= 2;\r\n                h /= 2;\r\n                max_x = Math.max(v.x + w, max_x);\r\n                min_x = Math.min(v.x - w, min_x);\r\n                max_y = Math.max(v.y + h, max_y);\r\n                min_y = Math.min(v.y - h, min_y);\r\n            });\r\n            graph.width = max_x - min_x;\r\n            graph.height = max_y - min_y;\r\n        }\r\n    }\r\n    function put_nodes_to_right_positions(graphs) {\r\n        graphs.forEach(function (g) {\r\n            var center = { x: 0, y: 0 };\r\n            g.array.forEach(function (node) {\r\n                center.x += node.x;\r\n                center.y += node.y;\r\n            });\r\n            center.x /= g.array.length;\r\n            center.y /= g.array.length;\r\n            var corner = { x: center.x - g.width / 2, y: center.y - g.height / 2 };\r\n            var offset = { x: g.x - corner.x + svg_width / 2 - real_width / 2, y: g.y - corner.y + svg_height / 2 - real_height / 2 };\r\n            g.array.forEach(function (node) {\r\n                node.x += offset.x;\r\n                node.y += offset.y;\r\n            });\r\n        });\r\n    }\r\n    function apply(data, desired_ratio) {\r\n        var curr_best_f = Number.POSITIVE_INFINITY;\r\n        var curr_best = 0;\r\n        data.sort(function (a, b) { return b.height - a.height; });\r\n        min_width = data.reduce(function (a, b) {\r\n            return a.width < b.width ? a.width : b.width;\r\n        });\r\n        var left = x1 = min_width;\r\n        var right = x2 = get_entire_width(data);\r\n        var iterationCounter = 0;\r\n        var f_x1 = Number.MAX_VALUE;\r\n        var f_x2 = Number.MAX_VALUE;\r\n        var flag = -1;\r\n        var dx = Number.MAX_VALUE;\r\n        var df = Number.MAX_VALUE;\r\n        while ((dx > min_width) || df > packingOptions.FLOAT_EPSILON) {\r\n            if (flag != 1) {\r\n                var x1 = right - (right - left) / packingOptions.GOLDEN_SECTION;\r\n                var f_x1 = step(data, x1);\r\n            }\r\n            if (flag != 0) {\r\n                var x2 = left + (right - left) / packingOptions.GOLDEN_SECTION;\r\n                var f_x2 = step(data, x2);\r\n            }\r\n            dx = Math.abs(x1 - x2);\r\n            df = Math.abs(f_x1 - f_x2);\r\n            if (f_x1 < curr_best_f) {\r\n                curr_best_f = f_x1;\r\n                curr_best = x1;\r\n            }\r\n            if (f_x2 < curr_best_f) {\r\n                curr_best_f = f_x2;\r\n                curr_best = x2;\r\n            }\r\n            if (f_x1 > f_x2) {\r\n                left = x1;\r\n                x1 = x2;\r\n                f_x1 = f_x2;\r\n                flag = 1;\r\n            }\r\n            else {\r\n                right = x2;\r\n                x2 = x1;\r\n                f_x2 = f_x1;\r\n                flag = 0;\r\n            }\r\n            if (iterationCounter++ > 100) {\r\n                break;\r\n            }\r\n        }\r\n        step(data, curr_best);\r\n    }\r\n    function step(data, max_width) {\r\n        line = [];\r\n        real_width = 0;\r\n        real_height = 0;\r\n        global_bottom = init_y;\r\n        for (var i = 0; i < data.length; i++) {\r\n            var o = data[i];\r\n            put_rect(o, max_width);\r\n        }\r\n        return Math.abs(get_real_ratio() - desired_ratio);\r\n    }\r\n    function put_rect(rect, max_width) {\r\n        var parent = undefined;\r\n        for (var i = 0; i < line.length; i++) {\r\n            if ((line[i].space_left >= rect.height) && (line[i].x + line[i].width + rect.width + packingOptions.PADDING - max_width) <= packingOptions.FLOAT_EPSILON) {\r\n                parent = line[i];\r\n                break;\r\n            }\r\n        }\r\n        line.push(rect);\r\n        if (parent !== undefined) {\r\n            rect.x = parent.x + parent.width + packingOptions.PADDING;\r\n            rect.y = parent.bottom;\r\n            rect.space_left = rect.height;\r\n            rect.bottom = rect.y;\r\n            parent.space_left -= rect.height + packingOptions.PADDING;\r\n            parent.bottom += rect.height + packingOptions.PADDING;\r\n        }\r\n        else {\r\n            rect.y = global_bottom;\r\n            global_bottom += rect.height + packingOptions.PADDING;\r\n            rect.x = init_x;\r\n            rect.bottom = rect.y;\r\n            rect.space_left = rect.height;\r\n        }\r\n        if (rect.y + rect.height - real_height > -packingOptions.FLOAT_EPSILON)\r\n            real_height = rect.y + rect.height - init_y;\r\n        if (rect.x + rect.width - real_width > -packingOptions.FLOAT_EPSILON)\r\n            real_width = rect.x + rect.width - init_x;\r\n    }\r\n    ;\r\n    function get_entire_width(data) {\r\n        var width = 0;\r\n        data.forEach(function (d) { return width += d.width + packingOptions.PADDING; });\r\n        return width;\r\n    }\r\n    function get_real_ratio() {\r\n        return (real_width / real_height);\r\n    }\r\n}\r\nexports.applyPacking = applyPacking;\r\nfunction separateGraphs(nodes, links) {\r\n    var marks = {};\r\n    var ways = {};\r\n    var graphs = [];\r\n    var clusters = 0;\r\n    for (var i = 0; i < links.length; i++) {\r\n        var link = links[i];\r\n        var n1 = link.source;\r\n        var n2 = link.target;\r\n        if (ways[n1.index])\r\n            ways[n1.index].push(n2);\r\n        else\r\n            ways[n1.index] = [n2];\r\n        if (ways[n2.index])\r\n            ways[n2.index].push(n1);\r\n        else\r\n            ways[n2.index] = [n1];\r\n    }\r\n    for (var i = 0; i < nodes.length; i++) {\r\n        var node = nodes[i];\r\n        if (marks[node.index])\r\n            continue;\r\n        explore_node(node, true);\r\n    }\r\n    function explore_node(n, is_new) {\r\n        if (marks[n.index] !== undefined)\r\n            return;\r\n        if (is_new) {\r\n            clusters++;\r\n            graphs.push({ array: [] });\r\n        }\r\n        marks[n.index] = clusters;\r\n        graphs[clusters - 1].array.push(n);\r\n        var adjacent = ways[n.index];\r\n        if (!adjacent)\r\n            return;\r\n        for (var j = 0; j < adjacent.length; j++) {\r\n            explore_node(adjacent[j], false);\r\n        }\r\n    }\r\n    return graphs;\r\n}\r\nexports.separateGraphs = separateGraphs;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxlZGlzY29ubmVjdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvaGFuZGxlZGlzY29ubmVjdGVkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUksSUFBSSxjQUFjLEdBQUc7SUFDakIsT0FBTyxFQUFFLEVBQUU7SUFDWCxjQUFjLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7SUFDdEMsYUFBYSxFQUFFLE1BQU07SUFDckIsY0FBYyxFQUFFLEdBQUc7Q0FDdEIsQ0FBQztBQUdGLFNBQWdCLFlBQVksQ0FBQyxNQUFpQixFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLGFBQWlCLEVBQUUsV0FBa0I7SUFBckMsOEJBQUEsRUFBQSxpQkFBaUI7SUFBRSw0QkFBQSxFQUFBLGtCQUFrQjtJQUVsRyxJQUFJLE1BQU0sR0FBRyxDQUFDLEVBQ1YsTUFBTSxHQUFHLENBQUMsRUFFVixTQUFTLEdBQUcsQ0FBQyxFQUNiLFVBQVUsR0FBRyxDQUFDLEVBRWQsYUFBYSxHQUFHLE9BQU8sYUFBYSxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQ3hFLFNBQVMsR0FBRyxPQUFPLFNBQVMsS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUU1RCxVQUFVLEdBQUcsQ0FBQyxFQUNkLFdBQVcsR0FBRyxDQUFDLEVBQ2YsU0FBUyxHQUFHLENBQUMsRUFFYixhQUFhLEdBQUcsQ0FBQyxFQUNqQixJQUFJLEdBQUcsRUFBRSxDQUFDO0lBRWQsSUFBSSxNQUFNLENBQUMsTUFBTSxJQUFJLENBQUM7UUFDbEIsT0FBTztJQVVYLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyQixLQUFLLENBQUMsTUFBTSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQzdCLElBQUcsV0FBVyxFQUFFO1FBQ1osNEJBQTRCLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDeEM7SUFHRCxTQUFTLFlBQVksQ0FBQyxNQUFNO1FBRXhCLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDO1lBQ3RCLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQzFCLENBQUMsQ0FBQyxDQUFDO1FBRUgsU0FBUyxtQkFBbUIsQ0FBQyxLQUFLO1lBQzlCLElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxHQUFHLE1BQU0sQ0FBQyxTQUFTLEVBQ2xELEtBQUssR0FBRyxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUV6QixLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUM7Z0JBQzNCLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztnQkFDN0QsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO2dCQUMvRCxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNQLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ1AsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ2pDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO2dCQUNqQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztnQkFDakMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDckMsQ0FBQyxDQUFDLENBQUM7WUFFSCxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDNUIsS0FBSyxDQUFDLE1BQU0sR0FBRyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ2pDLENBQUM7SUFDTCxDQUFDO0lBdUNELFNBQVMsNEJBQTRCLENBQUMsTUFBTTtRQUN4QyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQztZQUV0QixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1lBRTVCLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsSUFBSTtnQkFDMUIsTUFBTSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNuQixNQUFNLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDdkIsQ0FBQyxDQUFDLENBQUM7WUFFSCxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO1lBQzNCLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7WUFHM0IsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQ3ZFLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLEdBQUcsQ0FBQyxHQUFHLFVBQVUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMs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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar powergraph = require(\"./powergraph\");\r\nvar linklengths_1 = require(\"./linklengths\");\r\nvar descent_1 = require(\"./descent\");\r\nvar rectangle_1 = require(\"./rectangle\");\r\nvar shortestpaths_1 = require(\"./shortestpaths\");\r\nvar geom_1 = require(\"./geom\");\r\nvar handledisconnected_1 = require(\"./handledisconnected\");\r\nvar EventType;\r\n(function (EventType) {\r\n    EventType[EventType[\"start\"] = 0] = \"start\";\r\n    EventType[EventType[\"tick\"] = 1] = \"tick\";\r\n    EventType[EventType[\"end\"] = 2] = \"end\";\r\n})(EventType = exports.EventType || (exports.EventType = {}));\r\n;\r\nfunction isGroup(g) {\r\n    return typeof g.leaves !== 'undefined' || typeof g.groups !== 'undefined';\r\n}\r\nvar Layout = (function () {\r\n    function Layout() {\r\n        var _this = this;\r\n        this._canvasSize = [1, 1];\r\n        this._linkDistance = 20;\r\n        this._defaultNodeSize = 10;\r\n        this._linkLengthCalculator = null;\r\n        this._linkType = null;\r\n        this._avoidOverlaps = false;\r\n        this._handleDisconnected = true;\r\n        this._running = false;\r\n        this._nodes = [];\r\n        this._groups = [];\r\n        this._rootGroup = null;\r\n        this._links = [];\r\n        this._constraints = [];\r\n        this._distanceMatrix = null;\r\n        this._descent = null;\r\n        this._directedLinkConstraints = null;\r\n        this._threshold = 0.01;\r\n        this._visibilityGraph = null;\r\n        this._groupCompactness = 1e-6;\r\n        this.event = null;\r\n        this.linkAccessor = {\r\n            getSourceIndex: Layout.getSourceIndex,\r\n            getTargetIndex: Layout.getTargetIndex,\r\n            setLength: Layout.setLinkLength,\r\n            getType: function (l) { return typeof _this._linkType === \"function\" ? _this._linkType(l) : 0; }\r\n        };\r\n    }\r\n    Layout.prototype.on = function (e, listener) {\r\n        if (!this.event)\r\n            this.event = {};\r\n        if (typeof e === 'string') {\r\n            this.event[EventType[e]] = listener;\r\n        }\r\n        else {\r\n            this.event[e] = listener;\r\n        }\r\n        return this;\r\n    };\r\n    Layout.prototype.trigger = function (e) {\r\n        if (this.event && typeof this.event[e.type] !== 'undefined') {\r\n            this.event[e.type](e);\r\n        }\r\n    };\r\n    Layout.prototype.kick = function () {\r\n        while (!this.tick())\r\n            ;\r\n    };\r\n    Layout.prototype.tick = function () {\r\n        if (this._alpha < this._threshold) {\r\n            this._running = false;\r\n            this.trigger({ type: EventType.end, alpha: this._alpha = 0, stress: this._lastStress });\r\n            return true;\r\n        }\r\n        var n = this._nodes.length, m = this._links.length;\r\n        var o, i;\r\n        this._descent.locks.clear();\r\n        for (i = 0; i < n; ++i) {\r\n            o = this._nodes[i];\r\n            if (o.fixed) {\r\n                if (typeof o.px === 'undefined' || typeof o.py === 'undefined') {\r\n                    o.px = o.x;\r\n                    o.py = o.y;\r\n                }\r\n                var p = [o.px, o.py];\r\n                this._descent.locks.add(i, p);\r\n            }\r\n        }\r\n        var s1 = this._descent.rungeKutta();\r\n        if (s1 === 0) {\r\n            this._alpha = 0;\r\n        }\r\n        else if (typeof this._lastStress !== 'undefined') {\r\n            this._alpha = s1;\r\n        }\r\n        this._lastStress = s1;\r\n        this.updateNodePositions();\r\n        this.trigger({ type: EventType.tick, alpha: this._alpha, stress: this._lastStress });\r\n        return false;\r\n    };\r\n    Layout.prototype.updateNodePositions = function () {\r\n        var x = this._descent.x[0], y = this._descent.x[1];\r\n        var o, i = this._nodes.length;\r\n        while (i--) {\r\n            o = this._nodes[i];\r\n            o.x = x[i];\r\n            o.y = y[i];\r\n        }\r\n    };\r\n    Layout.prototype.nodes = function (v) {\r\n        if (!v) {\r\n            if (this._nodes.length === 0 && this._links.length > 0) {\r\n                var n = 0;\r\n                this._links.forEach(function (l) {\r\n                    n = Math.max(n, l.source, l.target);\r\n                });\r\n                this._nodes = new Array(++n);\r\n                for (var i = 0; i < n; ++i) {\r\n                    this._nodes[i] = {};\r\n                }\r\n            }\r\n            return this._nodes;\r\n        }\r\n        this._nodes = v;\r\n        return this;\r\n    };\r\n    Layout.prototype.groups = function (x) {\r\n        var _this = this;\r\n        if (!x)\r\n            return this._groups;\r\n        this._groups = x;\r\n        this._rootGroup = {};\r\n        this._groups.forEach(function (g) {\r\n            if (typeof g.padding === \"undefined\")\r\n                g.padding = 1;\r\n            if (typeof g.leaves !== \"undefined\") {\r\n                g.leaves.forEach(function (v, i) {\r\n                    if (typeof v === 'number')\r\n                        (g.leaves[i] = _this._nodes[v]).parent = g;\r\n                });\r\n            }\r\n            if (typeof g.groups !== \"undefined\") {\r\n                g.groups.forEach(function (gi, i) {\r\n                    if (typeof gi === 'number')\r\n                        (g.groups[i] = _this._groups[gi]).parent = g;\r\n                });\r\n            }\r\n        });\r\n        this._rootGroup.leaves = this._nodes.filter(function (v) { return typeof v.parent === 'undefined'; });\r\n        this._rootGroup.groups = this._groups.filter(function (g) { return typeof g.parent === 'undefined'; });\r\n        return this;\r\n    };\r\n    Layout.prototype.powerGraphGroups = function (f) {\r\n        var g = powergraph.getGroups(this._nodes, this._links, this.linkAccessor, this._rootGroup);\r\n        this.groups(g.groups);\r\n        f(g);\r\n        return this;\r\n    };\r\n    Layout.prototype.avoidOverlaps = function (v) {\r\n        if (!arguments.length)\r\n            return this._avoidOverlaps;\r\n        this._avoidOverlaps = v;\r\n        return this;\r\n    };\r\n    Layout.prototype.handleDisconnected = function (v) {\r\n        if (!arguments.length)\r\n            return this._handleDisconnected;\r\n        this._handleDisconnected = v;\r\n        return this;\r\n    };\r\n    Layout.prototype.flowLayout = function (axis, minSeparation) {\r\n        if (!arguments.length)\r\n            axis = 'y';\r\n        this._directedLinkConstraints = {\r\n            axis: axis,\r\n            getMinSeparation: typeof minSeparation === 'number' ? function () { return minSeparation; } : minSeparation\r\n        };\r\n        return this;\r\n    };\r\n    Layout.prototype.links = function (x) {\r\n        if (!arguments.length)\r\n            return this._links;\r\n        this._links = x;\r\n        return this;\r\n    };\r\n    Layout.prototype.constraints = function (c) {\r\n        if (!arguments.length)\r\n            return this._constraints;\r\n        this._constraints = c;\r\n        return this;\r\n    };\r\n    Layout.prototype.distanceMatrix = function (d) {\r\n        if (!arguments.length)\r\n            return this._distanceMatrix;\r\n        this._distanceMatrix = d;\r\n        return this;\r\n    };\r\n    Layout.prototype.size = function (x) {\r\n        if (!x)\r\n            return this._canvasSize;\r\n        this._canvasSize = x;\r\n        return this;\r\n    };\r\n    Layout.prototype.defaultNodeSize = function (x) {\r\n        if (!x)\r\n            return this._defaultNodeSize;\r\n        this._defaultNodeSize = x;\r\n        return this;\r\n    };\r\n    Layout.prototype.groupCompactness = function (x) {\r\n        if (!x)\r\n            return this._groupCompactness;\r\n        this._groupCompactness = x;\r\n        return this;\r\n    };\r\n    Layout.prototype.linkDistance = function (x) {\r\n        if (!x) {\r\n            return this._linkDistance;\r\n        }\r\n        this._linkDistance = typeof x === \"function\" ? x : +x;\r\n        this._linkLengthCalculator = null;\r\n        return this;\r\n    };\r\n    Layout.prototype.linkType = function (f) {\r\n        this._linkType = f;\r\n        return this;\r\n    };\r\n    Layout.prototype.convergenceThreshold = function (x) {\r\n        if (!x)\r\n            return this._threshold;\r\n        this._threshold = typeof x === \"function\" ? x : +x;\r\n        return this;\r\n    };\r\n    Layout.prototype.alpha = function (x) {\r\n        if (!arguments.length)\r\n            return this._alpha;\r\n        else {\r\n            x = +x;\r\n            if (this._alpha) {\r\n                if (x > 0)\r\n                    this._alpha = x;\r\n                else\r\n                    this._alpha = 0;\r\n            }\r\n            else if (x > 0) {\r\n                if (!this._running) {\r\n                    this._running = true;\r\n                    this.trigger({ type: EventType.start, alpha: this._alpha = x });\r\n                    this.kick();\r\n                }\r\n            }\r\n            return this;\r\n        }\r\n    };\r\n    Layout.prototype.getLinkLength = function (link) {\r\n        return typeof this._linkDistance === \"function\" ? +(this._linkDistance(link)) : this._linkDistance;\r\n    };\r\n    Layout.setLinkLength = function (link, length) {\r\n        link.length = length;\r\n    };\r\n    Layout.prototype.getLinkType = function (link) {\r\n        return typeof this._linkType === \"function\" ? this._linkType(link) : 0;\r\n    };\r\n    Layout.prototype.symmetricDiffLinkLengths = function (idealLength, w) {\r\n        var _this = this;\r\n        if (w === void 0) { w = 1; }\r\n        this.linkDistance(function (l) { return idealLength * l.length; });\r\n        this._linkLengthCalculator = function () { return linklengths_1.symmetricDiffLinkLengths(_this._links, _this.linkAccessor, w); };\r\n        return this;\r\n    };\r\n    Layout.prototype.jaccardLinkLengths = function (idealLength, w) {\r\n        var _this = this;\r\n        if (w === void 0) { w = 1; }\r\n        this.linkDistance(function (l) { return idealLength * l.length; });\r\n        this._linkLengthCalculator = function () { return linklengths_1.jaccardLinkLengths(_this._links, _this.linkAccessor, w); };\r\n        return this;\r\n    };\r\n    Layout.prototype.start = function (initialUnconstrainedIterations, initialUserConstraintIterations, initialAllConstraintsIterations, gridSnapIterations, keepRunning, centerGraph) {\r\n        var _this = this;\r\n        if (initialUnconstrainedIterations === void 0) { initialUnconstrainedIterations = 0; }\r\n        if (initialUserConstraintIterations === void 0) { initialUserConstraintIterations = 0; }\r\n        if (initialAllConstraintsIterations === void 0) { initialAllConstraintsIterations = 0; }\r\n        if (gridSnapIterations === void 0) { gridSnapIterations = 0; }\r\n        if (keepRunning === void 0) { keepRunning = true; }\r\n        if (centerGraph === void 0) { centerGraph = true; }\r\n        var i, j, n = this.nodes().length, N = n + 2 * this._groups.length, m = this._links.length, w = this._canvasSize[0], h = this._canvasSize[1];\r\n        var x = new Array(N), y = new Array(N);\r\n        var G = null;\r\n        var ao = this._avoidOverlaps;\r\n        this._nodes.forEach(function (v, i) {\r\n            v.index = i;\r\n            if (typeof v.x === 'undefined') {\r\n                v.x = w / 2, v.y = h / 2;\r\n            }\r\n            x[i] = v.x, y[i] = v.y;\r\n        });\r\n        if (this._linkLengthCalculator)\r\n            this._linkLengthCalculator();\r\n        var distances;\r\n        if (this._distanceMatrix) {\r\n            distances = this._distanceMatrix;\r\n        }\r\n        else {\r\n            distances = (new shortestpaths_1.Calculator(N, this._links, Layout.getSourceIndex, Layout.getTargetIndex, function (l) { return _this.getLinkLength(l); })).DistanceMatrix();\r\n            G = descent_1.Descent.createSquareMatrix(N, function () { return 2; });\r\n            this._links.forEach(function (l) {\r\n                if (typeof l.source == \"number\")\r\n                    l.source = _this._nodes[l.source];\r\n                if (typeof l.target == \"number\")\r\n                    l.target = _this._nodes[l.target];\r\n            });\r\n            this._links.forEach(function (e) {\r\n                var u = Layout.getSourceIndex(e), v = Layout.getTargetIndex(e);\r\n                G[u][v] = G[v][u] = e.weight || 1;\r\n            });\r\n        }\r\n        var D = descent_1.Descent.createSquareMatrix(N, function (i, j) {\r\n            return distances[i][j];\r\n        });\r\n        if (this._rootGroup && typeof this._rootGroup.groups !== 'undefined') {\r\n            var i = n;\r\n            var addAttraction = function (i, j, strength, idealDistance) {\r\n                G[i][j] = G[j][i] = strength;\r\n                D[i][j] = D[j][i] = idealDistance;\r\n            };\r\n            this._groups.forEach(function (g) {\r\n                addAttraction(i, i + 1, _this._groupCompactness, 0.1);\r\n                x[i] = 0, y[i++] = 0;\r\n                x[i] = 0, y[i++] = 0;\r\n            });\r\n        }\r\n        else\r\n            this._rootGroup = { leaves: this._nodes, groups: [] };\r\n        var curConstraints = this._constraints || [];\r\n        if (this._directedLinkConstraints) {\r\n            this.linkAccessor.getMinSeparation = this._directedLinkConstraints.getMinSeparation;\r\n            curConstraints = curConstraints.concat(linklengths_1.generateDirectedEdgeConstraints(n, this._links, this._directedLinkConstraints.axis, (this.linkAccessor)));\r\n        }\r\n        this.avoidOverlaps(false);\r\n        this._descent = new descent_1.Descent([x, y], D);\r\n        this._descent.locks.clear();\r\n        for (var i = 0; i < n; ++i) {\r\n            var o = this._nodes[i];\r\n            if (o.fixed) {\r\n                o.px = o.x;\r\n                o.py = o.y;\r\n                var p = [o.x, o.y];\r\n                this._descent.locks.add(i, p);\r\n            }\r\n        }\r\n        this._descent.threshold = this._threshold;\r\n        this.initialLayout(initialUnconstrainedIterations, x, y);\r\n        if (curConstraints.length > 0)\r\n            this._descent.project = new rectangle_1.Projection(this._nodes, this._groups, this._rootGroup, curConstraints).projectFunctions();\r\n        this._descent.run(initialUserConstraintIterations);\r\n        this.separateOverlappingComponents(w, h, centerGraph);\r\n        this.avoidOverlaps(ao);\r\n        if (ao) {\r\n            this._nodes.forEach(function (v, i) { v.x = x[i], v.y = y[i]; });\r\n            this._descent.project = new rectangle_1.Projection(this._nodes, this._groups, this._rootGroup, curConstraints, true).projectFunctions();\r\n            this._nodes.forEach(function (v, i) { x[i] = v.x, y[i] = v.y; });\r\n        }\r\n        this._descent.G = G;\r\n        this._descent.run(initialAllConstraintsIterations);\r\n        if (gridSnapIterations) {\r\n            this._descent.snapStrength = 1000;\r\n            this._descent.snapGridSize = this._nodes[0].width;\r\n            this._descent.numGridSnapNodes = n;\r\n            this._descent.scaleSnapByMaxH = n != N;\r\n            var G0 = descent_1.Descent.createSquareMatrix(N, function (i, j) {\r\n                if (i >= n || j >= n)\r\n                    return G[i][j];\r\n                return 0;\r\n            });\r\n            this._descent.G = G0;\r\n            this._descent.run(gridSnapIterations);\r\n        }\r\n        this.updateNodePositions();\r\n        this.separateOverlappingComponents(w, h, centerGraph);\r\n        return keepRunning ? this.resume() : this;\r\n    };\r\n    Layout.prototype.initialLayout = function (iterations, x, y) {\r\n        if (this._groups.length > 0 && iterations > 0) {\r\n            var n = this._nodes.length;\r\n            var edges = this._links.map(function (e) { return ({ source: e.source.index, target: e.target.index }); });\r\n            var vs = this._nodes.map(function (v) { return ({ index: v.index }); });\r\n            this._groups.forEach(function (g, i) {\r\n                vs.push({ index: g.index = n + i });\r\n            });\r\n            this._groups.forEach(function (g, i) {\r\n                if (typeof g.leaves !== 'undefined')\r\n                    g.leaves.forEach(function (v) { return edges.push({ source: g.index, target: v.index }); });\r\n                if (typeof g.groups !== 'undefined')\r\n                    g.groups.forEach(function (gg) { return edges.push({ source: g.index, target: gg.index }); });\r\n            });\r\n            new Layout()\r\n                .size(this.size())\r\n                .nodes(vs)\r\n                .links(edges)\r\n                .avoidOverlaps(false)\r\n                .linkDistance(this.linkDistance())\r\n                .symmetricDiffLinkLengths(5)\r\n                .convergenceThreshold(1e-4)\r\n                .start(iterations, 0, 0, 0, false);\r\n            this._nodes.forEach(function (v) {\r\n                x[v.index] = vs[v.index].x;\r\n                y[v.index] = vs[v.index].y;\r\n            });\r\n        }\r\n        else {\r\n            this._descent.run(iterations);\r\n        }\r\n    };\r\n    Layout.prototype.separateOverlappingComponents = function (width, height, centerGraph) {\r\n        var _this = this;\r\n        if (centerGraph === void 0) { centerGraph = true; }\r\n        if (!this._distanceMatrix && this._handleDisconnected) {\r\n            var x_1 = this._descent.x[0], y_1 = this._descent.x[1];\r\n            this._nodes.forEach(function (v, i) { v.x = x_1[i], v.y = y_1[i]; });\r\n            var graphs = handledisconnected_1.separateGraphs(this._nodes, this._links);\r\n            handledisconnected_1.applyPacking(graphs, width, height, this._defaultNodeSize, 1, centerGraph);\r\n            this._nodes.forEach(function (v, i) {\r\n                _this._descent.x[0][i] = v.x, _this._descent.x[1][i] = v.y;\r\n                if (v.bounds) {\r\n                    v.bounds.setXCentre(v.x);\r\n                    v.bounds.setYCentre(v.y);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    Layout.prototype.resume = function () {\r\n        return this.alpha(0.1);\r\n    };\r\n    Layout.prototype.stop = function () {\r\n        return this.alpha(0);\r\n    };\r\n    Layout.prototype.prepareEdgeRouting = function (nodeMargin) {\r\n        if (nodeMargin === void 0) { nodeMargin = 0; }\r\n        this._visibilityGraph = new geom_1.TangentVisibilityGraph(this._nodes.map(function (v) {\r\n            return v.bounds.inflate(-nodeMargin).vertices();\r\n        }));\r\n    };\r\n    Layout.prototype.routeEdge = function (edge, ah, draw) {\r\n        if (ah === void 0) { ah = 5; }\r\n        var lineData = [];\r\n        var vg2 = new geom_1.TangentVisibilityGraph(this._visibilityGraph.P, { V: this._visibilityGraph.V, E: this._visibilityGraph.E }), port1 = { x: edge.source.x, y: edge.source.y }, port2 = { x: edge.target.x, y: edge.target.y }, start = vg2.addPoint(port1, edge.source.index), end = vg2.addPoint(port2, edge.target.index);\r\n        vg2.addEdgeIfVisible(port1, port2, edge.source.index, edge.target.index);\r\n        if (typeof draw !== 'undefined') {\r\n            draw(vg2);\r\n        }\r\n        var sourceInd = function (e) { return e.source.id; }, targetInd = function (e) { return e.target.id; }, length = function (e) { return e.length(); }, spCalc = new shortestpaths_1.Calculator(vg2.V.length, vg2.E, sourceInd, targetInd, length), shortestPath = spCalc.PathFromNodeToNode(start.id, end.id);\r\n        if (shortestPath.length === 1 || shortestPath.length === vg2.V.length) {\r\n            var route = rectangle_1.makeEdgeBetween(edge.source.innerBounds, edge.target.innerBounds, ah);\r\n            lineData = [route.sourceIntersection, route.arrowStart];\r\n        }\r\n        else {\r\n            var n = shortestPath.length - 2, p = vg2.V[shortestPath[n]].p, q = vg2.V[shortestPath[0]].p, lineData = [edge.source.innerBounds.rayIntersection(p.x, p.y)];\r\n            for (var i = n; i >= 0; --i)\r\n                lineData.push(vg2.V[shortestPath[i]].p);\r\n            lineData.push(rectangle_1.makeEdgeTo(q, edge.target.innerBounds, ah));\r\n        }\r\n        return lineData;\r\n    };\r\n    Layout.getSourceIndex = function (e) {\r\n        return typeof e.source === 'number' ? e.source : e.source.index;\r\n    };\r\n    Layout.getTargetIndex = function (e) {\r\n        return typeof e.target === 'number' ? e.target : e.target.index;\r\n    };\r\n    Layout.linkId = function (e) {\r\n        return Layout.getSourceIndex(e) + \"-\" + Layout.getTargetIndex(e);\r\n    };\r\n    Layout.dragStart = function (d) {\r\n        if (isGroup(d)) {\r\n            Layout.storeOffset(d, Layout.dragOrigin(d));\r\n        }\r\n        else {\r\n            Layout.stopNode(d);\r\n            d.fixed |= 2;\r\n        }\r\n    };\r\n    Layout.stopNode = function (v) {\r\n        v.px = v.x;\r\n        v.py = v.y;\r\n    };\r\n    Layout.storeOffset = function (d, origin) {\r\n        if (typeof d.leaves !== 'undefined') {\r\n            d.leaves.forEach(function (v) {\r\n                v.fixed |= 2;\r\n                Layout.stopNode(v);\r\n                v._dragGroupOffsetX = v.x - origin.x;\r\n                v._dragGroupOffsetY = v.y - origin.y;\r\n            });\r\n        }\r\n        if (typeof d.groups !== 'undefined') {\r\n            d.groups.forEach(function (g) { return Layout.storeOffset(g, origin); });\r\n        }\r\n    };\r\n    Layout.dragOrigin = function (d) {\r\n        if (isGroup(d)) {\r\n            return {\r\n                x: d.bounds.cx(),\r\n                y: d.bounds.cy()\r\n            };\r\n        }\r\n        else {\r\n            return d;\r\n        }\r\n    };\r\n    Layout.drag = function (d, position) {\r\n        if (isGroup(d)) {\r\n            if (typeof d.leaves !== 'undefined') {\r\n                d.leaves.forEach(function (v) {\r\n                    d.bounds.setXCentre(position.x);\r\n                    d.bounds.setYCentre(position.y);\r\n                    v.px = v._dragGroupOffsetX + position.x;\r\n                    v.py = v._dragGroupOffsetY + position.y;\r\n                });\r\n            }\r\n            if (typeof d.groups !== 'undefined') {\r\n                d.groups.forEach(function (g) { return Layout.drag(g, position); });\r\n            }\r\n        }\r\n        else {\r\n            d.px = position.x;\r\n            d.py = position.y;\r\n        }\r\n    };\r\n    Layout.dragEnd = function (d) {\r\n        if (isGroup(d)) {\r\n            if (typeof d.leaves !== 'undefined') {\r\n                d.leaves.forEach(function (v) {\r\n                    Layout.dragEnd(v);\r\n                    delete v._dragGroupOffsetX;\r\n                    delete v._dragGroupOffsetY;\r\n                });\r\n            }\r\n            if (typeof d.groups !== 'undefined') {\r\n                d.groups.forEach(Layout.dragEnd);\r\n            }\r\n        }\r\n        else {\r\n            d.fixed &= ~6;\r\n        }\r\n    };\r\n    Layout.mouseOver = function (d) {\r\n        d.fixed |= 4;\r\n        d.px = d.x, d.py = d.y;\r\n    };\r\n    Layout.mouseOut = function (d) {\r\n        d.fixed &= ~4;\r\n    };\r\n    return Layout;\r\n}());\r\nexports.Layout = Layout;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5b3V0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvbGF5b3V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEseUNBQTBDO0FBQzFDLDZDQUErSDtBQUMvSCxxQ0FBaUM7QUFDakMseUNBQThFO0FBQzlFLGlEQUEwQztBQUMxQywrQkFBdUQ7QUFDdkQsMkRBQWlFO0FBTzdELElBQVksU0FBOEI7QUFBMUMsV0FBWSxTQUFTO0lBQUcsMkNBQUssQ0FBQTtJQUFFLHlDQUFJLENBQUE7SUFBRSx1Q0FBRyxDQUFBO0FBQUMsQ0FBQyxFQUE5QixTQUFTLEdBQVQsaUJBQVMsS0FBVCxpQkFBUyxRQUFxQjtBQUFBLENBQUM7QUErQzNDLFNBQVMsT0FBTyxDQUFDLENBQU07SUFDbkIsT0FBTyxPQUFPLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBVyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE1BQU0sS0FBSyxXQUFXLENBQUM7QUFDOUUsQ0FBQztBQXdCRDtJQUFBO1FBQUEsaUJBa3lCQztRQWp5QlcsZ0JBQVcsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNyQixrQkFBYSxHQUF5QyxFQUFFLENBQUM7UUFDekQscUJBQWdCLEdBQVcsRUFBRSxDQUFDO1FBQzlCLDBCQUFxQixHQUFHLElBQUksQ0FBQztRQUM3QixjQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLG1CQUFjLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLHdCQUFtQixHQUFHLElBQUksQ0FBQztRQUczQixhQUFRLEdBQUcsS0FBSyxDQUFDO1FBQ2pCLFdBQU0sR0FBRyxFQUFFLENBQUM7UUFDWixZQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2IsZUFBVSxHQUFHLElBQUksQ0FBQztRQUNsQixXQUFNLEdBQTBCLEVBQUUsQ0FBQztRQUNuQyxpQkFBWSxHQUFHLEVBQUUsQ0FBQztRQUNsQixvQkFBZSxHQUFHLElBQUksQ0FBQztRQUN2QixhQUFRLEdBQVksSUFBSSxDQUFDO1FBQ3pCLDZCQUF3QixHQUFHLElBQUksQ0FBQztRQUNoQyxlQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLHFCQUFnQixHQUFHLElBQUksQ0FBQztRQUN4QixzQkFBaUIsR0FBRyxJQUFJLENBQUM7UUFHdkIsVUFBSyxHQUFHLElBQUksQ0FBQztRQWtWdkIsaUJBQVksR0FBMkI7WUFDbkMsY0FBYyxFQUFFLE1BQU0sQ0FBQyxjQUFjO1lBQ3JDLGNBQWMsRUFBRSxNQUFNLENBQUMsY0FBYztZQUNyQyxTQUFTLEVBQUUsTUFBTSxDQUFDLGFBQWE7WUFDL0IsT0FBTyxFQUFFLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxLQUFJLENBQUMsU0FBUyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsS0FBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUE1RCxDQUE0RDtTQUM3RSxDQUFDO0lBbWJOLENBQUM7SUF0d0JVLG1CQUFFLEdBQVQsVUFBVSxDQUFxQixFQUFFLFFBQWlDO1FBRTlELElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSztZQUFFLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2pDLElBQUksT0FBTyxDQUFDLEtBQUssUUFBUSxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDO1NBQ3ZDO2FBQU07WUFDSCxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQztTQUM1QjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFJUyx3QkFBTyxHQUFqQixVQUFrQixDQUFRO1FBQ3RCLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLFdBQVcsRUFBRTtZQUN6RCxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN6QjtJQUNMLENBQUM7SUFLUyxxQkFBSSxHQUFkO1FBQ0ksT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFBQyxDQUFDO0lBQ3pCLENBQUM7SUFLUyxxQkFBSSxHQUFkO1FBQ0ksSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFDdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7WUFDeEYsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUNELElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUN0QixDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDN0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRVQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDNUIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDcEIsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFO2dCQUNULElBQUksT0FBTyxDQUFDLENBQUMsRUFBRSxLQUFLLFdBQVcsSUFBSSxPQUFPLENBQUMsQ0FBQyxFQUFFLEtBQUssV0FBVyxFQUFFO29CQUM1RCxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ1gsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNkO2dCQUNELElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ3JCLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDakM7U0FDSjtRQUVELElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLENBQUM7UUFFcEMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFO1lBQ1YsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7U0FDbkI7YUFBTSxJQUFJLE9BQU8sSUFBSSxDQUFDLFdBQVcsS0FBSyxXQUFXLEVBQUU7WUFDaEQsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7U0FDcEI7UUFDRCxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQztRQUV0QixJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUUzQixJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsSUFBSSxFQUFFLFNBQVMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO1FBQ3JGLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFHTyxvQ0FBbUIsR0FBM0I7UUFDSSxJQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQzlCLE9BQU8sQ0FBQyxFQUFFLEVBQUU7WUFDUixDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuQixDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNYLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2Q7SUFDTCxDQUFDO0lBV0Qsc0JBQUssR0FBTCxVQUFNLENBQU87UUFDVCxJQUFJLENBQUMsQ0FBQyxFQUFFO1lBQ0osSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUdwRCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ1YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDO29CQUMzQixDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQVUsQ0FBQyxDQUFDLE1BQU0sRUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3hELENBQUMsQ0FBQyxDQUFDO2dCQUNILElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDN0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsRUFBRTtvQkFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7aUJBQ3ZCO2FBQ0o7WUFDRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7U0FDdEI7UUFDRCxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUNoQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBU0QsdUJBQU0sR0FBTixVQUFPLENBQWdCO1FBQXZCLGlCQXVCQztRQXRCRyxJQUFJLENBQUMsQ0FBQztZQUFFLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztRQUM1QixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFBLENBQUM7WUFDbEIsSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEtBQUssV0FBVztnQkFDaEMsQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7WUFDbEIsSUFBSSxPQUFPLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBVyxFQUFFO2dCQUNqQyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFDLENBQUMsRUFBRSxDQUFDO29CQUNsQixJQUFJLE9BQU8sQ0FBQyxLQUFLLFFBQVE7d0JBQ3JCLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQTtnQkFDakQsQ0FBQyxDQUFDLENBQUM7YUFDTjtZQUNELElBQUksT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQVcsRUFBRTtnQkFDakMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQyxFQUFFLEVBQUUsQ0FBQztvQkFDbkIsSUFBSSxPQUFPLEVBQUUsS0FBSyxRQUFRO3dCQUN0QixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUE7Z0JBQ25ELENBQUMsQ0FBQyxDQUFDO2FBQ047UUFDTCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQVcsRUFBL0IsQ0FBK0IsQ0FBQyxDQUFDO1FBQ2xGLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQVcsRUFBL0IsQ0FBK0IsQ0FBQyxDQUFDO1FBQ25GLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxpQ0FBZ0IsR0FBaEIsVUFBaUIsQ0FBVztRQUN4QixJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMzRixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN0QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDTCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBVUQsOEJBQWEsR0FBYixVQUFjLENBQVc7UUFDckIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNO1lBQUUsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQ2xELElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDO1FBQ3hCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFZRCxtQ0FBa0IsR0FBbEIsVUFBbUIsQ0FBVztRQUMxQixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU07WUFBRSxPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztRQUN2RCxJQUFJLENBQUMsbUJBQW1CLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFRRCwyQkFBVSxHQUFWLFVBQVcsSUFBWSxFQUFFLGFBQXdDO1FBQzdELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTTtZQUFFLElBQUksR0FBRyxHQUFHLENBQUM7UUFDbEMsSUFBSSxDQUFDLHdCQUF3QixHQUFHO1lBQzVCLElBQUksRUFBRSxJQUFJO1lBQ1YsZ0JBQWdCLEVBQUUsT0FBTyxhQUFhLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxjQUFjLE9BQU8sYUFBYSxDQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhO1NBQzdHLENBQUM7UUFDRixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBU0Qsc0JBQUssR0FBTCxVQUFNLENBQTRCO1FBQzlCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTTtZQUFFLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMxQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztRQUNoQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBVUQsNEJBQVcsR0FBWCxVQUFZLENBQWM7UUFDdEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNO1lBQUUsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQ2hELElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxDQUFDO1FBQ3RCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFXRCwrQkFBYyxHQUFkLFVBQWUsQ0FBTztRQUNsQixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU07WUFBRSxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUM7UUFDbkQsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUM7UUFDekIsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQVVELHFCQUFJLEdBQUosVUFBSyxDQUFpQjtRQUNsQixJQUFJLENBQUMsQ0FBQztZQUFFLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztRQUNyQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBU0QsZ0NBQWUsR0FBZixVQUFnQixDQUFPO1FBQ25CLElBQUksQ0FBQyxDQUFDO1lBQUUsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7UUFDckMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLENBQUMsQ0FBQztRQUMxQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBU0QsaUNBQWdCLEdBQWhCLFVBQWlCLENBQU87UUFDcEIsSUFBSSxDQUFDLENBQUM7WUFBRSxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztRQUN0QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDO1FBQzNCLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFTRCw2QkFBWSxHQUFaLFVBQWEsQ0FBTztRQUNoQixJQUFJLENBQUMsQ0FBQyxFQUFFO1lBQ0osT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO1NBQzdCO1FBQ0QsSUFBSSxDQUFDLGFBQWEsR0FBRyxPQUFPLENBQUMsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQztRQUNsQyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQseUJBQVEsR0FBUixVQUFTLENBQW9CO1FBQ3pCLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDO1FBQ25CLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFJRCxxQ0FBb0IsR0FBcEIsVUFBcUIsQ0FBVTtRQUMzQixJQUFJLENBQUMsQ0FBQztZQUFFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUMvQixJQUFJLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBSUQsc0JBQUssR0FBTCxVQUFNLENBQVU7UUFDWixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU07WUFBRSxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7YUFDckM7WUFDRCxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDUCxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ2IsSUFBSSxDQUFDLEdBQUcsQ0FBQztvQkFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQzs7b0JBQ3RCLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2FBQ3hCO2lCQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtnQkFDZCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDaEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7b0JBQ3JCLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxJQUFJLEVBQUUsU0FBUyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUMsQ0FBQyxDQUFDO29CQUMvRCxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7aUJBQ2Y7YUFDSjtZQUNELE9BQU8sSUFBSSxDQUFDO1NBQ2Y7SUFDTCxDQUFDO0lBRUQsOEJBQWEsR0FBYixVQUFjLElBQXlCO1FBQ25DLE9BQU8sT0FBTyxJQUFJLENBQUMsYUFBYSxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUErQixJQUFJLENBQUMsYUFBYyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFTLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDOUksQ0FBQztJQUVNLG9CQUFhLEdBQXBCLFVBQXFCLElBQXVCLEVBQUUsTUFBYztRQUN4RCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBRUQsNEJBQVcsR0FBWCxVQUFZLElBQXlCO1FBQ2pDLE9BQU8sT0FBTyxJQUFJLENBQUMsU0FBUyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFtQkQseUNBQXdCLEdBQXhCLFVBQXlCLFdBQW1CLEVBQUUsQ0FBYTtRQUEzRCxpQkFJQztRQUo2QyxrQkFBQSxFQUFBLEtBQWE7UUFDdkQsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLFdBQVcsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUF0QixDQUFzQixDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLHFCQUFxQixHQUFHLGNBQU0sT0FBQSxzQ0FBd0IsQ0FBQyxLQUFJLENBQUMsTUFBTSxFQUFFLEtBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLEVBQTNELENBQTJELENBQUM7UUFDL0YsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQVlELG1DQUFrQixHQUFsQixVQUFtQixXQUFtQixFQUFFLENBQWE7UUFBckQsaUJBSUM7UUFKdUMsa0JBQUEsRUFBQSxLQUFhO1FBQ2pELElBQUksQ0FBQyxZQUFZLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxXQUFXLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxjQUFNLE9BQUEsZ0NBQWtCLENBQUMsS0FBSSxDQUFDLE1BQU0sRUFBRSxLQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxFQUFyRCxDQUFxRCxDQUFDO1FBQ3pGLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFZRCxzQkFBSyxHQUFMLFVBQ0ksOEJBQTBDLEVBQzFDLCtCQUEyQyxFQUMzQywrQkFBMkMsRUFDM0Msa0JBQThCLEVBQzlCLFdBQWtCLEVBQ2xCLFdBQWtCO1FBTnRCLGlCQXNKQztRQXJKRywrQ0FBQSxFQUFBLGtDQUEwQztRQUMxQyxnREFBQSxFQUFBLG1DQUEyQztRQUMzQyxnREFBQSxFQUFBLG1DQUEyQztRQUMzQyxtQ0FBQSxFQUFBLHNCQUE4QjtRQUM5Qiw0QkFBQSxFQUFBLGtCQUFrQjtRQUNsQiw0QkFBQSxFQUFBLGtCQUFrQjtRQUVsQixJQUFJLENBQVMsRUFDVCxDQUFTLEVBQ1QsQ0FBQyxHQUFnQixJQUFJLENBQUMsS0FBSyxFQUFHLENBQUMsTUFBTSxFQUNyQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFDL0IsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUN0QixDQUFDLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFDdkIsQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFNUIsSUFBSSxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXZDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQztRQUViLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7UUFFN0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQyxDQUFDLEVBQUUsQ0FBQztZQUNyQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztZQUNaLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLFdBQVcsRUFBRTtnQkFDNUIsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUM1QjtZQUNELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNCLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxJQUFJLENBQUMscUJBQXFCO1lBQUUsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFLN0QsSUFBSSxTQUFTLENBQUM7UUFDZCxJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUU7WUFFdEIsU0FBUyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUM7U0FDcEM7YUFBTTtZQUVILFNBQVMsR0FBRyxDQUFDLElBQUksMEJBQVUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsY0FBYyxFQUFFLE1BQU0sQ0FBQyxjQUFjLEVBQUUsVUFBQSxDQUFDLElBQUcsT0FBQSxLQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFyQixDQUFxQixDQUFDLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUl2SSxDQUFDLEdBQUcsaUJBQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEVBQUUsY0FBTSxPQUFBLENBQUMsRUFBRCxDQUFDLENBQUMsQ0FBQztZQUMzQyxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFBLENBQUM7Z0JBQ2pCLElBQUksT0FBTyxDQUFDLENBQUMsTUFBTSxJQUFJLFFBQVE7b0JBQUUsQ0FBQyxDQUFDLE1BQU0sR0FBRyxLQUFJLENBQUMsTUFBTSxDQUFTLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDMUUsSUFBSSxPQUFPLENBQUMsQ0FBQyxNQUFNLElBQUksUUFBUTtvQkFBRSxDQUFDLENBQUMsTUFBTSxHQUFHLEtBQUksQ0FBQyxNQUFNLENBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzlFLENBQUMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDO2dCQUNqQixJQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNqRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDO1lBQ3RDLENBQUMsQ0FBQyxDQUFDO1NBQ047UUFFRCxJQUFJLENBQUMsR0FBRyxpQkFBTyxDQUFDLGtCQUFrQixDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxDQUFDO1lBQ2hELE9BQU8sU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNCLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxJQUFJLENBQUMsVUFBVSxJQUFJLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEtBQUssV0FBVyxFQUFFO1lBQ2xFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNWLElBQUksYUFBYSxHQUFHLFVBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxRQUFRLEVBQUUsYUFBYTtnQkFDOUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUM7Z0JBQzdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsYUFBYSxDQUFDO1lBQ3RDLENBQUMsQ0FBQztZQUNGLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQUEsQ0FBQztnQkFDbEIsYUFBYSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUksQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLENBQUMsQ0FBQztnQkFpQnJELENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNyQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6QixDQUFDLENBQUMsQ0FBQztTQUNOOztZQUFNLElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLENBQUM7UUFFN0QsSUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLFlBQVksSUFBSSxFQUFFLENBQUM7UUFDN0MsSUFBSSxJQUFJLENBQUMsd0JBQXdCLEVBQUU7WUFDekIsSUFBSSxDQUFDLFlBQWEsQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsd0JBQXdCLENBQUMsZ0JBQWdCLENBQUM7WUFDM0YsY0FBYyxHQUFHLGNBQWMsQ0FBQyxNQUFNLENBQUMsNkNBQStCLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLHdCQUF3QixDQUFDLElBQUksRUFBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FHeko7UUFFRCxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzFCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxpQkFBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBRXZDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzVCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUU7WUFDeEIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN2QixJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUU7Z0JBQ1QsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDWCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUNuQixJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ2pDO1NBQ0o7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBSzFDLElBQUksQ0FBQyxhQUFhLENBQUMsOEJBQThCLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBR3pELElBQUksY0FBYyxDQUFDLE1BQU0sR0FBRyxDQUFDO1lBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxzQkFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLGNBQWMsQ0FBQyxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDckosSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsK0JBQStCLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsNkJBQTZCLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUd0RCxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksRUFBRSxFQUFFO1lBQ0osSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxzQkFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1lBQzVILElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3BFO1FBR0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3BCLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLCtCQUErQixDQUFDLENBQUM7UUFFbkQsSUFBSSxrQkFBa0IsRUFBRTtZQUNwQixJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7WUFDbEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDbEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN2QyxJQUFJLEVBQUUsR0FBRyxpQkFBTyxDQUFDLGtCQUFrQixDQUFDLENBQUMsRUFBQyxVQUFDLENBQUMsRUFBRSxDQUFDO2dCQUN2QyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7b0JBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JDLE9BQU8sQ0FBQyxDQUFBO1lBQ1osQ0FBQyxDQUFDLENBQUM7WUFDSCxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDckIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQztTQUN6QztRQUVELElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzNCLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQ3RELE9BQU8sV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUM5QyxDQUFDO0lBRU8sOEJBQWEsR0FBckIsVUFBc0IsVUFBa0IsRUFBRSxDQUFXLEVBQUUsQ0FBVztRQUM5RCxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxVQUFVLEdBQUcsQ0FBQyxFQUFFO1lBRzNDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQzNCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBSyxFQUFFLE1BQU0sRUFBUyxDQUFDLENBQUMsTUFBTyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQVMsQ0FBQyxDQUFDLE1BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQSxFQUF2RSxDQUF1RSxDQUFDLENBQUM7WUFDMUcsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQSxFQUF2QixDQUF1QixDQUFDLENBQUM7WUFDdkQsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBQyxDQUFDLEVBQUUsQ0FBQztnQkFDdEIsRUFBRSxDQUFDLElBQUksQ0FBTSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzdDLENBQUMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBQyxDQUFDLEVBQUUsQ0FBQztnQkFDdEIsSUFBSSxPQUFPLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBVztvQkFDL0IsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFoRCxDQUFnRCxDQUFDLENBQUM7Z0JBQzVFLElBQUksT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQVc7b0JBQy9CLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQUEsRUFBRSxJQUFJLE9BQUEsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBakQsQ0FBaUQsQ0FBQyxDQUFDO1lBQ2xGLENBQUMsQ0FBQyxDQUFDO1lBR0gsSUFBSSxNQUFNLEVBQUU7aUJBQ1AsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztpQkFDakIsS0FBSyxDQUFDLEVBQUUsQ0FBQztpQkFDVCxLQUFLLENBQUMsS0FBSyxDQUFDO2lCQUNaLGFBQWEsQ0FBQyxLQUFLLENBQUM7aUJBQ3BCLFlBQVksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7aUJBQ2pDLHdCQUF3QixDQUFDLENBQUMsQ0FBQztpQkFDM0Isb0JBQW9CLENBQUMsSUFBSSxDQUFDO2lCQUMxQixLQUFLLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBRXZDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQUEsQ0FBQztnQkFDakIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDM0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMvQixDQUFDLENBQUMsQ0FBQztTQUNOO2FBQU07WUFDSCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUNqQztJQUNMLENBQUM7SUFHTyw4Q0FBNkIsR0FBckMsVUFBc0MsS0FBYSxFQUFFLE1BQWMsRUFBRSxXQUEyQjtRQUFoRyxpQkFlQztRQWZvRSw0QkFBQSxFQUFBLGtCQUEyQjtRQUU1RixJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsSUFBSSxJQUFJLENBQUMsbUJBQW1CLEVBQUU7WUFDbkQsSUFBSSxHQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25ELElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pFLElBQUksTUFBTSxHQUFHLG1DQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDdEQsaUNBQVksQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1lBQzNFLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQ3JCLEtBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDekQsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFO29CQUNWLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDekIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUM1QjtZQUNMLENBQUMsQ0FBQyxDQUFDO1NBQ047SUFDTCxDQUFDO0lBRUQsdUJBQU0sR0FBTjtRQUNJLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQscUJBQUksR0FBSjtRQUNJLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN6QixDQUFDO0lBSUQsbUNBQWtCLEdBQWxCLFVBQW1CLFVBQXNCO1FBQXRCLDJCQUFBLEVBQUEsY0FBc0I7UUFDckMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksNkJBQXNCLENBQzlDLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQztZQUN2QixPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDcEQsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNaLENBQUM7SUFXRCwwQkFBUyxHQUFULFVBQVUsSUFBSSxFQUFFLEVBQWMsRUFBRSxJQUFJO1FBQXBCLG1CQUFBLEVBQUEsTUFBYztRQUMxQixJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFJbEIsSUFBSSxHQUFHLEdBQUcsSUFBSSw2QkFBc0IsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUNySCxLQUFLLEdBQWEsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLEVBQ3hELEtBQUssR0FBYSxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFDeEQsS0FBSyxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQzlDLEdBQUcsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2pELEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekUsSUFBSSxPQUFPLElBQUksS0FBSyxXQUFXLEVBQUU7WUFDN0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2I7UUFDRCxJQUFJLFNBQVMsR0FBRyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFYLENBQVcsRUFBRSxTQUFTLEdBQUcsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBWCxDQUFXLEVBQUUsTUFBTSxHQUFHLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFWLENBQVUsRUFDcEYsTUFBTSxHQUFHLElBQUksMEJBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLEVBQzFFLFlBQVksR0FBRyxNQUFNLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDL0QsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLENBQUMsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFO1lBQ25FLElBQUksS0FBSyxHQUFHLDJCQUFlLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDbEYsUUFBUSxHQUFHLENBQUMsS0FBSyxDQUFDLGtCQUFrQixFQUFFLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUMzRDthQUFNO1lBQ0gsSUFBSSxDQUFDLEdBQUcsWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQzNCLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDNUIsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUM1QixRQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDdkIsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVDLFFBQVEsQ0FBQyxJQUFJLENBQUMsc0JBQVUsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUM3RDtRQWFELE9BQU8sUUFBUSxDQUFDO0lBQ3BCLENBQUM7SUFHTSxxQkFBYyxHQUFyQixVQUFzQixDQUFzQjtRQUN4QyxPQUFPLE9BQU8sQ0FBQyxDQUFDLE1BQU0sS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFTLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFRLENBQUMsQ0FBQyxNQUFPLENBQUMsS0FBSyxDQUFDO0lBQ3BGLENBQUM7SUFHTSxxQkFBYyxHQUFyQixVQUFzQixDQUFzQjtRQUN4QyxPQUFPLE9BQU8sQ0FBQyxDQUFDLE1BQU0sS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFTLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFRLENBQUMsQ0FBQyxNQUFPLENBQUMsS0FBSyxDQUFDO0lBQ3BGLENBQUM7SUFHTSxhQUFNLEdBQWIsVUFBYyxDQUFzQjtRQUNoQyxPQUFPLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQU1NLGdCQUFTLEdBQWhCLFVBQWlCLENBQWU7UUFDNUIsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDWixNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDL0M7YUFBTTtZQUNILE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkIsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUM7U0FDaEI7SUFDTCxDQUFDO0lBSWMsZUFBUSxHQUF2QixVQUF3QixDQUFPO1FBQ3JCLENBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNaLENBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBSWMsa0JBQVcsR0FBMUIsVUFBMkIsQ0FBUSxFQUFFLE1BQWdDO1FBQ2pFLElBQUksT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQVcsRUFBRTtZQUNqQyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFBLENBQUM7Z0JBQ2QsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUM7Z0JBQ2IsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDYixDQUFFLENBQUMsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO2dCQUN0QyxDQUFFLENBQUMsaUJBQWlCLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ2hELENBQUMsQ0FBQyxDQUFDO1NBQ047UUFDRCxJQUFJLE9BQU8sQ0FBQyxDQUFDLE1BQU0sS0FBSyxXQUFXLEVBQUU7WUFDakMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsRUFBN0IsQ0FBNkIsQ0FBQyxDQUFDO1NBQ3hEO0lBQ0wsQ0FBQztJQUdNLGlCQUFVLEdBQWpCLFVBQWtCLENBQWU7UUFDN0IsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDWixPQUFPO2dCQUNILENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRTtnQkFDaEIsQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFO2FBQ25CLENBQUM7U0FDTDthQUFNO1lBQ0gsT0FBTyxDQUFDLENBQUM7U0FDWjtJQUNMLENBQUM7SUFJTSxXQUFJLEdBQVgsVUFBWSxDQUFlLEVBQUUsUUFBa0M7UUFDM0QsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDWixJQUFJLE9BQU8sQ0FBQyxDQUFDLE1BQU0sS0FBSyxXQUFXLEVBQUU7Z0JBQ2pDLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQUEsQ0FBQztvQkFDZCxDQUFDLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ2hDLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDMUIsQ0FBRSxDQUFDLEVBQUUsR0FBUyxDQUFFLENBQUMsaUJBQWlCLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQztvQkFDaEQsQ0FBRSxDQUFDLEVBQUUsR0FBUyxDQUFFLENBQUMsaUJBQWlCLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDMUQsQ0FBQyxDQUFDLENBQUM7YUFDTjtZQUNELElBQUksT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLFdBQVcsRUFBRTtnQkFDakMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsRUFBeEIsQ0FBd0IsQ0FBQyxDQUFDO2FBQ25EO1NBQ0o7YUFBTTtZQUNHLENBQUUsQ0FBQyxFQUFFLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNuQixDQUFFLENBQUMsRUFBRSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUM7U0FDNUI7SUFDTCxDQUFDO0lBSU0sY0FBTyxHQUFkLFVBQWUsQ0FBQztRQUNaLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ1osSUFBSSxPQUFPLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBVyxFQUFFO2dCQUNqQyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFBLENBQUM7b0JBQ2QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDbEIsT0FBYSxDQUFFLENBQUMsaUJBQWlCLENBQUM7b0JBQ2xDLE9BQWEsQ0FBRSxDQUFDLGlCQUFpQixDQUFDO2dCQUN0QyxDQUFDLENBQUMsQ0FBQzthQUNOO1lBQ0QsSUFBSSxPQUFPLENBQUMsQ0FBQyxNQUFNLEtBQUssV0FBVyxFQUFFO2dCQUNqQyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDcEM7U0FDSjthQUFNO1lBQ0gsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztTQUVqQjtJQUNMLENBQUM7SUFHTSxnQkFBUyxHQUFoQixVQUFpQixDQUFDO1FBQ2QsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUM7UUFDYixDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFHTSxlQUFRLEdBQWYsVUFBZ0IsQ0FBQztRQUNiLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDbEIsQ0FBQztJQUNMLGFBQUM7QUFBRCxDQUFDLEFBbHlCRCxJQWt5QkM7QUFseUJZLHdCQUFNIn0=","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar LayoutAdaptor = (function (_super) {\r\n    __extends(LayoutAdaptor, _super);\r\n    function LayoutAdaptor(options) {\r\n        var _this = _super.call(this) || this;\r\n        var self = _this;\r\n        var o = options;\r\n        if (o.trigger) {\r\n            _this.trigger = o.trigger;\r\n        }\r\n        if (o.kick) {\r\n            _this.kick = o.kick;\r\n        }\r\n        if (o.drag) {\r\n            _this.drag = o.drag;\r\n        }\r\n        if (o.on) {\r\n            _this.on = o.on;\r\n        }\r\n        _this.dragstart = _this.dragStart = layout_1.Layout.dragStart;\r\n        _this.dragend = _this.dragEnd = layout_1.Layout.dragEnd;\r\n        return _this;\r\n    }\r\n    LayoutAdaptor.prototype.trigger = function (e) { };\r\n    ;\r\n    LayoutAdaptor.prototype.kick = function () { };\r\n    ;\r\n    LayoutAdaptor.prototype.drag = function () { };\r\n    ;\r\n    LayoutAdaptor.prototype.on = function (eventType, listener) { return this; };\r\n    ;\r\n    return LayoutAdaptor;\r\n}(layout_1.Layout));\r\nexports.LayoutAdaptor = LayoutAdaptor;\r\nfunction adaptor(options) {\r\n    return new LayoutAdaptor(options);\r\n}\r\nexports.adaptor = adaptor;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRhcHRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL2FkYXB0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQWlEO0FBRTdDO0lBQW1DLGlDQUFNO0lBYXJDLHVCQUFhLE9BQU87UUFBcEIsWUFDSSxpQkFBTyxTQXlCVjtRQXJCRyxJQUFJLElBQUksR0FBRyxLQUFJLENBQUM7UUFDaEIsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO1FBRWhCLElBQUssQ0FBQyxDQUFDLE9BQU8sRUFBRztZQUNiLEtBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztTQUM1QjtRQUVELElBQUssQ0FBQyxDQUFDLElBQUksRUFBRTtZQUNULEtBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztTQUN0QjtRQUVELElBQUssQ0FBQyxDQUFDLElBQUksRUFBRTtZQUNULEtBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQztTQUN0QjtRQUVELElBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUNQLEtBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQztTQUNsQjtRQUVELEtBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSSxDQUFDLFNBQVMsR0FBRyxlQUFNLENBQUMsU0FBUyxDQUFDO1FBQ25ELEtBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSSxDQUFDLE9BQU8sR0FBRyxlQUFNLENBQUMsT0FBTyxDQUFDOztJQUNqRCxDQUFDO0lBcENELCtCQUFPLEdBQVAsVUFBUSxDQUFRLElBQUcsQ0FBQztJQUFBLENBQUM7SUFDckIsNEJBQUksR0FBSixjQUFRLENBQUM7SUFBQSxDQUFDO0lBQ1YsNEJBQUksR0FBSixjQUFRLENBQUM7SUFBQSxDQUFDO0lBQ1YsMEJBQUUsR0FBRixVQUFHLFNBQTZCLEVBQUUsUUFBb0IsSUFBVyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUM7SUFBQSxDQUFDO0lBa0NwRixvQkFBQztBQUFELENBQUMsQUF4Q0QsQ0FBbUMsZUFBTSxHQXdDeEM7QUF4Q1ksc0NBQWE7QUE2QzFCLFNBQWdCLE9BQU8sQ0FBRSxPQUFPO0lBQzVCLE9BQU8sSUFBSSxhQUFhLENBQUUsT0FBTyxDQUFFLENBQUM7QUFDeEMsQ0FBQztBQUZELDBCQUVDIn0=","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar D3StyleLayoutAdaptor = (function (_super) {\r\n    __extends(D3StyleLayoutAdaptor, _super);\r\n    function D3StyleLayoutAdaptor() {\r\n        var _this = _super.call(this) || this;\r\n        _this.event = d3.dispatch(layout_1.EventType[layout_1.EventType.start], layout_1.EventType[layout_1.EventType.tick], layout_1.EventType[layout_1.EventType.end]);\r\n        var d3layout = _this;\r\n        var drag;\r\n        _this.drag = function () {\r\n            if (!drag) {\r\n                var drag = d3.behavior.drag()\r\n                    .origin(layout_1.Layout.dragOrigin)\r\n                    .on(\"dragstart.d3adaptor\", layout_1.Layout.dragStart)\r\n                    .on(\"drag.d3adaptor\", function (d) {\r\n                    layout_1.Layout.drag(d, d3.event);\r\n                    d3layout.resume();\r\n                })\r\n                    .on(\"dragend.d3adaptor\", layout_1.Layout.dragEnd);\r\n            }\r\n            if (!arguments.length)\r\n                return drag;\r\n            this\r\n                .call(drag);\r\n        };\r\n        return _this;\r\n    }\r\n    D3StyleLayoutAdaptor.prototype.trigger = function (e) {\r\n        var d3event = { type: layout_1.EventType[e.type], alpha: e.alpha, stress: e.stress };\r\n        this.event[d3event.type](d3event);\r\n    };\r\n    D3StyleLayoutAdaptor.prototype.kick = function () {\r\n        var _this = this;\r\n        d3.timer(function () { return _super.prototype.tick.call(_this); });\r\n    };\r\n    D3StyleLayoutAdaptor.prototype.on = function (eventType, listener) {\r\n        if (typeof eventType === 'string') {\r\n            this.event.on(eventType, listener);\r\n        }\r\n        else {\r\n            this.event.on(layout_1.EventType[eventType], listener);\r\n        }\r\n        return this;\r\n    };\r\n    return D3StyleLayoutAdaptor;\r\n}(layout_1.Layout));\r\nexports.D3StyleLayoutAdaptor = D3StyleLayoutAdaptor;\r\nfunction d3adaptor() {\r\n    return new D3StyleLayoutAdaptor();\r\n}\r\nexports.d3adaptor = d3adaptor;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDN2M2FkYXB0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9kM3YzYWRhcHRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFNQSxtQ0FBa0Q7QUFHOUM7SUFBMEMsd0NBQU07SUFnQjVDO1FBQUEsWUFDSSxpQkFBTyxTQXVCVjtRQXZDRCxXQUFLLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxrQkFBUyxDQUFDLGtCQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsa0JBQVMsQ0FBQyxrQkFBUyxDQUFDLElBQUksQ0FBQyxFQUFFLGtCQUFTLENBQUMsa0JBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBa0JqRyxJQUFJLFFBQVEsR0FBRyxLQUFJLENBQUM7UUFDcEIsSUFBSSxJQUFJLENBQUM7UUFDVCxLQUFJLENBQUMsSUFBSSxHQUFHO1lBQ1IsSUFBSSxDQUFDLElBQUksRUFBRTtnQkFDUCxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRTtxQkFDeEIsTUFBTSxDQUFDLGVBQU0sQ0FBQyxVQUFVLENBQUM7cUJBQ3pCLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxlQUFNLENBQUMsU0FBUyxDQUFDO3FCQUMzQyxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsVUFBQSxDQUFDO29CQUNuQixlQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQzlCLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDdEIsQ0FBQyxDQUFDO3FCQUNELEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxlQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDaEQ7WUFFRCxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU07Z0JBQUUsT0FBTyxJQUFJLENBQUM7WUFHbkMsSUFBSTtpQkFFQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEIsQ0FBQyxDQUFBOztJQUNMLENBQUM7SUFyQ0Qsc0NBQU8sR0FBUCxVQUFRLENBQVE7UUFDWixJQUFJLE9BQU8sR0FBRyxFQUFFLElBQUksRUFBRSxrQkFBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQzVFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFHRCxtQ0FBSSxHQUFKO1FBQUEsaUJBRUM7UUFERyxFQUFFLENBQUMsS0FBSyxDQUFDLGNBQU0sT0FBQSxpQkFBTSxJQUFJLFlBQUUsRUFBWixDQUFZLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBZ0NELGlDQUFFLEdBQUYsVUFBRyxTQUE2QixFQUFFLFFBQW9CO1FBQ2xELElBQUksT0FBTyxTQUFTLEtBQUssUUFBUSxFQUFFO1lBQy9CLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztTQUN0QzthQUFNO1lBQ0gsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsa0JBQVMsQ0FBQyxTQUFTLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztTQUNqRDtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDTCwyQkFBQztBQUFELENBQUMsQUFuREQsQ0FBMEMsZUFBTSxHQW1EL0M7QUFuRFksb0RBQW9CO0FBaUVqQyxTQUFnQixTQUFTO0lBQ3JCLE9BQU8sSUFBSSxvQkFBb0IsRUFBRSxDQUFDO0FBQ3RDLENBQUM7QUFGRCw4QkFFQyJ9","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar D3StyleLayoutAdaptor = (function (_super) {\r\n    __extends(D3StyleLayoutAdaptor, _super);\r\n    function D3StyleLayoutAdaptor(d3Context) {\r\n        var _this = _super.call(this) || this;\r\n        _this.d3Context = d3Context;\r\n        _this.event = d3Context.dispatch(layout_1.EventType[layout_1.EventType.start], layout_1.EventType[layout_1.EventType.tick], layout_1.EventType[layout_1.EventType.end]);\r\n        var d3layout = _this;\r\n        var drag;\r\n        _this.drag = function () {\r\n            if (!drag) {\r\n                var drag = d3Context.drag()\r\n                    .subject(layout_1.Layout.dragOrigin)\r\n                    .on(\"start.d3adaptor\", layout_1.Layout.dragStart)\r\n                    .on(\"drag.d3adaptor\", function (d) {\r\n                    layout_1.Layout.drag(d, d3Context.event);\r\n                    d3layout.resume();\r\n                })\r\n                    .on(\"end.d3adaptor\", layout_1.Layout.dragEnd);\r\n            }\r\n            if (!arguments.length)\r\n                return drag;\r\n            arguments[0].call(drag);\r\n        };\r\n        return _this;\r\n    }\r\n    D3StyleLayoutAdaptor.prototype.trigger = function (e) {\r\n        var d3event = { type: layout_1.EventType[e.type], alpha: e.alpha, stress: e.stress };\r\n        this.event.call(d3event.type, d3event);\r\n    };\r\n    D3StyleLayoutAdaptor.prototype.kick = function () {\r\n        var _this = this;\r\n        var t = this.d3Context.timer(function () { return _super.prototype.tick.call(_this) && t.stop(); });\r\n    };\r\n    D3StyleLayoutAdaptor.prototype.on = function (eventType, listener) {\r\n        if (typeof eventType === 'string') {\r\n            this.event.on(eventType, listener);\r\n        }\r\n        else {\r\n            this.event.on(layout_1.EventType[eventType], listener);\r\n        }\r\n        return this;\r\n    };\r\n    return D3StyleLayoutAdaptor;\r\n}(layout_1.Layout));\r\nexports.D3StyleLayoutAdaptor = D3StyleLayoutAdaptor;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDN2NGFkYXB0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9kM3Y0YWRhcHRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFHQSxtQ0FBaUQ7QUFVakQ7SUFBMEMsd0NBQU07SUFpQjVDLDhCQUFvQixTQUFvQjtRQUF4QyxZQUNJLGlCQUFPLFNBeUJWO1FBMUJtQixlQUFTLEdBQVQsU0FBUyxDQUFXO1FBRXBDLEtBQUksQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxrQkFBUyxDQUFDLGtCQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsa0JBQVMsQ0FBQyxrQkFBUyxDQUFDLElBQUksQ0FBQyxFQUFFLGtCQUFTLENBQUMsa0JBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBR2pILElBQUksUUFBUSxHQUFHLEtBQUksQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQztRQUNULEtBQUksQ0FBQyxJQUFJLEdBQUc7WUFDUixJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUNQLElBQUksSUFBSSxHQUFHLFNBQVMsQ0FBQyxJQUFJLEVBQUU7cUJBQ3RCLE9BQU8sQ0FBQyxlQUFNLENBQUMsVUFBVSxDQUFDO3FCQUMxQixFQUFFLENBQUMsaUJBQWlCLEVBQUUsZUFBTSxDQUFDLFNBQVMsQ0FBQztxQkFDdkMsRUFBRSxDQUFDLGdCQUFnQixFQUFFLFVBQUEsQ0FBQztvQkFDbkIsZUFBTSxDQUFDLElBQUksQ0FBTSxDQUFDLEVBQUUsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUNyQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQ3RCLENBQUMsQ0FBQztxQkFDRCxFQUFFLENBQUMsZUFBZSxFQUFFLGVBQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUM1QztZQUVELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTTtnQkFBRSxPQUFPLElBQUksQ0FBQztZQUtuQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzVCLENBQUMsQ0FBQTs7SUFDTCxDQUFDO0lBekNELHNDQUFPLEdBQVAsVUFBUSxDQUFRO1FBQ1osSUFBSSxPQUFPLEdBQUcsRUFBRSxJQUFJLEVBQUUsa0JBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUc1RSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFPLE9BQU8sQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFHRCxtQ0FBSSxHQUFKO1FBQUEsaUJBRUM7UUFERyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxjQUFNLE9BQUEsaUJBQU0sSUFBSSxZQUFFLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxFQUF4QixDQUF3QixDQUFDLENBQUM7SUFDakUsQ0FBQztJQWtDRCxpQ0FBRSxHQUFGLFVBQUcsU0FBNkIsRUFBRSxRQUFvQjtRQUNsRCxJQUFJLE9BQU8sU0FBUyxLQUFLLFFBQVEsRUFBRTtZQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDdEM7YUFBTTtZQUNILElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLGtCQUFTLENBQUMsU0FBUyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDakQ7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0wsMkJBQUM7QUFBRCxDQUFDLEFBdERELENBQTBDLGVBQU0sR0FzRC9DO0FBdERZLG9EQUFvQiJ9","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar d3v3 = require(\"./d3v3adaptor\");\r\nvar d3v4 = require(\"./d3v4adaptor\");\r\n;\r\nfunction d3adaptor(d3Context) {\r\n    if (!d3Context || isD3V3(d3Context)) {\r\n        return new d3v3.D3StyleLayoutAdaptor();\r\n    }\r\n    return new d3v4.D3StyleLayoutAdaptor(d3Context);\r\n}\r\nexports.d3adaptor = d3adaptor;\r\nfunction isD3V3(d3Context) {\r\n    var v3exp = /^3\\./;\r\n    return d3Context.version && d3Context.version.match(v3exp) !== null;\r\n}\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDNhZGFwdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vV2ViQ29sYS9zcmMvZDNhZGFwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsb0NBQXFDO0FBQ3JDLG9DQUFxQztBQUdVLENBQUM7QUE0QmhELFNBQWdCLFNBQVMsQ0FBQyxTQUF3QztJQUM5RCxJQUFJLENBQUMsU0FBUyxJQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRTtRQUNqQyxPQUFPLElBQUksSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7S0FDMUM7SUFDRCxPQUFPLElBQUksSUFBSSxDQUFDLG9CQUFvQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ3BELENBQUM7QUFMRCw4QkFLQztBQUVELFNBQVMsTUFBTSxDQUFDLFNBQXVDO0lBQ25ELElBQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQztJQUNyQixPQUFhLFNBQVUsQ0FBQyxPQUFPLElBQVUsU0FBVSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDO0FBQ3RGLENBQUMifQ==","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar rectangle_1 = require(\"./rectangle\");\r\nvar vpsc_1 = require(\"./vpsc\");\r\nvar shortestpaths_1 = require(\"./shortestpaths\");\r\nvar NodeWrapper = (function () {\r\n    function NodeWrapper(id, rect, children) {\r\n        this.id = id;\r\n        this.rect = rect;\r\n        this.children = children;\r\n        this.leaf = typeof children === 'undefined' || children.length === 0;\r\n    }\r\n    return NodeWrapper;\r\n}());\r\nexports.NodeWrapper = NodeWrapper;\r\nvar Vert = (function () {\r\n    function Vert(id, x, y, node, line) {\r\n        if (node === void 0) { node = null; }\r\n        if (line === void 0) { line = null; }\r\n        this.id = id;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.node = node;\r\n        this.line = line;\r\n    }\r\n    return Vert;\r\n}());\r\nexports.Vert = Vert;\r\nvar LongestCommonSubsequence = (function () {\r\n    function LongestCommonSubsequence(s, t) {\r\n        this.s = s;\r\n        this.t = t;\r\n        var mf = LongestCommonSubsequence.findMatch(s, t);\r\n        var tr = t.slice(0).reverse();\r\n        var mr = LongestCommonSubsequence.findMatch(s, tr);\r\n        if (mf.length >= mr.length) {\r\n            this.length = mf.length;\r\n            this.si = mf.si;\r\n            this.ti = mf.ti;\r\n            this.reversed = false;\r\n        }\r\n        else {\r\n            this.length = mr.length;\r\n            this.si = mr.si;\r\n            this.ti = t.length - mr.ti - mr.length;\r\n            this.reversed = true;\r\n        }\r\n    }\r\n    LongestCommonSubsequence.findMatch = function (s, t) {\r\n        var m = s.length;\r\n        var n = t.length;\r\n        var match = { length: 0, si: -1, ti: -1 };\r\n        var l = new Array(m);\r\n        for (var i = 0; i < m; i++) {\r\n            l[i] = new Array(n);\r\n            for (var j = 0; j < n; j++)\r\n                if (s[i] === t[j]) {\r\n                    var v = l[i][j] = (i === 0 || j === 0) ? 1 : l[i - 1][j - 1] + 1;\r\n                    if (v > match.length) {\r\n                        match.length = v;\r\n                        match.si = i - v + 1;\r\n                        match.ti = j - v + 1;\r\n                    }\r\n                    ;\r\n                }\r\n                else\r\n                    l[i][j] = 0;\r\n        }\r\n        return match;\r\n    };\r\n    LongestCommonSubsequence.prototype.getSequence = function () {\r\n        return this.length >= 0 ? this.s.slice(this.si, this.si + this.length) : [];\r\n    };\r\n    return LongestCommonSubsequence;\r\n}());\r\nexports.LongestCommonSubsequence = LongestCommonSubsequence;\r\nvar GridRouter = (function () {\r\n    function GridRouter(originalnodes, accessor, groupPadding) {\r\n        var _this = this;\r\n        if (groupPadding === void 0) { groupPadding = 12; }\r\n        this.originalnodes = originalnodes;\r\n        this.groupPadding = groupPadding;\r\n        this.leaves = null;\r\n        this.nodes = originalnodes.map(function (v, i) { return new NodeWrapper(i, accessor.getBounds(v), accessor.getChildren(v)); });\r\n        this.leaves = this.nodes.filter(function (v) { return v.leaf; });\r\n        this.groups = this.nodes.filter(function (g) { return !g.leaf; });\r\n        this.cols = this.getGridLines('x');\r\n        this.rows = this.getGridLines('y');\r\n        this.groups.forEach(function (v) {\r\n            return v.children.forEach(function (c) { return _this.nodes[c].parent = v; });\r\n        });\r\n        this.root = { children: [] };\r\n        this.nodes.forEach(function (v) {\r\n            if (typeof v.parent === 'undefined') {\r\n                v.parent = _this.root;\r\n                _this.root.children.push(v.id);\r\n            }\r\n            v.ports = [];\r\n        });\r\n        this.backToFront = this.nodes.slice(0);\r\n        this.backToFront.sort(function (x, y) { return _this.getDepth(x) - _this.getDepth(y); });\r\n        var frontToBackGroups = this.backToFront.slice(0).reverse().filter(function (g) { return !g.leaf; });\r\n        frontToBackGroups.forEach(function (v) {\r\n            var r = rectangle_1.Rectangle.empty();\r\n            v.children.forEach(function (c) { return r = r.union(_this.nodes[c].rect); });\r\n            v.rect = r.inflate(_this.groupPadding);\r\n        });\r\n        var colMids = this.midPoints(this.cols.map(function (r) { return r.pos; }));\r\n        var rowMids = this.midPoints(this.rows.map(function (r) { return r.pos; }));\r\n        var rowx = colMids[0], rowX = colMids[colMids.length - 1];\r\n        var coly = rowMids[0], colY = rowMids[rowMids.length - 1];\r\n        var hlines = this.rows.map(function (r) { return ({ x1: rowx, x2: rowX, y1: r.pos, y2: r.pos }); })\r\n            .concat(rowMids.map(function (m) { return ({ x1: rowx, x2: rowX, y1: m, y2: m }); }));\r\n        var vlines = this.cols.map(function (c) { return ({ x1: c.pos, x2: c.pos, y1: coly, y2: colY }); })\r\n            .concat(colMids.map(function (m) { return ({ x1: m, x2: m, y1: coly, y2: colY }); }));\r\n        var lines = hlines.concat(vlines);\r\n        lines.forEach(function (l) { return l.verts = []; });\r\n        this.verts = [];\r\n        this.edges = [];\r\n        hlines.forEach(function (h) {\r\n            return vlines.forEach(function (v) {\r\n                var p = new Vert(_this.verts.length, v.x1, h.y1);\r\n                h.verts.push(p);\r\n                v.verts.push(p);\r\n                _this.verts.push(p);\r\n                var i = _this.backToFront.length;\r\n                while (i-- > 0) {\r\n                    var node = _this.backToFront[i], r = node.rect;\r\n                    var dx = Math.abs(p.x - r.cx()), dy = Math.abs(p.y - r.cy());\r\n                    if (dx < r.width() / 2 && dy < r.height() / 2) {\r\n                        p.node = node;\r\n                        break;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        lines.forEach(function (l, li) {\r\n            _this.nodes.forEach(function (v, i) {\r\n                v.rect.lineIntersections(l.x1, l.y1, l.x2, l.y2).forEach(function (intersect, j) {\r\n                    var p = new Vert(_this.verts.length, intersect.x, intersect.y, v, l);\r\n                    _this.verts.push(p);\r\n                    l.verts.push(p);\r\n                    v.ports.push(p);\r\n                });\r\n            });\r\n            var isHoriz = Math.abs(l.y1 - l.y2) < 0.1;\r\n            var delta = function (a, b) { return isHoriz ? b.x - a.x : b.y - a.y; };\r\n            l.verts.sort(delta);\r\n            for (var i = 1; i < l.verts.length; i++) {\r\n                var u = l.verts[i - 1], v = l.verts[i];\r\n                if (u.node && u.node === v.node && u.node.leaf)\r\n                    continue;\r\n                _this.edges.push({ source: u.id, target: v.id, length: Math.abs(delta(u, v)) });\r\n            }\r\n        });\r\n    }\r\n    GridRouter.prototype.avg = function (a) { return a.reduce(function (x, y) { return x + y; }) / a.length; };\r\n    GridRouter.prototype.getGridLines = function (axis) {\r\n        var columns = [];\r\n        var ls = this.leaves.slice(0, this.leaves.length);\r\n        while (ls.length > 0) {\r\n            var overlapping = ls.filter(function (v) { return v.rect['overlap' + axis.toUpperCase()](ls[0].rect); });\r\n            var col = {\r\n                nodes: overlapping,\r\n                pos: this.avg(overlapping.map(function (v) { return v.rect['c' + axis](); }))\r\n            };\r\n            columns.push(col);\r\n            col.nodes.forEach(function (v) { return ls.splice(ls.indexOf(v), 1); });\r\n        }\r\n        columns.sort(function (a, b) { return a.pos - b.pos; });\r\n        return columns;\r\n    };\r\n    GridRouter.prototype.getDepth = function (v) {\r\n        var depth = 0;\r\n        while (v.parent !== this.root) {\r\n            depth++;\r\n            v = v.parent;\r\n        }\r\n        return depth;\r\n    };\r\n    GridRouter.prototype.midPoints = function (a) {\r\n        var gap = a[1] - a[0];\r\n        var mids = [a[0] - gap / 2];\r\n        for (var i = 1; i < a.length; i++) {\r\n            mids.push((a[i] + a[i - 1]) / 2);\r\n        }\r\n        mids.push(a[a.length - 1] + gap / 2);\r\n        return mids;\r\n    };\r\n    GridRouter.prototype.findLineage = function (v) {\r\n        var lineage = [v];\r\n        do {\r\n            v = v.parent;\r\n            lineage.push(v);\r\n        } while (v !== this.root);\r\n        return lineage.reverse();\r\n    };\r\n    GridRouter.prototype.findAncestorPathBetween = function (a, b) {\r\n        var aa = this.findLineage(a), ba = this.findLineage(b), i = 0;\r\n        while (aa[i] === ba[i])\r\n            i++;\r\n        return { commonAncestor: aa[i - 1], lineages: aa.slice(i).concat(ba.slice(i)) };\r\n    };\r\n    GridRouter.prototype.siblingObstacles = function (a, b) {\r\n        var _this = this;\r\n        var path = this.findAncestorPathBetween(a, b);\r\n        var lineageLookup = {};\r\n        path.lineages.forEach(function (v) { return lineageLookup[v.id] = {}; });\r\n        var obstacles = path.commonAncestor.children.filter(function (v) { return !(v in lineageLookup); });\r\n        path.lineages\r\n            .filter(function (v) { return v.parent !== path.commonAncestor; })\r\n            .forEach(function (v) { return obstacles = obstacles.concat(v.parent.children.filter(function (c) { return c !== v.id; })); });\r\n        return obstacles.map(function (v) { return _this.nodes[v]; });\r\n    };\r\n    GridRouter.getSegmentSets = function (routes, x, y) {\r\n        var vsegments = [];\r\n        for (var ei = 0; ei < routes.length; ei++) {\r\n            var route = routes[ei];\r\n            for (var si = 0; si < route.length; si++) {\r\n                var s = route[si];\r\n                s.edgeid = ei;\r\n                s.i = si;\r\n                var sdx = s[1][x] - s[0][x];\r\n                if (Math.abs(sdx) < 0.1) {\r\n                    vsegments.push(s);\r\n                }\r\n            }\r\n        }\r\n        vsegments.sort(function (a, b) { return a[0][x] - b[0][x]; });\r\n        var vsegmentsets = [];\r\n        var segmentset = null;\r\n        for (var i = 0; i < vsegments.length; i++) {\r\n            var s = vsegments[i];\r\n            if (!segmentset || Math.abs(s[0][x] - segmentset.pos) > 0.1) {\r\n                segmentset = { pos: s[0][x], segments: [] };\r\n                vsegmentsets.push(segmentset);\r\n            }\r\n            segmentset.segments.push(s);\r\n        }\r\n        return vsegmentsets;\r\n    };\r\n    GridRouter.nudgeSegs = function (x, y, routes, segments, leftOf, gap) {\r\n        var n = segments.length;\r\n        if (n <= 1)\r\n            return;\r\n        var vs = segments.map(function (s) { return new vpsc_1.Variable(s[0][x]); });\r\n        var cs = [];\r\n        for (var i = 0; i < n; i++) {\r\n            for (var j = 0; j < n; j++) {\r\n                if (i === j)\r\n                    continue;\r\n                var s1 = segments[i], s2 = segments[j], e1 = s1.edgeid, e2 = s2.edgeid, lind = -1, rind = -1;\r\n                if (x == 'x') {\r\n                    if (leftOf(e1, e2)) {\r\n                        if (s1[0][y] < s1[1][y]) {\r\n                            lind = j, rind = i;\r\n                        }\r\n                        else {\r\n                            lind = i, rind = j;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (leftOf(e1, e2)) {\r\n                        if (s1[0][y] < s1[1][y]) {\r\n                            lind = i, rind = j;\r\n                        }\r\n                        else {\r\n                            lind = j, rind = i;\r\n                        }\r\n                    }\r\n                }\r\n                if (lind >= 0) {\r\n                    cs.push(new vpsc_1.Constraint(vs[lind], vs[rind], gap));\r\n                }\r\n            }\r\n        }\r\n        var solver = new vpsc_1.Solver(vs, cs);\r\n        solver.solve();\r\n        vs.forEach(function (v, i) {\r\n            var s = segments[i];\r\n            var pos = v.position();\r\n            s[0][x] = s[1][x] = pos;\r\n            var route = routes[s.edgeid];\r\n            if (s.i > 0)\r\n                route[s.i - 1][1][x] = pos;\r\n            if (s.i < route.length - 1)\r\n                route[s.i + 1][0][x] = pos;\r\n        });\r\n    };\r\n    GridRouter.nudgeSegments = function (routes, x, y, leftOf, gap) {\r\n        var vsegmentsets = GridRouter.getSegmentSets(routes, x, y);\r\n        for (var i = 0; i < vsegmentsets.length; i++) {\r\n            var ss = vsegmentsets[i];\r\n            var events = [];\r\n            for (var j = 0; j < ss.segments.length; j++) {\r\n                var s = ss.segments[j];\r\n                events.push({ type: 0, s: s, pos: Math.min(s[0][y], s[1][y]) });\r\n                events.push({ type: 1, s: s, pos: Math.max(s[0][y], s[1][y]) });\r\n            }\r\n            events.sort(function (a, b) { return a.pos - b.pos + a.type - b.type; });\r\n            var open = [];\r\n            var openCount = 0;\r\n            events.forEach(function (e) {\r\n                if (e.type === 0) {\r\n                    open.push(e.s);\r\n                    openCount++;\r\n                }\r\n                else {\r\n                    openCount--;\r\n                }\r\n                if (openCount == 0) {\r\n                    GridRouter.nudgeSegs(x, y, routes, open, leftOf, gap);\r\n                    open = [];\r\n                }\r\n            });\r\n        }\r\n    };\r\n    GridRouter.prototype.routeEdges = function (edges, nudgeGap, source, target) {\r\n        var _this = this;\r\n        var routePaths = edges.map(function (e) { return _this.route(source(e), target(e)); });\r\n        var order = GridRouter.orderEdges(routePaths);\r\n        var routes = routePaths.map(function (e) { return GridRouter.makeSegments(e); });\r\n        GridRouter.nudgeSegments(routes, 'x', 'y', order, nudgeGap);\r\n        GridRouter.nudgeSegments(routes, 'y', 'x', order, nudgeGap);\r\n        GridRouter.unreverseEdges(routes, routePaths);\r\n        return routes;\r\n    };\r\n    GridRouter.unreverseEdges = function (routes, routePaths) {\r\n        routes.forEach(function (segments, i) {\r\n            var path = routePaths[i];\r\n            if (path.reversed) {\r\n                segments.reverse();\r\n                segments.forEach(function (segment) {\r\n                    segment.reverse();\r\n                });\r\n            }\r\n        });\r\n    };\r\n    GridRouter.angleBetween2Lines = function (line1, line2) {\r\n        var angle1 = Math.atan2(line1[0].y - line1[1].y, line1[0].x - line1[1].x);\r\n        var angle2 = Math.atan2(line2[0].y - line2[1].y, line2[0].x - line2[1].x);\r\n        var diff = angle1 - angle2;\r\n        if (diff > Math.PI || diff < -Math.PI) {\r\n            diff = angle2 - angle1;\r\n        }\r\n        return diff;\r\n    };\r\n    GridRouter.isLeft = function (a, b, c) {\r\n        return ((b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x)) <= 0;\r\n    };\r\n    GridRouter.getOrder = function (pairs) {\r\n        var outgoing = {};\r\n        for (var i = 0; i < pairs.length; i++) {\r\n            var p = pairs[i];\r\n            if (typeof outgoing[p.l] === 'undefined')\r\n                outgoing[p.l] = {};\r\n            outgoing[p.l][p.r] = true;\r\n        }\r\n        return function (l, r) { return typeof outgoing[l] !== 'undefined' && outgoing[l][r]; };\r\n    };\r\n    GridRouter.orderEdges = function (edges) {\r\n        var edgeOrder = [];\r\n        for (var i = 0; i < edges.length - 1; i++) {\r\n            for (var j = i + 1; j < edges.length; j++) {\r\n                var e = edges[i], f = edges[j], lcs = new LongestCommonSubsequence(e, f);\r\n                var u, vi, vj;\r\n                if (lcs.length === 0)\r\n                    continue;\r\n                if (lcs.reversed) {\r\n                    f.reverse();\r\n                    f.reversed = true;\r\n                    lcs = new LongestCommonSubsequence(e, f);\r\n                }\r\n                if ((lcs.si <= 0 || lcs.ti <= 0) &&\r\n                    (lcs.si + lcs.length >= e.length || lcs.ti + lcs.length >= f.length)) {\r\n                    edgeOrder.push({ l: i, r: j });\r\n                    continue;\r\n                }\r\n                if (lcs.si + lcs.length >= e.length || lcs.ti + lcs.length >= f.length) {\r\n                    u = e[lcs.si + 1];\r\n                    vj = e[lcs.si - 1];\r\n                    vi = f[lcs.ti - 1];\r\n                }\r\n                else {\r\n                    u = e[lcs.si + lcs.length - 2];\r\n                    vi = e[lcs.si + lcs.length];\r\n                    vj = f[lcs.ti + lcs.length];\r\n                }\r\n                if (GridRouter.isLeft(u, vi, vj)) {\r\n                    edgeOrder.push({ l: j, r: i });\r\n                }\r\n                else {\r\n                    edgeOrder.push({ l: i, r: j });\r\n                }\r\n            }\r\n        }\r\n        return GridRouter.getOrder(edgeOrder);\r\n    };\r\n    GridRouter.makeSegments = function (path) {\r\n        function copyPoint(p) {\r\n            return { x: p.x, y: p.y };\r\n        }\r\n        var isStraight = function (a, b, c) { return Math.abs((b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x)) < 0.001; };\r\n        var segments = [];\r\n        var a = copyPoint(path[0]);\r\n        for (var i = 1; i < path.length; i++) {\r\n            var b = copyPoint(path[i]), c = i < path.length - 1 ? path[i + 1] : null;\r\n            if (!c || !isStraight(a, b, c)) {\r\n                segments.push([a, b]);\r\n                a = b;\r\n            }\r\n        }\r\n        return segments;\r\n    };\r\n    GridRouter.prototype.route = function (s, t) {\r\n        var _this = this;\r\n        var source = this.nodes[s], target = this.nodes[t];\r\n        this.obstacles = this.siblingObstacles(source, target);\r\n        var obstacleLookup = {};\r\n        this.obstacles.forEach(function (o) { return obstacleLookup[o.id] = o; });\r\n        this.passableEdges = this.edges.filter(function (e) {\r\n            var u = _this.verts[e.source], v = _this.verts[e.target];\r\n            return !(u.node && u.node.id in obstacleLookup\r\n                || v.node && v.node.id in obstacleLookup);\r\n        });\r\n        for (var i = 1; i < source.ports.length; i++) {\r\n            var u = source.ports[0].id;\r\n            var v = source.ports[i].id;\r\n            this.passableEdges.push({\r\n                source: u,\r\n                target: v,\r\n                length: 0\r\n            });\r\n        }\r\n        for (var i = 1; i < target.ports.length; i++) {\r\n            var u = target.ports[0].id;\r\n            var v = target.ports[i].id;\r\n            this.passableEdges.push({\r\n                source: u,\r\n                target: v,\r\n                length: 0\r\n            });\r\n        }\r\n        var getSource = function (e) { return e.source; }, getTarget = function (e) { return e.target; }, getLength = function (e) { return e.length; };\r\n        var shortestPathCalculator = new shortestpaths_1.Calculator(this.verts.length, this.passableEdges, getSource, getTarget, getLength);\r\n        var bendPenalty = function (u, v, w) {\r\n            var a = _this.verts[u], b = _this.verts[v], c = _this.verts[w];\r\n            var dx = Math.abs(c.x - a.x), dy = Math.abs(c.y - a.y);\r\n            if (a.node === source && a.node === b.node || b.node === target && b.node === c.node)\r\n                return 0;\r\n            return dx > 1 && dy > 1 ? 1000 : 0;\r\n        };\r\n        var shortestPath = shortestPathCalculator.PathFromNodeToNodeWithPrevCost(source.ports[0].id, target.ports[0].id, bendPenalty);\r\n        var pathPoints = shortestPath.reverse().map(function (vi) { return _this.verts[vi]; });\r\n        pathPoints.push(this.nodes[target.id].ports[0]);\r\n        return pathPoints.filter(function (v, i) {\r\n            return !(i < pathPoints.length - 1 && pathPoints[i + 1].node === source && v.node === source\r\n                || i > 0 && v.node === target && pathPoints[i - 1].node === target);\r\n        });\r\n    };\r\n    GridRouter.getRoutePath = function (route, cornerradius, arrowwidth, arrowheight) {\r\n        var result = {\r\n            routepath: 'M ' + route[0][0].x + ' ' + route[0][0].y + ' ',\r\n            arrowpath: ''\r\n        };\r\n        if (route.length > 1) {\r\n            for (var i = 0; i < route.length; i++) {\r\n                var li = route[i];\r\n                var x = li[1].x, y = li[1].y;\r\n                var dx = x - li[0].x;\r\n                var dy = y - li[0].y;\r\n                if (i < route.length - 1) {\r\n                    if (Math.abs(dx) > 0) {\r\n                        x -= dx / Math.abs(dx) * cornerradius;\r\n                    }\r\n                    else {\r\n                        y -= dy / Math.abs(dy) * cornerradius;\r\n                    }\r\n                    result.routepath += 'L ' + x + ' ' + y + ' ';\r\n                    var l = route[i + 1];\r\n                    var x0 = l[0].x, y0 = l[0].y;\r\n                    var x1 = l[1].x;\r\n                    var y1 = l[1].y;\r\n                    dx = x1 - x0;\r\n                    dy = y1 - y0;\r\n                    var angle = GridRouter.angleBetween2Lines(li, l) < 0 ? 1 : 0;\r\n                    var x2, y2;\r\n                    if (Math.abs(dx) > 0) {\r\n                        x2 = x0 + dx / Math.abs(dx) * cornerradius;\r\n                        y2 = y0;\r\n                    }\r\n                    else {\r\n                        x2 = x0;\r\n                        y2 = y0 + dy / Math.abs(dy) * cornerradius;\r\n                    }\r\n                    var cx = Math.abs(x2 - x);\r\n                    var cy = Math.abs(y2 - y);\r\n                    result.routepath += 'A ' + cx + ' ' + cy + ' 0 0 ' + angle + ' ' + x2 + ' ' + y2 + ' ';\r\n                }\r\n                else {\r\n                    var arrowtip = [x, y];\r\n                    var arrowcorner1, arrowcorner2;\r\n                    if (Math.abs(dx) > 0) {\r\n                        x -= dx / Math.abs(dx) * arrowheight;\r\n                        arrowcorner1 = [x, y + arrowwidth];\r\n                        arrowcorner2 = [x, y - arrowwidth];\r\n                    }\r\n                    else {\r\n                        y -= dy / Math.abs(dy) * arrowheight;\r\n                        arrowcorner1 = [x + arrowwidth, y];\r\n                        arrowcorner2 = [x - arrowwidth, y];\r\n                    }\r\n                    result.routepath += 'L ' + x + ' ' + y + ' ';\r\n                    if (arrowheight > 0) {\r\n                        result.arrowpath = 'M ' + arrowtip[0] + ' ' + arrowtip[1] + ' L ' + arrowcorner1[0] + ' ' + arrowcorner1[1]\r\n                            + ' L ' + arrowcorner2[0] + ' ' + arrowcorner2[1];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            var li = route[0];\r\n            var x = li[1].x, y = li[1].y;\r\n            var dx = x - li[0].x;\r\n            var dy = y - li[0].y;\r\n            var arrowtip = [x, y];\r\n            var arrowcorner1, arrowcorner2;\r\n            if (Math.abs(dx) > 0) {\r\n                x -= dx / Math.abs(dx) * arrowheight;\r\n                arrowcorner1 = [x, y + arrowwidth];\r\n                arrowcorner2 = [x, y - arrowwidth];\r\n            }\r\n            else {\r\n                y -= dy / Math.abs(dy) * arrowheight;\r\n                arrowcorner1 = [x + arrowwidth, y];\r\n                arrowcorner2 = [x - arrowwidth, y];\r\n            }\r\n            result.routepath += 'L ' + x + ' ' + y + ' ';\r\n            if (arrowheight > 0) {\r\n                result.arrowpath = 'M ' + arrowtip[0] + ' ' + arrowtip[1] + ' L ' + arrowcorner1[0] + ' ' + arrowcorner1[1]\r\n                    + ' L ' + arrowcorner2[0] + ' ' + arrowcorner2[1];\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    return GridRouter;\r\n}());\r\nexports.GridRouter = GridRouter;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JpZHJvdXRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL1dlYkNvbGEvc3JjL2dyaWRyb3V0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSx5Q0FBcUM7QUFDckMsK0JBQW1EO0FBQ25ELGlEQUEwQztBQUt0QztJQUlJLHFCQUFtQixFQUFVLEVBQVMsSUFBZSxFQUFTLFFBQWtCO1FBQTdELE9BQUUsR0FBRixFQUFFLENBQVE7UUFBUyxTQUFJLEdBQUosSUFBSSxDQUFXO1FBQVMsYUFBUSxHQUFSLFFBQVEsQ0FBVTtRQUM1RSxJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sUUFBUSxLQUFLLFdBQVcsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztJQUN6RSxDQUFDO0lBQ0wsa0JBQUM7QUFBRCxDQUFDLEFBUEQsSUFPQztBQVBZLGtDQUFXO0FBUXhCO0lBQ0ksY0FBbUIsRUFBVSxFQUFTLENBQVEsRUFBUyxDQUFTLEVBQVMsSUFBd0IsRUFBUyxJQUFXO1FBQTVDLHFCQUFBLEVBQUEsV0FBd0I7UUFBUyxxQkFBQSxFQUFBLFdBQVc7UUFBbEcsT0FBRSxHQUFGLEVBQUUsQ0FBUTtRQUFTLE1BQUMsR0FBRCxDQUFDLENBQU87UUFBUyxNQUFDLEdBQUQsQ0FBQyxDQUFRO1FBQVMsU0FBSSxHQUFKLElBQUksQ0FBb0I7UUFBUyxTQUFJLEdBQUosSUFBSSxDQUFPO0lBQUcsQ0FBQztJQUM3SCxXQUFDO0FBQUQsQ0FBQyxBQUZELElBRUM7QUFGWSxvQkFBSTtBQUlqQjtJQUtJLGtDQUFtQixDQUFNLEVBQVMsQ0FBTTtRQUFyQixNQUFDLEdBQUQsQ0FBQyxDQUFLO1FBQVMsTUFBQyxHQUFELENBQUMsQ0FBSztRQUNwQyxJQUFJLEVBQUUsR0FBRyx3QkFBd0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2xELElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxD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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar shortestpaths_1 = require(\"./shortestpaths\");\r\nvar descent_1 = require(\"./descent\");\r\nvar rectangle_1 = require(\"./rectangle\");\r\nvar linklengths_1 = require(\"./linklengths\");\r\nvar Link3D = (function () {\r\n    function Link3D(source, target) {\r\n        this.source = source;\r\n        this.target = target;\r\n    }\r\n    Link3D.prototype.actualLength = function (x) {\r\n        var _this = this;\r\n        return Math.sqrt(x.reduce(function (c, v) {\r\n            var dx = v[_this.target] - v[_this.source];\r\n            return c + dx * dx;\r\n        }, 0));\r\n    };\r\n    return Link3D;\r\n}());\r\nexports.Link3D = Link3D;\r\nvar Node3D = (function () {\r\n    function Node3D(x, y, z) {\r\n        if (x === void 0) { x = 0; }\r\n        if (y === void 0) { y = 0; }\r\n        if (z === void 0) { z = 0; }\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n    return Node3D;\r\n}());\r\nexports.Node3D = Node3D;\r\nvar Layout3D = (function () {\r\n    function Layout3D(nodes, links, idealLinkLength) {\r\n        var _this = this;\r\n        if (idealLinkLength === void 0) { idealLinkLength = 1; }\r\n        this.nodes = nodes;\r\n        this.links = links;\r\n        this.idealLinkLength = idealLinkLength;\r\n        this.constraints = null;\r\n        this.useJaccardLinkLengths = true;\r\n        this.result = new Array(Layout3D.k);\r\n        for (var i = 0; i < Layout3D.k; ++i) {\r\n            this.result[i] = new Array(nodes.length);\r\n        }\r\n        nodes.forEach(function (v, i) {\r\n            for (var _i = 0, _a = Layout3D.dims; _i < _a.length; _i++) {\r\n                var dim = _a[_i];\r\n                if (typeof v[dim] == 'undefined')\r\n                    v[dim] = Math.random();\r\n            }\r\n            _this.result[0][i] = v.x;\r\n            _this.result[1][i] = v.y;\r\n            _this.result[2][i] = v.z;\r\n        });\r\n    }\r\n    ;\r\n    Layout3D.prototype.linkLength = function (l) {\r\n        return l.actualLength(this.result);\r\n    };\r\n    Layout3D.prototype.start = function (iterations) {\r\n        var _this = this;\r\n        if (iterations === void 0) { iterations = 100; }\r\n        var n = this.nodes.length;\r\n        var linkAccessor = new LinkAccessor();\r\n        if (this.useJaccardLinkLengths)\r\n            linklengths_1.jaccardLinkLengths(this.links, linkAccessor, 1.5);\r\n        this.links.forEach(function (e) { return e.length *= _this.idealLinkLength; });\r\n        var distanceMatrix = (new shortestpaths_1.Calculator(n, this.links, function (e) { return e.source; }, function (e) { return e.target; }, function (e) { return e.length; })).DistanceMatrix();\r\n        var D = descent_1.Descent.createSquareMatrix(n, function (i, j) { return distanceMatrix[i][j]; });\r\n        var G = descent_1.Descent.createSquareMatrix(n, function () { return 2; });\r\n        this.links.forEach(function (_a) {\r\n            var source = _a.source, target = _a.target;\r\n            return G[source][target] = G[target][source] = 1;\r\n        });\r\n        this.descent = new descent_1.Descent(this.result, D);\r\n        this.descent.threshold = 1e-3;\r\n        this.descent.G = G;\r\n        if (this.constraints)\r\n            this.descent.project = new rectangle_1.Projection(this.nodes, null, null, this.constraints).projectFunctions();\r\n        for (var i = 0; i < this.nodes.length; i++) {\r\n            var v = this.nodes[i];\r\n            if (v.fixed) {\r\n                this.descent.locks.add(i, [v.x, v.y, v.z]);\r\n            }\r\n        }\r\n        this.descent.run(iterations);\r\n        return this;\r\n    };\r\n    Layout3D.prototype.tick = function () {\r\n        this.descent.locks.clear();\r\n        for (var i = 0; i < this.nodes.length; i++) {\r\n            var v = this.nodes[i];\r\n            if (v.fixed) {\r\n                this.descent.locks.add(i, [v.x, v.y, v.z]);\r\n            }\r\n        }\r\n        return this.descent.rungeKutta();\r\n    };\r\n    Layout3D.dims = ['x', 'y', 'z'];\r\n    Layout3D.k = Layout3D.dims.length;\r\n    return Layout3D;\r\n}());\r\nexports.Layout3D = Layout3D;\r\nvar LinkAccessor = (function () {\r\n    function LinkAccessor() {\r\n    }\r\n    LinkAccessor.prototype.getSourceIndex = function (e) { return e.source; };\r\n    LinkAccessor.prototype.getTargetIndex = function (e) { return e.target; };\r\n    LinkAccessor.prototype.getLength = function (e) { return e.length; };\r\n    LinkAccessor.prototype.setLength = function (e, l) { e.length = l; };\r\n    return LinkAccessor;\r\n}());\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5b3V0M2QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9sYXlvdXQzZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLGlEQUEwQztBQUMxQyxxQ0FBaUM7QUFDakMseUNBQTREO0FBRTVELDZDQUFvRTtBQUVwRTtJQUVRLGdCQUFtQixNQUFjLEVBQVMsTUFBYztRQUFyQyxXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQVMsV0FBTSxHQUFOLE1BQU0sQ0FBUTtJQUFJLENBQUM7SUFDN0QsNkJBQVksR0FBWixVQUFhLENBQWE7UUFBMUIsaUJBTUM7UUFMRyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQ1osQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFDLENBQVMsRUFBRSxDQUFXO1lBQzVCLElBQU0sRUFBRSxHQUFHLENBQUMsQ0FBQyxLQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMzQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2YsQ0FBQztJQUNMLGFBQUM7QUFBRCxDQUFDLEFBVkwsSUFVSztBQVZRLHdCQUFNO0FBV2Y7SUFTSSxnQkFDVyxDQUFhLEVBQ2IsQ0FBYSxFQUNiLENBQWE7UUFGYixrQkFBQSxFQUFBLEtBQWE7UUFDYixrQkFBQSxFQUFBLEtBQWE7UUFDYixrQkFBQSxFQUFBLEtBQWE7UUFGYixNQUFDLEdBQUQsQ0FBQyxDQUFZO1FBQ2IsTUFBQyxHQUFELENBQUMsQ0FBWTtRQUNiLE1BQUMsR0FBRCxDQUFDLENBQVk7SUFBSSxDQUFDO0lBQ2pDLGFBQUM7QUFBRCxDQUFDLEFBYkQsSUFhQztBQWJZLHdCQUFNO0FBY25CO0lBTUksa0JBQW1CLEtBQWUsRUFBUyxLQUFlLEVBQVMsZUFBMkI7UUFBOUYsaUJBYUM7UUFia0UsZ0NBQUEsRUFBQSxtQkFB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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar layout_1 = require(\"./layout\");\r\nvar gridrouter_1 = require(\"./gridrouter\");\r\nfunction gridify(pgLayout, nudgeGap, margin, groupMargin) {\r\n    pgLayout.cola.start(0, 0, 0, 10, false);\r\n    var gridrouter = route(pgLayout.cola.nodes(), pgLayout.cola.groups(), margin, groupMargin);\r\n    return gridrouter.routeEdges(pgLayout.powerGraph.powerEdges, nudgeGap, function (e) { return e.source.routerNode.id; }, function (e) { return e.target.routerNode.id; });\r\n}\r\nexports.gridify = gridify;\r\nfunction route(nodes, groups, margin, groupMargin) {\r\n    nodes.forEach(function (d) {\r\n        d.routerNode = {\r\n            name: d.name,\r\n            bounds: d.bounds.inflate(-margin)\r\n        };\r\n    });\r\n    groups.forEach(function (d) {\r\n        d.routerNode = {\r\n            bounds: d.bounds.inflate(-groupMargin),\r\n            children: (typeof d.groups !== 'undefined' ? d.groups.map(function (c) { return nodes.length + c.id; }) : [])\r\n                .concat(typeof d.leaves !== 'undefined' ? d.leaves.map(function (c) { return c.index; }) : [])\r\n        };\r\n    });\r\n    var gridRouterNodes = nodes.concat(groups).map(function (d, i) {\r\n        d.routerNode.id = i;\r\n        return d.routerNode;\r\n    });\r\n    return new gridrouter_1.GridRouter(gridRouterNodes, {\r\n        getChildren: function (v) { return v.children; },\r\n        getBounds: function (v) { return v.bounds; }\r\n    }, margin - groupMargin);\r\n}\r\nfunction powerGraphGridLayout(graph, size, grouppadding) {\r\n    var powerGraph;\r\n    graph.nodes.forEach(function (v, i) { return v.index = i; });\r\n    new layout_1.Layout()\r\n        .avoidOverlaps(false)\r\n        .nodes(graph.nodes)\r\n        .links(graph.links)\r\n        .powerGraphGroups(function (d) {\r\n        powerGraph = d;\r\n        powerGraph.groups.forEach(function (v) { return v.padding = grouppadding; });\r\n    });\r\n    var n = graph.nodes.length;\r\n    var edges = [];\r\n    var vs = graph.nodes.slice(0);\r\n    vs.forEach(function (v, i) { return v.index = i; });\r\n    powerGraph.groups.forEach(function (g) {\r\n        var sourceInd = g.index = g.id + n;\r\n        vs.push(g);\r\n        if (typeof g.leaves !== 'undefined')\r\n            g.leaves.forEach(function (v) { return edges.push({ source: sourceInd, target: v.index }); });\r\n        if (typeof g.groups !== 'undefined')\r\n            g.groups.forEach(function (gg) { return edges.push({ source: sourceInd, target: gg.id + n }); });\r\n    });\r\n    powerGraph.powerEdges.forEach(function (e) {\r\n        edges.push({ source: e.source.index, target: e.target.index });\r\n    });\r\n    new layout_1.Layout()\r\n        .size(size)\r\n        .nodes(vs)\r\n        .links(edges)\r\n        .avoidOverlaps(false)\r\n        .linkDistance(30)\r\n        .symmetricDiffLinkLengths(5)\r\n        .convergenceThreshold(1e-4)\r\n        .start(100, 0, 0, 0, false);\r\n    return {\r\n        cola: new layout_1.Layout()\r\n            .convergenceThreshold(1e-3)\r\n            .size(size)\r\n            .avoidOverlaps(true)\r\n            .nodes(graph.nodes)\r\n            .links(graph.links)\r\n            .groupCompactness(1e-4)\r\n            .linkDistance(30)\r\n            .symmetricDiffLinkLengths(5)\r\n            .powerGraphGroups(function (d) {\r\n            powerGraph = d;\r\n            powerGraph.groups.forEach(function (v) {\r\n                v.padding = grouppadding;\r\n            });\r\n        }).start(50, 0, 100, 0, false),\r\n        powerGraph: powerGraph\r\n    };\r\n}\r\nexports.powerGraphGridLayout = powerGraphGridLayout;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmF0Y2guanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9XZWJDb2xhL3NyYy9iYXRjaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLG1DQUEyQztBQUMzQywyQ0FBdUM7QUFRdkMsU0FBZ0IsT0FBTyxDQUFDLFFBQVEsRUFBRSxRQUFnQixFQUFFLE1BQWMsRUFBRSxXQUFtQjtJQUNuRixRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDeEMsSUFBSSxVQUFVLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDM0YsT0FBTyxVQUFVLENBQUMsVUFBVSxDQUFNLFFBQVEsQ0FBQyxVQUFVLENBQUMsVUFBVSxFQUFFLFFBQVEsRUFBRSxVQUFBLENBQUMsSUFBRyxPQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBdEIsQ0FBc0IsRUFBRSxVQUFBLENBQUMsSUFBRyxPQUFBLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBdEIsQ0FBc0IsQ0FBQyxDQUFDO0FBQ3hJLENBQUM7QUFKRCwwQkFJQztBQUVELFNBQVMsS0FBSyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBYyxFQUFFLFdBQW1CO0lBQzdELEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBQSxDQUFDO1FBQ1gsQ0FBQyxDQUFDLFVBQVUsR0FBUTtZQUNoQixJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUk7WUFDWixNQUFNLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUM7U0FDcEMsQ0FBQztJQUNOLENBQUMsQ0FBQyxDQUFDO0lBQ0gs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","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./src/adaptor\"));\r\n__export(require(\"./src/d3adaptor\"));\r\n__export(require(\"./src/descent\"));\r\n__export(require(\"./src/geom\"));\r\n__export(require(\"./src/gridrouter\"));\r\n__export(require(\"./src/handledisconnected\"));\r\n__export(require(\"./src/layout\"));\r\n__export(require(\"./src/layout3d\"));\r\n__export(require(\"./src/linklengths\"));\r\n__export(require(\"./src/powergraph\"));\r\n__export(require(\"./src/pqueue\"));\r\n__export(require(\"./src/rbtree\"));\r\n__export(require(\"./src/rectangle\"));\r\n__export(require(\"./src/shortestpaths\"));\r\n__export(require(\"./src/vpsc\"));\r\n__export(require(\"./src/batch\"));\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9XZWJDb2xhL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsbUNBQTZCO0FBQzdCLHFDQUErQjtBQUMvQixtQ0FBNkI7QUFDN0IsZ0NBQTBCO0FBQzFCLHNDQUFnQztBQUNoQyw4Q0FBd0M7QUFDeEMsa0NBQTRCO0FBQzVCLG9DQUE4QjtBQUM5Qix1Q0FBaUM7QUFDakMsc0NBQWdDO0FBQ2hDLGtDQUE0QjtBQUM1QixrQ0FBNEI7QUFDNUIscUNBQStCO0FBQy9CLHlDQUFtQztBQUNuQyxnQ0FBMEI7QUFDMUIsaUNBQTJCIn0=","import { scaleSequential, scaleLinear } from \"d3-scale\";\nimport { interpolateSpectral as colorRainbow } from \"d3-scale-chromatic\";\nimport { hsl } from \"d3-color\";\n\nexport const COLOR_DEFAULT_FILE = \"#db7100\";\nexport const COLOR_DEFAULT_OWN_SOURCE = \"#487ea4\";\nexport const COLOR_DEFAULT_VENDOR_SOURCE = \"#599e59\";\n\nexport const COLOR_BASE = \"#cecece\";\n\nconst colorDefault = (node) => {\n  if (node.children && node.children.length) {\n    const parents = node.ancestors();\n    const hasNodeModules = parents.some(\n      ({ data: { name } }) => name === \"node_modules\"\n    );\n    return hasNodeModules\n      ? COLOR_DEFAULT_VENDOR_SOURCE\n      : COLOR_DEFAULT_OWN_SOURCE;\n  } else {\n    return COLOR_DEFAULT_FILE;\n  }\n};\n\nexport default colorDefault;\n\n// https://www.w3.org/TR/WCAG20/#relativeluminancedef\nconst rc = 0.2126;\nconst gc = 0.7152;\nconst bc = 0.0722;\n// low-gamma adjust coefficient\nconst lowc = 1 / 12.92;\n\nfunction adjustGamma(_) {\n  return Math.pow((_ + 0.055) / 1.055, 2.4);\n}\n\nfunction relativeLuminance(o) {\n  const rsrgb = o.r / 255;\n  const gsrgb = o.g / 255;\n  const bsrgb = o.b / 255;\n\n  const r = rsrgb <= 0.03928 ? rsrgb * lowc : adjustGamma(rsrgb);\n  const g = gsrgb <= 0.03928 ? gsrgb * lowc : adjustGamma(gsrgb);\n  const b = bsrgb <= 0.03928 ? bsrgb * lowc : adjustGamma(bsrgb);\n\n  return r * rc + g * gc + b * bc;\n}\n\nexport const createRainbowColor = (root) => {\n  const colorParentMap = new Map();\n  colorParentMap.set(root, COLOR_BASE);\n\n  if (root.children != null) {\n    const colorScale = scaleSequential(\n      [0, root.children.length - 1],\n      colorRainbow\n    );\n    root.children.forEach((c, id) => {\n      colorParentMap.set(c, colorScale(id));\n    });\n  }\n\n  const colorMap = new Map();\n\n  const lightScale = scaleLinear().domain([0, root.height]).range([0.8, 0.1]);\n\n  const getBackgroundColor = (node) => {\n    const parents = node.ancestors();\n    const colorStr =\n      parents.length === 1\n        ? colorParentMap.get(parents[0])\n        : colorParentMap.get(parents[parents.length - 2]);\n\n    const hslColor = hsl(colorStr);\n    hslColor.l = lightScale(node.depth);\n\n    return hslColor;\n  };\n\n  return (node) => {\n    if (!colorMap.has(node)) {\n      const backgroundColor = getBackgroundColor(node);\n      const l = relativeLuminance(backgroundColor.rgb());\n      const fontColor = l > 0.179 ? \"#000\" : \"#fff\";\n      colorMap.set(node, { backgroundColor, fontColor });\n    }\n\n    return colorMap.get(node);\n  };\n};\n","export const LABELS = {\n  renderedLength: \"Size\",\n  gzipLength: \"Gzip\",\n  brotliLength: \"Brotli\",\n};\n\nexport const getAvailableSizeOptions = (options) => {\n  const availableSizeProperties = [\"renderedLength\"];\n  if (options.gzip) {\n    availableSizeProperties.push(\"gzipLength\");\n  }\n  if (options.brotli) {\n    availableSizeProperties.push(\"brotliLength\");\n  }\n\n  return availableSizeProperties;\n};\n","import { render } from \"preact\";\nimport { useState, useRef, useEffect, useMemo } from \"preact/hooks\";\nimport { html } from \"htm/preact\";\nimport { max as d3max } from \"d3-array\";\nimport { scaleSqrt } from \"d3-scale\";\n\nimport { format as formatBytes } from \"bytes\";\n\nimport webcola from \"webcola\";\n\nimport {\n  COLOR_DEFAULT_OWN_SOURCE,\n  COLOR_DEFAULT_VENDOR_SOURCE,\n  COLOR_BASE,\n} from \"./color\";\n\nimport { LABELS, getAvailableSizeOptions } from \"./sizes\";\n\nimport \"./style/style-network.scss\";\n\nconst NODE_MODULES = /.*(?:\\/|\\\\\\\\)?node_modules(?:\\/|\\\\\\\\)([^/\\\\]+)(?:\\/|\\\\\\\\).+/;\n\nconst color = ({ renderedLength, id }) =>\n  renderedLength === 0\n    ? COLOR_BASE\n    : id.match(NODE_MODULES)\n    ? COLOR_DEFAULT_VENDOR_SOURCE\n    : COLOR_DEFAULT_OWN_SOURCE;\n\nconst Tooltip = ({\n  node,\n  visible,\n  importedByCache,\n  sizeProperty,\n  availableSizeProperties,\n}) => {\n  const ref = useRef();\n  const [style, setStyle] = useState({});\n  const content = useMemo(() => {\n    if (!node) return null;\n\n    const uid = node.uid;\n\n    return html`\n      <div>${node.id}</div>\n      ${availableSizeProperties.map((sizeProp) => {\n        if (sizeProp === sizeProperty) {\n          return html`\n            <div>\n              <b>${LABELS[sizeProp]}:${\" \"}${formatBytes(node[sizeProp])}</b>\n            </div>\n          `;\n        } else {\n          return html`\n            <div>\n              ${LABELS[sizeProp]}:${\" \"} ${formatBytes(node[sizeProp])}\n            </div>\n          `;\n        }\n      })}\n      ${uid &&\n      importedByCache.has(uid) &&\n      html`\n        <div>\n          <div><b>Imported By</b>:</div>\n          ${[...new Set(importedByCache.get(uid).map(({ id }) => id))].map(\n            (id) => html` <div>${id}</div> `\n          )}\n        </div>\n      `}\n    `;\n  }, [node]);\n\n  const updatePosition = (mouseCoords) => {\n    const pos = {\n      left: mouseCoords.x + Tooltip.marginX,\n      top: mouseCoords.y + Tooltip.marginY,\n    };\n\n    const boundingRect = ref.current.getBoundingClientRect();\n\n    if (pos.left + boundingRect.width > window.innerWidth) {\n      // Shifting horizontally\n      pos.left = window.innerWidth - boundingRect.width;\n    }\n\n    if (pos.top + boundingRect.height > window.innerHeight) {\n      // Flipping vertically\n      pos.top = mouseCoords.y - Tooltip.marginY - boundingRect.height;\n    }\n\n    setStyle(pos);\n  };\n\n  const handleMouseMove = (event) => {\n    updatePosition({\n      x: event.pageX,\n      y: event.pageY,\n    });\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"mousemove\", handleMouseMove, true);\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseMove, true);\n    };\n  }, []);\n\n  return html`\n    <div\n      class=\"tooltip ${visible ? \"\" : \"tooltip-hidden\"}\"\n      ref=${ref}\n      style=${style}\n    >\n      ${content}\n    </div>\n  `;\n};\n\nTooltip.marginX = 10;\nTooltip.marginY = 30;\n\nconst Network = ({\n  width,\n  height,\n  links,\n  nodes,\n  size,\n  onNodeHover,\n  sizeProperty,\n}) => {\n  return html`\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=${`0 0 ${width} ${height}`}>\n      <g stroke=\"#999\" stroke-opacity=\"0.6\">\n        ${links.map((link) => {\n          return html`\n            <line\n              stroke-width=\"1\"\n              x1=${link.source.x}\n              y1=${link.source.y}\n              x2=${link.target.x}\n              y2=${link.target.y}\n            />\n          `;\n        })}\n      </g>\n      <g stroke=\"#fff\" stroke-width=\"1.5\">\n        ${nodes.map((node) => {\n          return html`\n            <circle\n              r=${size(node[sizeProperty])}\n              fill=${color(node)}\n              cx=${node.x}\n              cy=${node.y}\n              onMouseOver=${(evt) => {\n                evt.stopPropagation();\n                onNodeHover(node);\n              }}\n            />\n          `;\n        })}\n      </g>\n    </svg>\n  `;\n};\n\nconst Chart = ({\n  width,\n  height,\n  nodes,\n  links,\n  size,\n  sizeProperty,\n  availableSizeProperties,\n  importedCache,\n  importedByCache,\n}) => {\n  const [showTooltip, setShowTooltip] = useState(false);\n  const [tooltipNode, setTooltipNode] = useState(null);\n\n  const handleMouseOut = () => {\n    setShowTooltip(false);\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"mouseover\", handleMouseOut);\n    return () => {\n      document.removeEventListener(\"mouseover\", handleMouseOut);\n    };\n  }, []);\n\n  return html`\n    <${Network}\n      width=${width}\n      height=${height}\n      links=${links}\n      nodes=${nodes}\n      size=${size}\n      onNodeHover=${(node) => {\n        setTooltipNode(node);\n        setShowTooltip(true);\n      }}\n      sizeProperty=${sizeProperty}\n      availableSizeProperties=${availableSizeProperties}\n    />\n    <${Tooltip}\n      visible=${showTooltip}\n      node=${tooltipNode}\n      importedByCache=${importedByCache}\n      importedCache=${importedCache}\n      sizeProperty=${sizeProperty}\n      availableSizeProperties=${availableSizeProperties}\n    />\n  `;\n};\n\nconst SideBar = ({\n  availableSizeProperties,\n  sizeProperty,\n  setSizeProperty,\n}) => {\n  const handleChange = (sizeProp) => () => {\n    if (sizeProp !== sizeProperty) {\n      setSizeProperty(sizeProp);\n    }\n  };\n  return html`\n    <aside class=\"sidebar\">\n      <div class=\"size-selectors\">\n        ${availableSizeProperties.length > 1 &&\n        availableSizeProperties.map((sizeProp) => {\n          const id = `selector-${sizeProp}`;\n          return html`\n            <div class=\"size-selector\">\n              <input\n                type=\"radio\"\n                id=${id}\n                checked=${sizeProp === sizeProperty}\n                onChange=${handleChange(sizeProp)}\n              />\n              <label for=${id}>\n                ${LABELS[sizeProp]}\n              </label>\n            </div>\n          `;\n        })}\n      </div>\n    </aside>\n  `;\n};\n\nconst Main = ({\n  width,\n  height,\n  data: { nodes: origNodes, links: origLinks, options },\n}) => {\n  const availableSizeProperties = getAvailableSizeOptions(options);\n\n  const [sizeProperty, setSizeProperty] = useState(availableSizeProperties[0]);\n\n  console.time(\"size scale\");\n  const maxLines = d3max(Object.values(origNodes), (d) => d[sizeProperty]);\n  const size = scaleSqrt().domain([1, maxLines]).range([5, 30]);\n  console.timeEnd(\"size scale\");\n\n  console.time(\"nodes & links\");\n  const nodes = Object.entries(origNodes).map(([uid, node]) => {\n    const radius = size(node[sizeProperty]) + 1;\n    return {\n      uid,\n      ...node,\n      width: radius * 2,\n      height: radius * 2,\n      radius,\n    };\n  });\n  const nodesCache = new Map(nodes.map((d) => [d.uid, d]));\n  const links = origLinks.map(({ source, target }) => ({\n    source: nodesCache.get(source),\n    target: nodesCache.get(target),\n    value: 1,\n  }));\n  console.timeEnd(\"nodes & links\");\n\n  console.time(\"constraints\");\n  const cola = webcola.adaptor({}).size([width, height]);\n\n  const paddingX = 50;\n  const paddingY = 50;\n\n  const pageBounds = {\n    x: paddingX,\n    y: paddingY,\n    width: width - paddingX,\n    height: height - paddingY,\n  };\n\n  const realGraphNodes = nodes.slice(0);\n  const topLeft = { x: pageBounds.x, y: pageBounds.y, fixed: true };\n  const tlIndex = nodes.push(topLeft) - 1;\n  const bottomRight = {\n    x: pageBounds.x + pageBounds.width,\n    y: pageBounds.y + pageBounds.height,\n    fixed: true,\n  };\n  const brIndex = nodes.push(bottomRight) - 1;\n  const constraints = [];\n  for (let i = 0; i < realGraphNodes.length; i++) {\n    const node = realGraphNodes[i];\n    constraints.push({\n      axis: \"x\",\n      type: \"separation\",\n      left: tlIndex,\n      right: i,\n      gap: node.radius,\n    });\n    constraints.push({\n      axis: \"y\",\n      type: \"separation\",\n      left: tlIndex,\n      right: i,\n      gap: node.radius,\n    });\n    constraints.push({\n      axis: \"x\",\n      type: \"separation\",\n      left: i,\n      right: brIndex,\n      gap: node.radius,\n    });\n    constraints.push({\n      axis: \"y\",\n      type: \"separation\",\n      left: i,\n      right: brIndex,\n      gap: node.radius,\n    });\n  }\n  console.timeEnd(\"constraints\");\n\n  console.time(\"cola\");\n  cola\n    .nodes(nodes)\n    .links(links)\n    .constraints(constraints)\n    .jaccardLinkLengths(50, 0.7)\n    .avoidOverlaps(true)\n    .handleDisconnected(true)\n    .convergenceThreshold(1e-2)\n    .start(50, 50, 50)\n    .stop();\n\n  console.timeEnd(\"cola\");\n  const importedByCache = new Map();\n  const importedCache = new Map();\n\n  for (const { source, target } of origLinks || []) {\n    if (!importedByCache.has(target)) {\n      importedByCache.set(target, []);\n    }\n    if (!importedCache.has(source)) {\n      importedCache.set(source, []);\n    }\n\n    importedByCache.get(target).push({ uid: source, ...origNodes[source] });\n    importedCache.get(source).push({ uid: target, ...origNodes[target] });\n  }\n\n  return html`\n    <${SideBar}\n      sizeProperty=${sizeProperty}\n      availableSizeProperties=${availableSizeProperties}\n      setSizeProperty=${setSizeProperty}\n    />\n    <${Chart}\n      nodes=${realGraphNodes}\n      links=${links}\n      size=${size}\n      color=${color}\n      width=${width}\n      height=${height}\n      sizeProperty=${sizeProperty}\n      availableSizeProperties=${availableSizeProperties}\n      importedByCache=${importedByCache}\n      importedCache=${importedCache}\n    />\n  `;\n};\n\nconst drawChart = (parentNode, data, width, height) => {\n  render(\n    html` <${Main} data=${data} width=${width} height=${height} /> `,\n    parentNode\n  );\n};\n\nexport default drawChart;\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n"],"names":["n","u","i","t","o","r","e","c","s","a","l","v","parentNode","removeChild","h","arguments","length","push","children","defaultProps","p","key","ref","type","props","__k","__","__b","__e","__d","__c","constructor","vnode","d","m","this","context","w","indexOf","g","base","k","debounceRendering","_","sort","__v","some","__P","A","__n","ownerSVGElement","T","b","f","y","x","appendChild","nextSibling","insertBefore","value","D","j","Array","isArray","C","setProperty","test","N","style","cssText","replace","toLowerCase","slice","addEventListener","z","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","event","P","contextType","__E","prototype","render","E","sub","state","__h","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","__r","getChildContext","getSnapshotBeforeUpdate","$","diffed","call","nodeType","localName","document","createTextNode","createElementNS","createElement","is","data","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","checked","current","unmount","componentWillUnmount","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","__H","q","F","forEach","requestAnimationFrame","clearTimeout","cancelAnimationFrame","window","filter","Object","assign","apply","Map","get","set","NaN","compare","bisectRight","ascending","ascendingComparator","left","lo","hi","mid","right","e10","Math","sqrt","e5","e2","tickIncrement","start","stop","count","step","max","power","floor","log","LN10","error","pow","initRange","domain","range","factory","extend","parent","definition","create","Color","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","trim","exec","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","min","round","toString","Hsl","hslConvert","hsl2rgb","m1","m2","gamma","nogamma","exponential","constant","linear","define","copy","channels","displayable","formatHsl","brighter","darker","rgbGamma","end","colorRgb","genericArray","nb","na","Date","setTime","reA","reB","source","am","bm","bs","bi","lastIndex","index","number","one","zero","join","string","date","ArrayBuffer","isView","DataView","isNumberArray","numberArray","valueOf","object","unit","identity","normalize","bimap","interpolate","d0","d1","r0","r1","polymap","reverse","bisect","target","clamp","unknown","transformer","transform","untransform","piecewise","output","input","interpolateValue","rescale","clamper","scale","map","invert","interpolateNumber","from","rangeRound","interpolateRound","toExponential","coefficient","formatDecimal","abs","prefixExponent","re","formatSpecifier","specifier","match","Error","FormatSpecifier","fill","align","sign","symbol","width","comma","precision","undefined","exponent","%","toFixed","toPrecision","formatRounded","X","toUpperCase","locale","formatPrefix","prefixes","grouping","thousands","group","Number","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","i1","i0","formatTrim","charCodeAt","Infinity","padding","step0","step1","tickStep","precisionPrefix","precisionRound","precisionFixed","linearish","ticks","isFinite","ceil","tickFormat","nice","transformPow","transformSqrt","transformSquare","powish","formatLocale","options","mag","thousandsSeparator","unitSeparator","decimalPlaces","fixedDecimals","Boolean","pb","tb","gb","mb","kb","str","formatDecimalsRegExp","formatThousandsRegExp","defineProperty","exports","PowerEdge","Configuration","edges","linkAccessor","rootGroup","_this","modules","roots","initModulesFromGroup","ModuleSet","add","Module","R","getSourceIndex","getTargetIndex","getType","outgoing","incoming","moduleSet","leaves","node","module","id","groups","child","prop","LinkSets","merge","inInt","intersection","outInt","update","forAll","ms","linktype","nls","remove","rootMerges","rs","merges","ctr","i_","nEdges","greedyMerge","getGroupHierarchy","retargetedEdges","toGroups","isLeaf","gid","isIsland","isPredefined","allEdges","es","getEdges","edgetype","table","keys","other","result","intersectionCount","contains","vs","sets","forAllModules","lt","nodes","links","la","powerEdges","unionCount","computeLinkLengths","neighbours","addNeighbours","getNeighbours","setLength","stronglyConnectedComponents","numVertices","stack","components","strongConnect","lowlink","onStack","_i","_a","component","pop","edges_1","v_1","nodes_1","axis","constraints","ui","vi","gap","getMinSeparation","Locks","locks","clear","isEmpty","Descent","G","threshold","numGridSnapNodes","snapGridSize","snapStrength","scaleSnapByMaxH","random","PseudoRandom","project","H","Hd","ia","ib","xtmp","minD","MAX_VALUE","createSquareMatrix","M","offsetDir","getNextBetween","computeDerivatives","d2","Huu","maxH","maxDisplaces","sd2","dx","rd","weight","D2","gs","l3","hs","console","numNodes","xiu","dotProd","rightMultiply","computeStepSize","numerator","denominator","reduceStress","alpha","takeDescentStep","computeStress","stepAndProject","x0","stepSize","mApply","matrixApply","computeNextPosition","beta","run","iterations","stress","converged","rungeKutta","disp","nMinus1","rl","zeroDistance","seed","getNext","PositionStats","AB","AD","A2","addVariable","ai","offset","wi","desiredPosition","getPosn","Constraint","equality","active","unsatisfiable","slack","position","Variable","dfdv","block","ps","posn","visitNeighbours","prev","ff","next","cOut","cIn","Block","vars","updateWeightedPosition","compute_lm","postAction","_dfdv","lm","populateSplitBlock","traverse","visit","acc","findMinLM","findMinLMBetween","lv","rv","findPath","to","endFound","isActiveDirectedPathBetween","split","createSplitBlock","startVar","splitBetween","vl","vr","constraint","lb","rb","mergeAcross","dist","cost","sum","Blocks","list","blockInd","insert","last","swapBlock","updateBlockPositions","inactive","Solver","LAGRANGIAN_TOLERANCE","cs","setStartingPositions","setDesiredPositions","mostViolated","minSlack","deletePoint","ZERO_UPPERBOUND","satisfy","solve","lastcost","spans","lowerBound","upperBound","desiredCenter","size","leftMost","rightMost","leftMostSize","rightMostSize","vLower","vUpper","newCenters","extendStatics","__extends","setPrototypeOf","__proto__","TreeBase","findIter","res","_root","iter","iterator","_comparator","_cursor","_ancestors","get_child","find","_bound","cmp","Iterator","each","cb","it","reach","cur","tree","_tree","root","_minNode","save","_maxNode","Node","dir","set_child","val","RBTree","_super","comparator","ret","head","gp","ggp","is_red","dir2","single_rotate","double_rotate","found","sr","sibling","gpc","computeGroupBounds","bounds","reduce","union","Rectangle","empty","inflate","Y","POSITIVE_INFINITY","NEGATIVE_INFINITY","cx","cy","overlapX","ux","vx","overlapY","uy","vy","setXCentre","setYCentre","dy","height","lineIntersections","x1","y1","x2","y2","sides","intersections","lineIntersection","rayIntersection","ints","vertices","x3","y3","x4","y4","dx12","dx34","dy12","dy34","dx31","dy31","pad","ah","si","ti","al","sourceIntersection","targetIntersection","arrowStart","pos","makeRBTree","Event","isOpen","compareEvents","rbtree_1","xRect","getCentre","getOpen","getClose","getSize","makeRect","open","close","center","findNeighbours","scanline","forward","uovervX","yRect","generateGroupConstraints","minSep","isContained","gn","ln","childConstraints","ccs","concat","minVar","maxVar","variable","generateConstraints","gapAdjustment","rect","assert","events","makeConstraint","sep","vpsc_1","mkcon","generateXConstraints","generateYConstraints","generateXGroupConstraints","generateYGroupConstraints","solver","IndexedVariable","Projection","avoidOverlaps","variables","createConstraints","w2","h2","stiffness","createSeparation","makeFeasible","dim","offsets","nextPos","createAlignment","xConstraints","yConstraints","isSep","setupVariablesAndBounds","y0","desired","getDesired","fixed","fixedWeight","ix","iy","xProject","px","xmin","xmax","p2","yProject","py","ymin","ymax","projectFunctions","updateNodeBounds","updateGroupBounds","starting","PairingHeap","elem","subheaps","selector","needComma","subheap","isHeap","lessThan","every","obj","heap2","removeMin","mergePairs","firstPair","remaining","decreaseKey","newValue","setHeapNode","newHeap","pairingNode","PriorityQueue","top","args","arg","reduceKey","heapNode","newKey","Neighbour","distance","QueueEntry","Calculator","getLength","DistanceMatrix","dijkstraNeighbours","DistancesFromNode","PathFromNodeToNode","PathFromNodeToNodeWithPrevCost","prevCost","pqueue_1","qu","visitedFrom","neighbour","viduid","cc","path","dest","Point","LineSegment","PolyPoint","isLeft","P0","P1","P2","above","vj","below","tangent_PointPolyC","V","Vclosed","rtan","Rtangent_PointPolyC","ltan","Ltangent_PointPolyC","dnC","tangent_PolyPolyC","W","t1","t2","cmp1","cmp2","ix1","ix2","done","RLtangent_PolyPolyC","S","minmax","maxmin","maxmax","bot","atan2","BiTangent","BiTangents","TVGPoint","VisibilityVertex","polyid","polyvertid","vv","VisibilityEdge","TangentVisibilityGraph","g0","pj","Pi","Pj","tangents","addEdgeIfVisible","i2","intersectsPolys","addPoint","poly","intersects","int","rectangle_1","bt","v1","v2","v3","w1","w3","v1v2w2","v2w1w2","v2w2w3","w1w2v2","w2v1v2","w2v2v3","ll","rr","lr","isAnyPInQ","isPointInsidePoly","packingOptions","graphs","node_size","desired_ratio","centerGraph","svg_width","svg_height","real_width","real_height","min_width","global_bottom","line","max_width","put_rect","space_left","bottom","graph","min_x","min_y","max_x","max_y","array","calculate_bb","curr_best_f","curr_best","get_entire_width","iterationCounter","f_x1","f_x2","flag","df","corner","put_nodes_to_right_positions","marks","ways","clusters","link","n1","n2","explore_node","is_new","adjacent","EventType","isGroup","Layout","_canvasSize","_linkDistance","_defaultNodeSize","_linkLengthCalculator","_linkType","_avoidOverlaps","_handleDisconnected","_running","_nodes","_groups","_rootGroup","_links","_constraints","_distanceMatrix","_descent","_directedLinkConstraints","_threshold","_visibilityGraph","_groupCompactness","setLinkLength","on","listener","trigger","kick","tick","_alpha","_lastStress","s1","updateNodePositions","gi","powerGraphGroups","powergraph","getGroups","handleDisconnected","flowLayout","minSeparation","distanceMatrix","defaultNodeSize","groupCompactness","linkDistance","linkType","convergenceThreshold","getLinkLength","getLinkType","symmetricDiffLinkLengths","idealLength","linklengths_1","jaccardLinkLengths","initialUnconstrainedIterations","initialUserConstraintIterations","initialAllConstraintsIterations","gridSnapIterations","keepRunning","distances","ao","shortestpaths_1","descent_1","strength","idealDistance","addAttraction","curConstraints","generateDirectedEdgeConstraints","initialLayout","separateOverlappingComponents","G0","resume","gg","x_1","y_1","handledisconnected_1","separateGraphs","applyPacking","prepareEdgeRouting","nodeMargin","geom_1","routeEdge","edge","draw","lineData","vg2","port1","port2","shortestPath","route","makeEdgeBetween","innerBounds","makeEdgeTo","linkId","dragStart","storeOffset","dragOrigin","stopNode","origin","_dragGroupOffsetX","_dragGroupOffsetY","drag","dragEnd","mouseOver","mouseOut","LayoutAdaptor","dragstart","layout_1","dragend","eventType","D3StyleLayoutAdaptor","d3","dispatch","d3layout","behavior","d3event","timer","d3Context","subject","version","isD3V3","d3v3","d3v4","NodeWrapper","leaf","Vert","LongestCommonSubsequence","mf","findMatch","tr","mr","reversed","getSequence","GridRouter","originalnodes","accessor","groupPadding","getBounds","getChildren","cols","getGridLines","rows","ports","backToFront","getDepth","colMids","midPoints","rowMids","rowx","rowX","coly","colY","hlines","vlines","lines","verts","li","intersect","isHoriz","delta","avg","columns","ls","overlapping","col","splice","depth","mids","findLineage","lineage","findAncestorPathBetween","aa","ba","commonAncestor","lineages","siblingObstacles","lineageLookup","obstacles","getSegmentSets","routes","vsegments","ei","edgeid","sdx","vsegmentsets","segmentset","segments","nudgeSegs","leftOf","s2","e1","lind","rind","nudgeSegments","ss","openCount","routeEdges","nudgeGap","routePaths","order","orderEdges","makeSegments","unreverseEdges","segment","angleBetween2Lines","line1","line2","angle1","angle2","diff","PI","getOrder","pairs","edgeOrder","lcs","copyPoint","isStraight","obstacleLookup","passableEdges","pathPoints","getRoutePath","cornerradius","arrowwidth","arrowheight","routepath","arrowpath","angle","arrowtip","arrowcorner1","arrowcorner2","Link3D","actualLength","Node3D","Layout3D","idealLinkLength","useJaccardLinkLengths","dims","linkLength","LinkAccessor","descent","margin","groupMargin","routerNode","gridRouterNodes","gridrouter_1","pgLayout","cola","powerGraph","grouppadding","sourceInd","__export","require$$0","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","LABELS","renderedLength","gzipLength","brotliLength","NODE_MODULES","Tooltip","visible","importedByCache","sizeProperty","availableSizeProperties","useRef","setStyle","useState","content","useMemo","uid","html","sizeProp","formatBytes","has","Set","handleMouseMove","mouseCoords","marginX","marginY","boundingRect","getBoundingClientRect","innerWidth","innerHeight","updatePosition","pageX","pageY","useEffect","Network","onNodeHover","evt","stopPropagation","Chart","importedCache","showTooltip","setShowTooltip","tooltipNode","setTooltipNode","handleMouseOut","SideBar","setSizeProperty","handleChange","Main","origNodes","origLinks","gzip","brotli","getAvailableSizeOptions","time","maxLines","values","valueof","d3max","scaleSqrt","timeEnd","entries","radius","nodesCache","webcola","adaptor","pageBounds","realGraphNodes","topLeft","tlIndex","bottomRight","brIndex"],"mappings":"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"}